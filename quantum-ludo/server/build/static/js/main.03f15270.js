/*! For license information please see main.03f15270.js.LICENSE.txt */
(()=>{"use strict";var e={4:(e,t,n)=>{var r=n(853),o=n(43),a=n(950);function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function s(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function d(e){if(s(e)!==e)throw Error(l(188))}function f(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=f(e)))return t;e=e.sibling}return null}var p=Object.assign,h=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),x=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),E=Symbol.for("react.lazy");Symbol.for("react.scope");var N=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var T=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var _=Symbol.iterator;function P(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=_&&e[_]||e["@@iterator"])?e:null}var A=Symbol.for("react.client.reference");function R(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===A?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case y:return"Fragment";case b:return"Profiler";case v:return"StrictMode";case S:return"Suspense";case C:return"SuspenseList";case N:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case g:return"Portal";case x:return e.displayName||"Context";case k:return(e._context.displayName||"Context")+".Consumer";case w:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case j:return null!==(t=e.displayName||null)?t:R(e.type)||"Memo";case E:t=e._payload,e=e._init;try{return R(e(t))}catch(n){}}return null}var O=Array.isArray,I=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z={pending:!1,data:null,method:null,action:null},M=[],F=-1;function D(e){return{current:e}}function U(e){0>F||(e.current=M[F],M[F]=null,F--)}function B(e,t){F++,M[F]=e.current,e.current=t}var H,W,q=D(null),V=D(null),$=D(null),K=D(null);function Q(e,t){switch(B($,t),B(V,e),B(q,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?yd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=vd(t=yd(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}U(q),B(q,e)}function J(){U(q),U(V),U($)}function Y(e){null!==e.memoizedState&&B(K,e);var t=q.current,n=vd(t,e.type);t!==n&&(B(V,e),B(q,n))}function G(e){V.current===e&&(U(q),U(V)),K.current===e&&(U(K),df._currentValue=z)}function X(e){if(void 0===H)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);H=t&&t[1]||"",W=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+H+e+W}var Z=!1;function ee(e,t){if(!e||Z)return"";Z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(o){var r=o}Reflect.construct(e,[],n)}else{try{n.call()}catch(a){r=a}e.call(n.prototype)}}else{try{throw Error()}catch(l){r=l}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(i){if(i&&r&&"string"===typeof i.stack)return[i.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=r.DetermineComponentFrameRoot(),l=a[0],i=a[1];if(l&&i){var s=l.split("\n"),c=i.split("\n");for(o=r=0;r<s.length&&!s[r].includes("DetermineComponentFrameRoot");)r++;for(;o<c.length&&!c[o].includes("DetermineComponentFrameRoot");)o++;if(r===s.length||o===c.length)for(r=s.length-1,o=c.length-1;1<=r&&0<=o&&s[r]!==c[o];)o--;for(;1<=r&&0<=o;r--,o--)if(s[r]!==c[o]){if(1!==r||1!==o)do{if(r--,0>--o||s[r]!==c[o]){var u="\n"+s[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=o);break}}}finally{Z=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?X(n):""}function te(e,t){switch(e.tag){case 26:case 27:case 5:return X(e.type);case 16:return X("Lazy");case 13:return e.child!==t&&null!==t?X("Suspense Fallback"):X("Suspense");case 19:return X("SuspenseList");case 0:case 15:return ee(e.type,!1);case 11:return ee(e.type.render,!1);case 1:return ee(e.type,!0);case 31:return X("Activity");default:return""}}function ne(e){try{var t="",n=null;do{t+=te(e,n),n=e,e=e.return}while(e);return t}catch(r){return"\nError generating stack: "+r.message+"\n"+r.stack}}var re=Object.prototype.hasOwnProperty,oe=r.unstable_scheduleCallback,ae=r.unstable_cancelCallback,le=r.unstable_shouldYield,ie=r.unstable_requestPaint,se=r.unstable_now,ce=r.unstable_getCurrentPriorityLevel,ue=r.unstable_ImmediatePriority,de=r.unstable_UserBlockingPriority,fe=r.unstable_NormalPriority,pe=r.unstable_LowPriority,he=r.unstable_IdlePriority,me=r.log,ge=r.unstable_setDisableYieldValue,ye=null,ve=null;function be(e){if("function"===typeof me&&ge(e),ve&&"function"===typeof ve.setStrictMode)try{ve.setStrictMode(ye,e)}catch(t){}}var ke=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(xe(e)/we|0)|0},xe=Math.log,we=Math.LN2;var Se=256,Ce=262144,je=4194304;function Ee(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ne(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var o=0,a=e.suspendedLanes,l=e.pingedLanes;e=e.warmLanes;var i=134217727&r;return 0!==i?0!==(r=i&~a)?o=Ee(r):0!==(l&=i)?o=Ee(l):n||0!==(n=i&~e)&&(o=Ee(n)):0!==(i=r&~a)?o=Ee(i):0!==l?o=Ee(l):n||0!==(n=r&~e)&&(o=Ee(n)),0===o?0:0!==t&&t!==o&&0===(t&a)&&((a=o&-o)>=(n=t&-t)||32===a&&0!==(4194048&n))?t:o}function Te(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function _e(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Pe(){var e=je;return 0===(62914560&(je<<=1))&&(je=4194304),e}function Ae(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Re(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Oe(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-ke(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|261930&n}function Ie(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ke(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}function Le(e,t){var n=t&-t;return 0!==((n=0!==(42&n)?1:ze(n))&(e.suspendedLanes|t))?0:n}function ze(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Me(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Fe(){var e=L.p;return 0!==e?e:void 0===(e=window.event)?32:Nf(e.type)}function De(e,t){var n=L.p;try{return L.p=e,t()}finally{L.p=n}}var Ue=Math.random().toString(36).slice(2),Be="__reactFiber$"+Ue,He="__reactProps$"+Ue,We="__reactContainer$"+Ue,qe="__reactEvents$"+Ue,Ve="__reactListeners$"+Ue,$e="__reactHandles$"+Ue,Ke="__reactResources$"+Ue,Qe="__reactMarker$"+Ue;function Je(e){delete e[Be],delete e[He],delete e[qe],delete e[Ve],delete e[$e]}function Ye(e){var t=e[Be];if(t)return t;for(var n=e.parentNode;n;){if(t=n[We]||n[Be]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=zd(e);null!==e;){if(n=e[Be])return n;e=zd(e)}return t}n=(e=n).parentNode}return null}function Ge(e){if(e=e[Be]||e[We]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function Xe(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(l(33))}function Ze(e){var t=e[Ke];return t||(t=e[Ke]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function et(e){e[Qe]=!0}var tt=new Set,nt={};function rt(e,t){ot(e,t),ot(e+"Capture",t)}function ot(e,t){for(nt[e]=t,e=0;e<t.length;e++)tt.add(t[e])}var at=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),lt={},it={};function st(e,t,n){if(o=t,re.call(it,o)||!re.call(lt,o)&&(at.test(o)?it[o]=!0:(lt[o]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var o}function ct(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function ut(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function dt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ft(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function pt(e){if(!e._valueTracker){var t=ft(e)?"checked":"value";e._valueTracker=function(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var o=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){n=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function ht(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ft(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function mt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var gt=/[\n"\\]/g;function yt(e){return e.replace(gt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function vt(e,t,n,r,o,a,l,i){e.name="",null!=l&&"function"!==typeof l&&"symbol"!==typeof l&&"boolean"!==typeof l?e.type=l:e.removeAttribute("type"),null!=t?"number"===l?(0===t&&""===e.value||e.value!=t)&&(e.value=""+dt(t)):e.value!==""+dt(t)&&(e.value=""+dt(t)):"submit"!==l&&"reset"!==l||e.removeAttribute("value"),null!=t?kt(e,l,dt(t)):null!=n?kt(e,l,dt(n)):null!=r&&e.removeAttribute("value"),null==o&&null!=a&&(e.defaultChecked=!!a),null!=o&&(e.checked=o&&"function"!==typeof o&&"symbol"!==typeof o),null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i?e.name=""+dt(i):e.removeAttribute("name")}function bt(e,t,n,r,o,a,l,i){if(null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(e.type=a),null!=t||null!=n){if(!("submit"!==a&&"reset"!==a||void 0!==t&&null!==t))return void pt(e);n=null!=n?""+dt(n):"",t=null!=t?""+dt(t):n,i||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:o)&&"symbol"!==typeof r&&!!r,e.checked=i?e.checked:!!r,e.defaultChecked=!!r,null!=l&&"function"!==typeof l&&"symbol"!==typeof l&&"boolean"!==typeof l&&(e.name=l),pt(e)}function kt(e,t,n){"number"===t&&mt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function xt(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+dt(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function wt(e,t,n){null==t||((t=""+dt(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+dt(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function St(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(l(92));if(O(r)){if(1<r.length)throw Error(l(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=dt(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r),pt(e)}function Ct(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var jt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Et(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||jt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Nt(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(l(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var o in t)r=t[o],t.hasOwnProperty(o)&&n[o]!==r&&Et(e,o,r)}else for(var a in t)t.hasOwnProperty(a)&&Et(e,a,t[a])}function Tt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _t=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Pt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function At(e){return Pt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Rt(){}var Ot=null;function It(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Lt=null,zt=null;function Mt(e){var t=Ge(e);if(t&&(e=t.stateNode)){var n=e[He]||null;e:switch(e=t.stateNode,t.type){case"input":if(vt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+yt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=r[He]||null;if(!o)throw Error(l(90));vt(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&ht(r)}break e;case"textarea":wt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&xt(e,!!n.multiple,t,!1)}}}var Ft=!1;function Dt(e,t,n){if(Ft)return e(t,n);Ft=!0;try{return e(t)}finally{if(Ft=!1,(null!==Lt||null!==zt)&&(Zc(),Lt&&(t=Lt,e=zt,zt=Lt=null,Mt(t),e)))for(t=0;t<e.length;t++)Mt(e[t])}}function Ut(e,t){var n=e.stateNode;if(null===n)return null;var r=n[He]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(l(231,t,typeof n));return n}var Bt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Ht=!1;if(Bt)try{var Wt={};Object.defineProperty(Wt,"passive",{get:function(){Ht=!0}}),window.addEventListener("test",Wt,Wt),window.removeEventListener("test",Wt,Wt)}catch(Xf){Ht=!1}var qt=null,Vt=null,$t=null;function Kt(){if($t)return $t;var e,t,n=Vt,r=n.length,o="value"in qt?qt.value:qt.textContent,a=o.length;for(e=0;e<r&&n[e]===o[e];e++);var l=r-e;for(t=1;t<=l&&n[r-t]===o[a-t];t++);return $t=o.slice(e,1<t?1-t:void 0)}function Qt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Jt(){return!0}function Yt(){return!1}function Gt(e){function t(t,n,r,o,a){for(var l in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(l)&&(t=e[l],this[l]=t?t(o):o[l]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?Jt:Yt,this.isPropagationStopped=Yt,this}return p(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Jt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Jt)},persist:function(){},isPersistent:Jt}),t}var Xt,Zt,en,tn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nn=Gt(tn),rn=p({},tn,{view:0,detail:0}),on=Gt(rn),an=p({},rn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==en&&(en&&"mousemove"===e.type?(Xt=e.screenX-en.screenX,Zt=e.screenY-en.screenY):Zt=Xt=0,en=e),Xt)},movementY:function(e){return"movementY"in e?e.movementY:Zt}}),ln=Gt(an),sn=Gt(p({},an,{dataTransfer:0})),cn=Gt(p({},rn,{relatedTarget:0})),un=Gt(p({},tn,{animationName:0,elapsedTime:0,pseudoElement:0})),dn=Gt(p({},tn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),fn=Gt(p({},tn,{data:0})),pn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=mn[e])&&!!t[e]}function yn(){return gn}var vn=Gt(p({},rn,{key:function(e){if(e.key){var t=pn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Qt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?hn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yn,charCode:function(e){return"keypress"===e.type?Qt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Qt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),bn=Gt(p({},an,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),kn=Gt(p({},rn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yn})),xn=Gt(p({},tn,{propertyName:0,elapsedTime:0,pseudoElement:0})),wn=Gt(p({},an,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Sn=Gt(p({},tn,{newState:0,oldState:0})),Cn=[9,13,27,32],jn=Bt&&"CompositionEvent"in window,En=null;Bt&&"documentMode"in document&&(En=document.documentMode);var Nn=Bt&&"TextEvent"in window&&!En,Tn=Bt&&(!jn||En&&8<En&&11>=En),_n=String.fromCharCode(32),Pn=!1;function An(e,t){switch(e){case"keyup":return-1!==Cn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var On=!1;var In={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ln(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!In[e.type]:"textarea"===t}function zn(e,t,n,r){Lt?zt?zt.push(r):zt=[r]:Lt=r,0<(t=rd(t,"onChange")).length&&(n=new nn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Mn=null,Fn=null;function Dn(e){Ju(e,0)}function Un(e){if(ht(Xe(e)))return e}function Bn(e,t){if("change"===e)return t}var Hn=!1;if(Bt){var Wn;if(Bt){var qn="oninput"in document;if(!qn){var Vn=document.createElement("div");Vn.setAttribute("oninput","return;"),qn="function"===typeof Vn.oninput}Wn=qn}else Wn=!1;Hn=Wn&&(!document.documentMode||9<document.documentMode)}function $n(){Mn&&(Mn.detachEvent("onpropertychange",Kn),Fn=Mn=null)}function Kn(e){if("value"===e.propertyName&&Un(Fn)){var t=[];zn(t,Fn,e,It(e)),Dt(Dn,t)}}function Qn(e,t,n){"focusin"===e?($n(),Fn=n,(Mn=t).attachEvent("onpropertychange",Kn)):"focusout"===e&&$n()}function Jn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Un(Fn)}function Yn(e,t){if("click"===e)return Un(t)}function Gn(e,t){if("input"===e||"change"===e)return Un(t)}var Xn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Zn(e,t){if(Xn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!re.call(t,o)||!Xn(e[o],t[o]))return!1}return!0}function er(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function tr(e,t){var n,r=er(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=er(r)}}function nr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?nr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function rr(e){for(var t=mt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=mt((e=t.contentWindow).document)}return t}function or(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var ar=Bt&&"documentMode"in document&&11>=document.documentMode,lr=null,ir=null,sr=null,cr=!1;function ur(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;cr||null==lr||lr!==mt(r)||("selectionStart"in(r=lr)&&or(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},sr&&Zn(sr,r)||(sr=r,0<(r=rd(ir,"onSelect")).length&&(t=new nn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=lr)))}function dr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var fr={animationend:dr("Animation","AnimationEnd"),animationiteration:dr("Animation","AnimationIteration"),animationstart:dr("Animation","AnimationStart"),transitionrun:dr("Transition","TransitionRun"),transitionstart:dr("Transition","TransitionStart"),transitioncancel:dr("Transition","TransitionCancel"),transitionend:dr("Transition","TransitionEnd")},pr={},hr={};function mr(e){if(pr[e])return pr[e];if(!fr[e])return e;var t,n=fr[e];for(t in n)if(n.hasOwnProperty(t)&&t in hr)return pr[e]=n[t];return e}Bt&&(hr=document.createElement("div").style,"AnimationEvent"in window||(delete fr.animationend.animation,delete fr.animationiteration.animation,delete fr.animationstart.animation),"TransitionEvent"in window||delete fr.transitionend.transition);var gr=mr("animationend"),yr=mr("animationiteration"),vr=mr("animationstart"),br=mr("transitionrun"),kr=mr("transitionstart"),xr=mr("transitioncancel"),wr=mr("transitionend"),Sr=new Map,Cr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jr(e,t){Sr.set(e,t),rt(t,[e])}Cr.push("scrollEnd");var Er="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},Nr=[],Tr=0,_r=0;function Pr(){for(var e=Tr,t=_r=Tr=0;t<e;){var n=Nr[t];Nr[t++]=null;var r=Nr[t];Nr[t++]=null;var o=Nr[t];Nr[t++]=null;var a=Nr[t];if(Nr[t++]=null,null!==r&&null!==o){var l=r.pending;null===l?o.next=o:(o.next=l.next,l.next=o),r.pending=o}0!==a&&Ir(n,o,a)}}function Ar(e,t,n,r){Nr[Tr++]=e,Nr[Tr++]=t,Nr[Tr++]=n,Nr[Tr++]=r,_r|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Rr(e,t,n,r){return Ar(e,t,n,r),Lr(e)}function Or(e,t){return Ar(e,null,null,t),Lr(e)}function Ir(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var o=!1,a=e.return;null!==a;)a.childLanes|=n,null!==(r=a.alternate)&&(r.childLanes|=n),22===a.tag&&(null===(e=a.stateNode)||1&e._visibility||(o=!0)),e=a,a=a.return;return 3===e.tag?(a=e.stateNode,o&&null!==t&&(o=31-ke(n),null===(r=(e=a.hiddenUpdates)[o])?e[o]=[t]:r.push(t),t.lane=536870912|n),a):null}function Lr(e){if(50<qc)throw qc=0,Vc=null,Error(l(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var zr={};function Mr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fr(e,t,n,r){return new Mr(e,t,n,r)}function Dr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ur(e,t){var n=e.alternate;return null===n?((n=Fr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Br(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Hr(e,t,n,r,o,a){var i=0;if(r=e,"function"===typeof e)Dr(e)&&(i=1);else if("string"===typeof e)i=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,q.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case N:return(e=Fr(31,n,t,o)).elementType=N,e.lanes=a,e;case y:return Wr(n.children,o,a,t);case v:i=8,o|=24;break;case b:return(e=Fr(12,n,t,2|o)).elementType=b,e.lanes=a,e;case S:return(e=Fr(13,n,t,o)).elementType=S,e.lanes=a,e;case C:return(e=Fr(19,n,t,o)).elementType=C,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case x:i=10;break e;case k:i=9;break e;case w:i=11;break e;case j:i=14;break e;case E:i=16,r=null;break e}i=29,n=Error(l(130,null===e?"null":typeof e,"")),r=null}return(t=Fr(i,n,t,o)).elementType=e,t.type=r,t.lanes=a,t}function Wr(e,t,n,r){return(e=Fr(7,e,r,t)).lanes=n,e}function qr(e,t,n){return(e=Fr(6,e,null,t)).lanes=n,e}function Vr(e){var t=Fr(18,null,null,0);return t.stateNode=e,t}function $r(e,t,n){return(t=Fr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Kr=new WeakMap;function Qr(e,t){if("object"===typeof e&&null!==e){var n=Kr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:ne(t)},Kr.set(e,t),t)}return{value:e,source:t,stack:ne(t)}}var Jr=[],Yr=0,Gr=null,Xr=0,Zr=[],eo=0,to=null,no=1,ro="";function oo(e,t){Jr[Yr++]=Xr,Jr[Yr++]=Gr,Gr=e,Xr=t}function ao(e,t,n){Zr[eo++]=no,Zr[eo++]=ro,Zr[eo++]=to,to=e;var r=no;e=ro;var o=32-ke(r)-1;r&=~(1<<o),n+=1;var a=32-ke(t)+o;if(30<a){var l=o-o%5;a=(r&(1<<l)-1).toString(32),r>>=l,o-=l,no=1<<32-ke(t)+o|n<<o|r,ro=a+e}else no=1<<a|n<<o|r,ro=e}function lo(e){null!==e.return&&(oo(e,1),ao(e,1,0))}function io(e){for(;e===Gr;)Gr=Jr[--Yr],Jr[Yr]=null,Xr=Jr[--Yr],Jr[Yr]=null;for(;e===to;)to=Zr[--eo],Zr[eo]=null,ro=Zr[--eo],Zr[eo]=null,no=Zr[--eo],Zr[eo]=null}function so(e,t){Zr[eo++]=no,Zr[eo++]=ro,Zr[eo++]=to,no=t.id,ro=t.overflow,to=e}var co=null,uo=null,fo=!1,po=null,ho=!1,mo=Error(l(519));function go(e){throw wo(Qr(Error(l(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),mo}function yo(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Be]=e,t[He]=r,n){case"dialog":Yu("cancel",t),Yu("close",t);break;case"iframe":case"object":case"embed":Yu("load",t);break;case"video":case"audio":for(n=0;n<Ku.length;n++)Yu(Ku[n],t);break;case"source":Yu("error",t);break;case"img":case"image":case"link":Yu("error",t),Yu("load",t);break;case"details":Yu("toggle",t);break;case"input":Yu("invalid",t),bt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Yu("invalid",t);break;case"textarea":Yu("invalid",t),St(t,r.value,r.defaultValue,r.children)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||cd(t.textContent,n)?(null!=r.popover&&(Yu("beforetoggle",t),Yu("toggle",t)),null!=r.onScroll&&Yu("scroll",t),null!=r.onScrollEnd&&Yu("scrollend",t),null!=r.onClick&&(t.onclick=Rt),t=!0):t=!1,t||go(e,!0)}function vo(e){for(co=e.return;co;)switch(co.tag){case 5:case 31:case 13:return void(ho=!1);case 27:case 3:return void(ho=!0);default:co=co.return}}function bo(e){if(e!==co)return!1;if(!fo)return vo(e),fo=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||bd(e.type,e.memoizedProps)),t=!t),t&&uo&&go(e),vo(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(l(317));uo=Ld(e)}else if(31===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(l(317));uo=Ld(e)}else 27===n?(n=uo,Ed(e.type)?(e=Id,Id=null,uo=e):uo=n):uo=co?Od(e.stateNode.nextSibling):null;return!0}function ko(){uo=co=null,fo=!1}function xo(){var e=po;return null!==e&&(null===Pc?Pc=e:Pc.push.apply(Pc,e),po=null),e}function wo(e){null===po?po=[e]:po.push(e)}var So=D(null),Co=null,jo=null;function Eo(e,t,n){B(So,t._currentValue),t._currentValue=n}function No(e){e._currentValue=So.current,U(So)}function To(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function _o(e,t,n,r){var o=e.child;for(null!==o&&(o.return=e);null!==o;){var a=o.dependencies;if(null!==a){var i=o.child;a=a.firstContext;e:for(;null!==a;){var s=a;a=o;for(var c=0;c<t.length;c++)if(s.context===t[c]){a.lanes|=n,null!==(s=a.alternate)&&(s.lanes|=n),To(a.return,n,e),r||(i=null);break e}a=s.next}}else if(18===o.tag){if(null===(i=o.return))throw Error(l(341));i.lanes|=n,null!==(a=i.alternate)&&(a.lanes|=n),To(i,n,e),i=null}else i=o.child;if(null!==i)i.return=o;else for(i=o;null!==i;){if(i===e){i=null;break}if(null!==(o=i.sibling)){o.return=i.return,i=o;break}i=i.return}o=i}}function Po(e,t,n,r){e=null;for(var o=t,a=!1;null!==o;){if(!a)if(0!==(524288&o.flags))a=!0;else if(0!==(262144&o.flags))break;if(10===o.tag){var i=o.alternate;if(null===i)throw Error(l(387));if(null!==(i=i.memoizedProps)){var s=o.type;Xn(o.pendingProps.value,i.value)||(null!==e?e.push(s):e=[s])}}else if(o===K.current){if(null===(i=o.alternate))throw Error(l(387));i.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(null!==e?e.push(df):e=[df])}o=o.return}null!==e&&_o(t,e,n,r),t.flags|=262144}function Ao(e){for(e=e.firstContext;null!==e;){if(!Xn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ro(e){Co=e,jo=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Oo(e){return Lo(Co,e)}function Io(e,t){return null===Co&&Ro(e),Lo(e,t)}function Lo(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===jo){if(null===e)throw Error(l(308));jo=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else jo=jo.next=t;return n}var zo="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Mo=r.unstable_scheduleCallback,Fo=r.unstable_NormalPriority,Do={$$typeof:x,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Uo(){return{controller:new zo,data:new Map,refCount:0}}function Bo(e){e.refCount--,0===e.refCount&&Mo(Fo,function(){e.controller.abort()})}var Ho=null,Wo=0,qo=0,Vo=null;function $o(){if(0===--Wo&&null!==Ho){null!==Vo&&(Vo.status="fulfilled");var e=Ho;Ho=null,qo=0,Vo=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Ko=I.S;I.S=function(e,t){Oc=se(),"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Ho){var n=Ho=[];Wo=0,qo=Hu(),Vo={status:"pending",value:void 0,then:function(e){n.push(e)}}}Wo++,t.then($o,$o)}(0,t),null!==Ko&&Ko(e,t)};var Qo=D(null);function Jo(){var e=Qo.current;return null!==e?e:hc.pooledCache}function Yo(e,t){B(Qo,null===t?Qo.current:t.pool)}function Go(){var e=Jo();return null===e?null:{parent:Do._currentValue,pool:e}}var Xo=Error(l(460)),Zo=Error(l(474)),ea=Error(l(542)),ta={then:function(){}};function na(e){return"fulfilled"===(e=e.status)||"rejected"===e}function ra(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Rt,Rt),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw ia(e=t.reason),e;default:if("string"===typeof t.status)t.then(Rt,Rt);else{if(null!==(e=hc)&&100<e.shellSuspendCounter)throw Error(l(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw ia(e=t.reason),e}throw aa=t,Xo}}function oa(e){try{return(0,e._init)(e._payload)}catch(t){if(null!==t&&"object"===typeof t&&"function"===typeof t.then)throw aa=t,Xo;throw t}}var aa=null;function la(){if(null===aa)throw Error(l(459));var e=aa;return aa=null,e}function ia(e){if(e===Xo||e===ea)throw Error(l(483))}var sa=null,ca=0;function ua(e){var t=ca;return ca+=1,null===sa&&(sa=[]),ra(sa,e,t)}function da(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function fa(e,t){if(t.$$typeof===h)throw Error(l(525));throw e=Object.prototype.toString.call(t),Error(l(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function pa(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function o(e,t){return(e=Ur(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function i(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=qr(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===y?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===E&&oa(a)===t.type)?(da(t=o(t,n.props),n),t.return=e,t):(da(t=Hr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=$r(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function d(e,t,n,r,a){return null===t||7!==t.tag?((t=Wr(n,e.mode,r,a)).return=e,t):((t=o(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=qr(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case m:return da(n=Hr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case g:return(t=$r(t,e.mode,n)).return=e,t;case E:return f(e,t=oa(t),n)}if(O(t)||P(t))return(t=Wr(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return f(e,ua(t),n);if(t.$$typeof===x)return f(e,Io(e,t),n);fa(e,t)}return null}function p(e,t,n,r){var o=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==o?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case m:return n.key===o?c(e,t,n,r):null;case g:return n.key===o?u(e,t,n,r):null;case E:return p(e,t,n=oa(n),r)}if(O(n)||P(n))return null!==o?null:d(e,t,n,r,null);if("function"===typeof n.then)return p(e,t,ua(n),r);if(n.$$typeof===x)return p(e,t,Io(e,n),r);fa(e,n)}return null}function h(e,t,n,r,o){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return s(t,e=e.get(n)||null,""+r,o);if("object"===typeof r&&null!==r){switch(r.$$typeof){case m:return c(t,e=e.get(null===r.key?n:r.key)||null,r,o);case g:return u(t,e=e.get(null===r.key?n:r.key)||null,r,o);case E:return h(e,t,n,r=oa(r),o)}if(O(r)||P(r))return d(t,e=e.get(n)||null,r,o,null);if("function"===typeof r.then)return h(e,t,n,ua(r),o);if(r.$$typeof===x)return h(e,t,n,Io(t,r),o);fa(t,r)}return null}function v(s,c,u,d){if("object"===typeof u&&null!==u&&u.type===y&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case m:e:{for(var b=u.key;null!==c;){if(c.key===b){if((b=u.type)===y){if(7===c.tag){n(s,c.sibling),(d=o(c,u.props.children)).return=s,s=d;break e}}else if(c.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===E&&oa(b)===c.type){n(s,c.sibling),da(d=o(c,u.props),u),d.return=s,s=d;break e}n(s,c);break}t(s,c),c=c.sibling}u.type===y?((d=Wr(u.props.children,s.mode,d,u.key)).return=s,s=d):(da(d=Hr(u.type,u.key,u.props,null,s.mode,d),u),d.return=s,s=d)}return i(s);case g:e:{for(b=u.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(s,c.sibling),(d=o(c,u.children||[])).return=s,s=d;break e}n(s,c);break}t(s,c),c=c.sibling}(d=$r(u,s.mode,d)).return=s,s=d}return i(s);case E:return v(s,c,u=oa(u),d)}if(O(u))return function(o,l,i,s){for(var c=null,u=null,d=l,m=l=0,g=null;null!==d&&m<i.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var y=p(o,d,i[m],s);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(o,d),l=a(y,l,m),null===u?c=y:u.sibling=y,u=y,d=g}if(m===i.length)return n(o,d),fo&&oo(o,m),c;if(null===d){for(;m<i.length;m++)null!==(d=f(o,i[m],s))&&(l=a(d,l,m),null===u?c=d:u.sibling=d,u=d);return fo&&oo(o,m),c}for(d=r(d);m<i.length;m++)null!==(g=h(d,o,m,i[m],s))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),l=a(g,l,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(o,e)}),fo&&oo(o,m),c}(s,c,u,d);if(P(u)){if("function"!==typeof(b=P(u)))throw Error(l(150));return function(o,i,s,c){if(null==s)throw Error(l(151));for(var u=null,d=null,m=i,g=i=0,y=null,v=s.next();null!==m&&!v.done;g++,v=s.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=p(o,m,v.value,c);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(o,m),i=a(b,i,g),null===d?u=b:d.sibling=b,d=b,m=y}if(v.done)return n(o,m),fo&&oo(o,g),u;if(null===m){for(;!v.done;g++,v=s.next())null!==(v=f(o,v.value,c))&&(i=a(v,i,g),null===d?u=v:d.sibling=v,d=v);return fo&&oo(o,g),u}for(m=r(m);!v.done;g++,v=s.next())null!==(v=h(m,o,g,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),i=a(v,i,g),null===d?u=v:d.sibling=v,d=v);return e&&m.forEach(function(e){return t(o,e)}),fo&&oo(o,g),u}(s,c,u=b.call(u),d)}if("function"===typeof u.then)return v(s,c,ua(u),d);if(u.$$typeof===x)return v(s,c,Io(s,u),d);fa(s,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(s,c.sibling),(d=o(c,u)).return=s,s=d):(n(s,c),(d=qr(u,s.mode,d)).return=s,s=d),i(s)):n(s,c)}return function(e,t,n,r){try{ca=0;var o=v(e,t,n,r);return sa=null,o}catch(l){if(l===Xo||l===ea)throw l;var a=Fr(29,l,null,e.mode);return a.lanes=r,a.return=e,a}}}var ha=pa(!0),ma=pa(!1),ga=!1;function ya(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function va(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ba(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ka(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&pc)){var o=r.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),r.pending=t,t=Lr(e),Ir(e,null,n),t}return Ar(e,r,t,n),Lr(e)}function xa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ie(e,n)}}function wa(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var l={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===a?o=a=l:a=a.next=l,n=n.next}while(null!==n);null===a?o=a=t:a=a.next=t}else o=a=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Sa=!1;function Ca(){if(Sa){if(null!==Vo)throw Vo}}function ja(e,t,n,r){Sa=!1;var o=e.updateQueue;ga=!1;var a=o.firstBaseUpdate,l=o.lastBaseUpdate,i=o.shared.pending;if(null!==i){o.shared.pending=null;var s=i,c=s.next;s.next=null,null===l?a=c:l.next=c,l=s;var u=e.alternate;null!==u&&((i=(u=u.updateQueue).lastBaseUpdate)!==l&&(null===i?u.firstBaseUpdate=c:i.next=c,u.lastBaseUpdate=s))}if(null!==a){var d=o.baseState;for(l=0,u=c=s=null,i=a;;){var f=-536870913&i.lane,h=f!==i.lane;if(h?(gc&f)===f:(r&f)===f){0!==f&&f===qo&&(Sa=!0),null!==u&&(u=u.next={lane:0,tag:i.tag,payload:i.payload,callback:null,next:null});e:{var m=e,g=i;f=t;var y=n;switch(g.tag){case 1:if("function"===typeof(m=g.payload)){d=m.call(y,d,f);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(f="function"===typeof(m=g.payload)?m.call(y,d,f):m)||void 0===f)break e;d=p({},d,f);break e;case 2:ga=!0}}null!==(f=i.callback)&&(e.flags|=64,h&&(e.flags|=8192),null===(h=o.callbacks)?o.callbacks=[f]:h.push(f))}else h={lane:f,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===u?(c=u=h,s=d):u=u.next=h,l|=f;if(null===(i=i.next)){if(null===(i=o.shared.pending))break;i=(h=i).next,h.next=null,o.lastBaseUpdate=h,o.shared.pending=null}}null===u&&(s=d),o.baseState=s,o.firstBaseUpdate=c,o.lastBaseUpdate=u,null===a&&(o.shared.lanes=0),Cc|=l,e.lanes=l,e.memoizedState=d}}function Ea(e,t){if("function"!==typeof e)throw Error(l(191,e));e.call(t)}function Na(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)Ea(n[e],t)}var Ta=D(null),_a=D(0);function Pa(e,t){B(_a,e=wc),B(Ta,t),wc=e|t.baseLanes}function Aa(){B(_a,wc),B(Ta,Ta.current)}function Ra(){wc=_a.current,U(Ta),U(_a)}var Oa=D(null),Ia=null;function La(e){var t=e.alternate;B(Ua,1&Ua.current),B(Oa,e),null===Ia&&(null===t||null!==Ta.current||null!==t.memoizedState)&&(Ia=e)}function za(e){B(Ua,Ua.current),B(Oa,e),null===Ia&&(Ia=e)}function Ma(e){22===e.tag?(B(Ua,Ua.current),B(Oa,e),null===Ia&&(Ia=e)):Fa()}function Fa(){B(Ua,Ua.current),B(Oa,Oa.current)}function Da(e){U(Oa),Ia===e&&(Ia=null),U(Ua)}var Ua=D(0);function Ba(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Ad(n)||Rd(n)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(0!==(128&t.flags))return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ha=0,Wa=null,qa=null,Va=null,$a=!1,Ka=!1,Qa=!1,Ja=0,Ya=0,Ga=null,Xa=0;function Za(){throw Error(l(321))}function el(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Xn(e[n],t[n]))return!1;return!0}function tl(e,t,n,r,o,a){return Ha=a,Wa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,I.H=null===e||null===e.memoizedState?gi:yi,Qa=!1,a=n(r,o),Qa=!1,Ka&&(a=rl(t,n,r,o)),nl(e),a}function nl(e){I.H=mi;var t=null!==qa&&null!==qa.next;if(Ha=0,Va=qa=Wa=null,$a=!1,Ya=0,Ga=null,t)throw Error(l(300));null===e||Oi||null!==(e=e.dependencies)&&Ao(e)&&(Oi=!0)}function rl(e,t,n,r){Wa=e;var o=0;do{if(Ka&&(Ga=null),Ya=0,Ka=!1,25<=o)throw Error(l(301));if(o+=1,Va=qa=null,null!=e.updateQueue){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,null!=a.memoCache&&(a.memoCache.index=0)}I.H=vi,a=t(n,r)}while(Ka);return a}function ol(){var e=I.H,t=e.useState()[0];return t="function"===typeof t.then?ul(t):t,e=e.useState()[0],(null!==qa?qa.memoizedState:null)!==e&&(Wa.flags|=1024),t}function al(){var e=0!==Ja;return Ja=0,e}function ll(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function il(e){if($a){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}$a=!1}Ha=0,Va=qa=Wa=null,Ka=!1,Ya=Ja=0,Ga=null}function sl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Va?Wa.memoizedState=Va=e:Va=Va.next=e,Va}function cl(){if(null===qa){var e=Wa.alternate;e=null!==e?e.memoizedState:null}else e=qa.next;var t=null===Va?Wa.memoizedState:Va.next;if(null!==t)Va=t,qa=e;else{if(null===e){if(null===Wa.alternate)throw Error(l(467));throw Error(l(310))}e={memoizedState:(qa=e).memoizedState,baseState:qa.baseState,baseQueue:qa.baseQueue,queue:qa.queue,next:null},null===Va?Wa.memoizedState=Va=e:Va=Va.next=e}return Va}function ul(e){var t=Ya;return Ya+=1,null===Ga&&(Ga=[]),e=ra(Ga,e,t),t=Wa,null===(null===Va?t.memoizedState:Va.next)&&(t=t.alternate,I.H=null===t||null===t.memoizedState?gi:yi),e}function dl(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return ul(e);if(e.$$typeof===x)return Oo(e)}throw Error(l(438,String(e)))}function fl(e){var t=null,n=Wa.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=Wa.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},Wa.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=T;return t.index++,n}function pl(e,t){return"function"===typeof t?t(e):t}function hl(e){return ml(cl(),qa,e)}function ml(e,t,n){var r=e.queue;if(null===r)throw Error(l(311));r.lastRenderedReducer=n;var o=e.baseQueue,a=r.pending;if(null!==a){if(null!==o){var i=o.next;o.next=a.next,a.next=i}t.baseQueue=o=a,r.pending=null}if(a=e.baseState,null===o)e.memoizedState=a;else{var s=i=null,c=null,u=t=o.next,d=!1;do{var f=-536870913&u.lane;if(f!==u.lane?(gc&f)===f:(Ha&f)===f){var p=u.revertLane;if(0===p)null!==c&&(c=c.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===qo&&(d=!0);else{if((Ha&p)===p){u=u.next,p===qo&&(d=!0);continue}f={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(s=c=f,i=a):c=c.next=f,Wa.lanes|=p,Cc|=p}f=u.action,Qa&&n(a,f),a=u.hasEagerState?u.eagerState:n(a,f)}else p={lane:f,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(s=c=p,i=a):c=c.next=p,Wa.lanes|=f,Cc|=f;u=u.next}while(null!==u&&u!==t);if(null===c?i=a:c.next=s,!Xn(a,e.memoizedState)&&(Oi=!0,d&&null!==(n=Vo)))throw n;e.memoizedState=a,e.baseState=i,e.baseQueue=c,r.lastRenderedState=a}return null===o&&(r.lanes=0),[e.memoizedState,r.dispatch]}function gl(e){var t=cl(),n=t.queue;if(null===n)throw Error(l(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,a=t.memoizedState;if(null!==o){n.pending=null;var i=o=o.next;do{a=e(a,i.action),i=i.next}while(i!==o);Xn(a,t.memoizedState)||(Oi=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function yl(e,t,n){var r=Wa,o=cl(),a=fo;if(a){if(void 0===n)throw Error(l(407));n=n()}else n=t();var i=!Xn((qa||o).memoizedState,n);if(i&&(o.memoizedState=n,Oi=!0),o=o.queue,Hl(kl.bind(null,r,o,e),[e]),o.getSnapshot!==t||i||null!==Va&&1&Va.memoizedState.tag){if(r.flags|=2048,Ml(9,{destroy:void 0},bl.bind(null,r,o,n,t),null),null===hc)throw Error(l(349));a||0!==(127&Ha)||vl(r,t,n)}return n}function vl(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Wa.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Wa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function bl(e,t,n,r){t.value=n,t.getSnapshot=r,xl(t)&&wl(e)}function kl(e,t,n){return n(function(){xl(t)&&wl(e)})}function xl(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Xn(e,n)}catch(r){return!0}}function wl(e){var t=Or(e,2);null!==t&&Qc(t,e,2)}function Sl(e){var t=sl();if("function"===typeof e){var n=e;if(e=n(),Qa){be(!0);try{n()}finally{be(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pl,lastRenderedState:e},t}function Cl(e,t,n,r){return e.baseState=n,ml(e,qa,"function"===typeof r?r:pl)}function jl(e,t,n,r,o){if(fi(e))throw Error(l(485));if(null!==(e=t.action)){var a={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){a.listeners.push(e)}};null!==I.T?n(!0):a.isTransition=!1,r(a),null===(n=t.pending)?(a.next=t.pending=a,El(t,a)):(a.next=n.next,t.pending=n.next=a)}}function El(e,t){var n=t.action,r=t.payload,o=e.state;if(t.isTransition){var a=I.T,l={};I.T=l;try{var i=n(o,r),s=I.S;null!==s&&s(l,i),Nl(e,t,i)}catch(c){_l(e,t,c)}finally{null!==a&&null!==l.types&&(a.types=l.types),I.T=a}}else try{Nl(e,t,a=n(o,r))}catch(u){_l(e,t,u)}}function Nl(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){Tl(e,t,n)},function(n){return _l(e,t,n)}):Tl(e,t,n)}function Tl(e,t,n){t.status="fulfilled",t.value=n,Pl(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,El(e,n)))}function _l(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,Pl(t),t=t.next}while(t!==r)}e.action=null}function Pl(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Al(e,t){return t}function Rl(e,t){if(fo){var n=hc.formState;if(null!==n){e:{var r=Wa;if(fo){if(uo){t:{for(var o=uo,a=ho;8!==o.nodeType;){if(!a){o=null;break t}if(null===(o=Od(o.nextSibling))){o=null;break t}}o="F!"===(a=o.data)||"F"===a?o:null}if(o){uo=Od(o.nextSibling),r="F!"===o.data;break e}}go(r)}r=!1}r&&(t=n[0])}}return(n=sl()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Al,lastRenderedState:t},n.queue=r,n=ci.bind(null,Wa,r),r.dispatch=n,r=Sl(!1),a=di.bind(null,Wa,!1,r.queue),o={state:t,dispatch:null,action:e,pending:null},(r=sl()).queue=o,n=jl.bind(null,Wa,o,a,n),o.dispatch=n,r.memoizedState=e,[t,n,!1]}function Ol(e){return Il(cl(),qa,e)}function Il(e,t,n){if(t=ml(e,t,Al)[0],e=hl(pl)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=ul(t)}catch(l){if(l===Xo)throw ea;throw l}else r=t;var o=(t=cl()).queue,a=o.dispatch;return n!==t.memoizedState&&(Wa.flags|=2048,Ml(9,{destroy:void 0},Ll.bind(null,o,n),null)),[r,a,e]}function Ll(e,t){e.action=t}function zl(e){var t=cl(),n=qa;if(null!==n)return Il(t,n,e);cl(),t=t.memoizedState;var r=(n=cl()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Ml(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=Wa.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Wa.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Fl(){return cl().memoizedState}function Dl(e,t,n,r){var o=sl();Wa.flags|=e,o.memoizedState=Ml(1|t,{destroy:void 0},n,void 0===r?null:r)}function Ul(e,t,n,r){var o=cl();r=void 0===r?null:r;var a=o.memoizedState.inst;null!==qa&&null!==r&&el(r,qa.memoizedState.deps)?o.memoizedState=Ml(t,a,n,r):(Wa.flags|=e,o.memoizedState=Ml(1|t,a,n,r))}function Bl(e,t){Dl(8390656,8,e,t)}function Hl(e,t){Ul(2048,8,e,t)}function Wl(e){var t=cl().memoizedState;return function(e){Wa.flags|=4;var t=Wa.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},Wa.updateQueue=t,t.events=[e];else{var n=t.events;null===n?t.events=[e]:n.push(e)}}({ref:t,nextImpl:e}),function(){if(0!==(2&pc))throw Error(l(440));return t.impl.apply(void 0,arguments)}}function ql(e,t){return Ul(4,2,e,t)}function Vl(e,t){return Ul(4,4,e,t)}function $l(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Kl(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Ul(4,4,$l.bind(null,t,e),n)}function Ql(){}function Jl(e,t){var n=cl();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&el(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Yl(e,t){var n=cl();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&el(t,r[1]))return r[0];if(r=e(),Qa){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r}function Gl(e,t,n){return void 0===n||0!==(1073741824&Ha)&&0===(261930&gc)?e.memoizedState=t:(e.memoizedState=n,e=Kc(),Wa.lanes|=e,Cc|=e,n)}function Xl(e,t,n,r){return Xn(n,t)?n:null!==Ta.current?(e=Gl(e,n,r),Xn(e,t)||(Oi=!0),e):0===(42&Ha)||0!==(1073741824&Ha)&&0===(261930&gc)?(Oi=!0,e.memoizedState=n):(e=Kc(),Wa.lanes|=e,Cc|=e,t)}function Zl(e,t,n,r,o){var a=L.p;L.p=0!==a&&8>a?a:8;var l=I.T,i={};I.T=i,di(e,!1,t,n);try{var s=o(),c=I.S;if(null!==c&&c(i,s),null!==s&&"object"===typeof s&&"function"===typeof s.then)ui(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(s,r),$c());else ui(e,t,r,$c())}catch(u){ui(e,t,{then:function(){},status:"rejected",reason:u},$c())}finally{L.p=a,null!==l&&null!==i.types&&(l.types=i.types),I.T=l}}function ei(){}function ti(e,t,n,r){if(5!==e.tag)throw Error(l(476));var o=ni(e).queue;Zl(e,o,t,z,null===n?ei:function(){return ri(e),n(r)})}function ni(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:z,baseState:z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pl,lastRenderedState:z},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pl,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function ri(e){var t=ni(e);null===t.next&&(t=e.alternate.memoizedState),ui(e,t.next.queue,{},$c())}function oi(){return Oo(df)}function ai(){return cl().memoizedState}function li(){return cl().memoizedState}function ii(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=$c(),r=ka(t,e=ba(n),n);return null!==r&&(Qc(r,t,n),xa(r,t,n)),t={cache:Uo()},void(e.payload=t)}t=t.return}}function si(e,t,n){var r=$c();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},fi(e)?pi(t,n):null!==(n=Rr(e,t,n,r))&&(Qc(n,e,r),hi(n,t,r))}function ci(e,t,n){ui(e,t,n,$c())}function ui(e,t,n,r){var o={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(fi(e))pi(t,o);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var l=t.lastRenderedState,i=a(l,n);if(o.hasEagerState=!0,o.eagerState=i,Xn(i,l))return Ar(e,t,o,0),null===hc&&Pr(),!1}catch(s){}if(null!==(n=Rr(e,t,o,r)))return Qc(n,e,r),hi(n,t,r),!0}return!1}function di(e,t,n,r){if(r={lane:2,revertLane:Hu(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},fi(e)){if(t)throw Error(l(479))}else null!==(t=Rr(e,n,r,2))&&Qc(t,e,2)}function fi(e){var t=e.alternate;return e===Wa||null!==t&&t===Wa}function pi(e,t){Ka=$a=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function hi(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ie(e,n)}}var mi={readContext:Oo,use:dl,useCallback:Za,useContext:Za,useEffect:Za,useImperativeHandle:Za,useLayoutEffect:Za,useInsertionEffect:Za,useMemo:Za,useReducer:Za,useRef:Za,useState:Za,useDebugValue:Za,useDeferredValue:Za,useTransition:Za,useSyncExternalStore:Za,useId:Za,useHostTransitionStatus:Za,useFormState:Za,useActionState:Za,useOptimistic:Za,useMemoCache:Za,useCacheRefresh:Za};mi.useEffectEvent=Za;var gi={readContext:Oo,use:dl,useCallback:function(e,t){return sl().memoizedState=[e,void 0===t?null:t],e},useContext:Oo,useEffect:Bl,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Dl(4194308,4,$l.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Dl(4194308,4,e,t)},useInsertionEffect:function(e,t){Dl(4,2,e,t)},useMemo:function(e,t){var n=sl();t=void 0===t?null:t;var r=e();if(Qa){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=sl();if(void 0!==n){var o=n(t);if(Qa){be(!0);try{n(t)}finally{be(!1)}}}else o=t;return r.memoizedState=r.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},r.queue=e,e=e.dispatch=si.bind(null,Wa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},sl().memoizedState=e},useState:function(e){var t=(e=Sl(e)).queue,n=ci.bind(null,Wa,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Ql,useDeferredValue:function(e,t){return Gl(sl(),e,t)},useTransition:function(){var e=Sl(!1);return e=Zl.bind(null,Wa,e.queue,!0,!1),sl().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=Wa,o=sl();if(fo){if(void 0===n)throw Error(l(407));n=n()}else{if(n=t(),null===hc)throw Error(l(349));0!==(127&gc)||vl(r,t,n)}o.memoizedState=n;var a={value:n,getSnapshot:t};return o.queue=a,Bl(kl.bind(null,r,a,e),[e]),r.flags|=2048,Ml(9,{destroy:void 0},bl.bind(null,r,a,n,t),null),n},useId:function(){var e=sl(),t=hc.identifierPrefix;if(fo){var n=ro;t="_"+t+"R_"+(n=(no&~(1<<32-ke(no)-1)).toString(32)+n),0<(n=Ja++)&&(t+="H"+n.toString(32)),t+="_"}else t="_"+t+"r_"+(n=Xa++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:oi,useFormState:Rl,useActionState:Rl,useOptimistic:function(e){var t=sl();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=di.bind(null,Wa,!0,n),n.dispatch=t,[e,t]},useMemoCache:fl,useCacheRefresh:function(){return sl().memoizedState=ii.bind(null,Wa)},useEffectEvent:function(e){var t=sl(),n={impl:e};return t.memoizedState=n,function(){if(0!==(2&pc))throw Error(l(440));return n.impl.apply(void 0,arguments)}}},yi={readContext:Oo,use:dl,useCallback:Jl,useContext:Oo,useEffect:Hl,useImperativeHandle:Kl,useInsertionEffect:ql,useLayoutEffect:Vl,useMemo:Yl,useReducer:hl,useRef:Fl,useState:function(){return hl(pl)},useDebugValue:Ql,useDeferredValue:function(e,t){return Xl(cl(),qa.memoizedState,e,t)},useTransition:function(){var e=hl(pl)[0],t=cl().memoizedState;return["boolean"===typeof e?e:ul(e),t]},useSyncExternalStore:yl,useId:ai,useHostTransitionStatus:oi,useFormState:Ol,useActionState:Ol,useOptimistic:function(e,t){return Cl(cl(),0,e,t)},useMemoCache:fl,useCacheRefresh:li};yi.useEffectEvent=Wl;var vi={readContext:Oo,use:dl,useCallback:Jl,useContext:Oo,useEffect:Hl,useImperativeHandle:Kl,useInsertionEffect:ql,useLayoutEffect:Vl,useMemo:Yl,useReducer:gl,useRef:Fl,useState:function(){return gl(pl)},useDebugValue:Ql,useDeferredValue:function(e,t){var n=cl();return null===qa?Gl(n,e,t):Xl(n,qa.memoizedState,e,t)},useTransition:function(){var e=gl(pl)[0],t=cl().memoizedState;return["boolean"===typeof e?e:ul(e),t]},useSyncExternalStore:yl,useId:ai,useHostTransitionStatus:oi,useFormState:zl,useActionState:zl,useOptimistic:function(e,t){var n=cl();return null!==qa?Cl(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:fl,useCacheRefresh:li};function bi(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:p({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}vi.useEffectEvent=Wl;var ki={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=$c(),o=ba(r);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=ka(e,o,r))&&(Qc(t,e,r),xa(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=$c(),o=ba(r);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=ka(e,o,r))&&(Qc(t,e,r),xa(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=$c(),r=ba(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=ka(e,r,n))&&(Qc(t,e,n),xa(t,e,n))}};function xi(e,t,n,r,o,a,l){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,l):!t.prototype||!t.prototype.isPureReactComponent||(!Zn(n,r)||!Zn(o,a))}function wi(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ki.enqueueReplaceState(t,t.state,null)}function Si(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var o in n===t&&(n=p({},n)),e)void 0===n[o]&&(n[o]=e[o]);return n}function Ci(e){Er(e)}function ji(e){console.error(e)}function Ei(e){Er(e)}function Ni(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Ti(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function _i(e,t,n){return(n=ba(n)).tag=3,n.payload={element:null},n.callback=function(){Ni(e,t)},n}function Pi(e){return(e=ba(e)).tag=3,e}function Ai(e,t,n,r){var o=n.type.getDerivedStateFromError;if("function"===typeof o){var a=r.value;e.payload=function(){return o(a)},e.callback=function(){Ti(t,n,r)}}var l=n.stateNode;null!==l&&"function"===typeof l.componentDidCatch&&(e.callback=function(){Ti(t,n,r),"function"!==typeof o&&(null===zc?zc=new Set([this]):zc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Ri=Error(l(461)),Oi=!1;function Ii(e,t,n,r){t.child=null===e?ma(t,null,n,r):ha(t,e.child,n,r)}function Li(e,t,n,r,o){n=n.render;var a=t.ref;if("ref"in r){var l={};for(var i in r)"ref"!==i&&(l[i]=r[i])}else l=r;return Ro(t),r=tl(e,t,n,l,a,o),i=al(),null===e||Oi?(fo&&i&&lo(t),t.flags|=1,Ii(e,t,r,o),t.child):(ll(e,t,o),os(e,t,o))}function zi(e,t,n,r,o){if(null===e){var a=n.type;return"function"!==typeof a||Dr(a)||void 0!==a.defaultProps||null!==n.compare?((e=Hr(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Mi(e,t,a,r,o))}if(a=e.child,!as(e,o)){var l=a.memoizedProps;if((n=null!==(n=n.compare)?n:Zn)(l,r)&&e.ref===t.ref)return os(e,t,o)}return t.flags|=1,(e=Ur(a,r)).ref=t.ref,e.return=t,t.child=e}function Mi(e,t,n,r,o){if(null!==e){var a=e.memoizedProps;if(Zn(a,r)&&e.ref===t.ref){if(Oi=!1,t.pendingProps=r=a,!as(e,o))return t.lanes=e.lanes,os(e,t,o);0!==(131072&e.flags)&&(Oi=!0)}}return qi(e,t,n,r,o)}function Fi(e,t,n,r){var o=r.children,a=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===r.mode){if(0!==(128&t.flags)){if(a=null!==a?a.baseLanes|n:n,null!==e){for(r=t.child=e.child,o=0;null!==r;)o=o|r.lanes|r.childLanes,r=r.sibling;r=o&~a}else r=0,t.child=null;return Ui(e,t,a,n,r)}if(0===(536870912&n))return r=t.lanes=536870912,Ui(e,t,null!==a?a.baseLanes|n:n,n,r);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Yo(0,null!==a?a.cachePool:null),null!==a?Pa(t,a):Aa(),Ma(t)}else null!==a?(Yo(0,a.cachePool),Pa(t,a),Fa(),t.memoizedState=null):(null!==e&&Yo(0,null),Aa(),Fa());return Ii(e,t,o,n),t.child}function Di(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Ui(e,t,n,r,o){var a=Jo();return a=null===a?null:{parent:Do._currentValue,pool:a},t.memoizedState={baseLanes:n,cachePool:a},null!==e&&Yo(0,null),Aa(),Ma(t),null!==e&&Po(e,t,r,!0),t.childLanes=o,null}function Bi(e,t){return(t=Zi({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function Hi(e,t,n){return ha(t,e.child,null,n),(e=Bi(t,t.pendingProps)).flags|=2,Da(t),t.memoizedState=null,e}function Wi(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(l(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function qi(e,t,n,r,o){return Ro(t),n=tl(e,t,n,r,void 0,o),r=al(),null===e||Oi?(fo&&r&&lo(t),t.flags|=1,Ii(e,t,n,o),t.child):(ll(e,t,o),os(e,t,o))}function Vi(e,t,n,r,o,a){return Ro(t),t.updateQueue=null,n=rl(t,r,n,o),nl(e),r=al(),null===e||Oi?(fo&&r&&lo(t),t.flags|=1,Ii(e,t,n,a),t.child):(ll(e,t,a),os(e,t,a))}function $i(e,t,n,r,o){if(Ro(t),null===t.stateNode){var a=zr,l=n.contextType;"object"===typeof l&&null!==l&&(a=Oo(l)),a=new n(r,a),t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,a.updater=ki,t.stateNode=a,a._reactInternals=t,(a=t.stateNode).props=r,a.state=t.memoizedState,a.refs={},ya(t),l=n.contextType,a.context="object"===typeof l&&null!==l?Oo(l):zr,a.state=t.memoizedState,"function"===typeof(l=n.getDerivedStateFromProps)&&(bi(t,n,l,r),a.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(l=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),l!==a.state&&ki.enqueueReplaceState(a,a.state,null),ja(t,r,a,o),Ca(),a.state=t.memoizedState),"function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){a=t.stateNode;var i=t.memoizedProps,s=Si(n,i);a.props=s;var c=a.context,u=n.contextType;l=zr,"object"===typeof u&&null!==u&&(l=Oo(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate,i=t.pendingProps!==i,u||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(i||c!==l)&&wi(t,a,r,l),ga=!1;var f=t.memoizedState;a.state=f,ja(t,r,a,o),Ca(),c=t.memoizedState,i||f!==c||ga?("function"===typeof d&&(bi(t,n,d,r),c=t.memoizedState),(s=ga||xi(t,n,s,r,f,c,l))?(u||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=l,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,va(e,t),u=Si(n,l=t.memoizedProps),a.props=u,d=t.pendingProps,f=a.context,c=n.contextType,s=zr,"object"===typeof c&&null!==c&&(s=Oo(c)),(c="function"===typeof(i=n.getDerivedStateFromProps)||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(l!==d||f!==s)&&wi(t,a,r,s),ga=!1,f=t.memoizedState,a.state=f,ja(t,r,a,o),Ca();var p=t.memoizedState;l!==d||f!==p||ga||null!==e&&null!==e.dependencies&&Ao(e.dependencies)?("function"===typeof i&&(bi(t,n,i,r),p=t.memoizedState),(u=ga||xi(t,n,u,r,f,p,s)||null!==e&&null!==e.dependencies&&Ao(e.dependencies))?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,s),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=s,r=u):("function"!==typeof a.componentDidUpdate||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return a=r,Wi(e,t),r=0!==(128&t.flags),a||r?(a=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:a.render(),t.flags|=1,null!==e&&r?(t.child=ha(t,e.child,null,o),t.child=ha(t,null,n,o)):Ii(e,t,n,o),t.memoizedState=a.state,e=t.child):e=os(e,t,o),e}function Ki(e,t,n,r){return ko(),t.flags|=256,Ii(e,t,n,r),t.child}var Qi={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ji(e){return{baseLanes:e,cachePool:Go()}}function Yi(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=Nc),e}function Gi(e,t,n){var r,o=t.pendingProps,a=!1,i=0!==(128&t.flags);if((r=i)||(r=(null===e||null!==e.memoizedState)&&0!==(2&Ua.current)),r&&(a=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(fo){if(a?La(t):Fa(),(e=uo)?null!==(e=null!==(e=Pd(e,ho))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==to?{id:no,overflow:ro}:null,retryLane:536870912,hydrationErrors:null},(n=Vr(e)).return=t,t.child=n,co=t,uo=null):e=null,null===e)throw go(t);return Rd(e)?t.lanes=32:t.lanes=536870912,null}var s=o.children;return o=o.fallback,a?(Fa(),s=Zi({mode:"hidden",children:s},a=t.mode),o=Wr(o,a,n,null),s.return=t,o.return=t,s.sibling=o,t.child=s,(o=t.child).memoizedState=Ji(n),o.childLanes=Yi(e,r,n),t.memoizedState=Qi,Di(null,o)):(La(t),Xi(t,s))}var c=e.memoizedState;if(null!==c&&null!==(s=c.dehydrated)){if(i)256&t.flags?(La(t),t.flags&=-257,t=es(e,t,n)):null!==t.memoizedState?(Fa(),t.child=e.child,t.flags|=128,t=null):(Fa(),s=o.fallback,a=t.mode,o=Zi({mode:"visible",children:o.children},a),(s=Wr(s,a,n,null)).flags|=2,o.return=t,s.return=t,o.sibling=s,t.child=o,ha(t,e.child,null,n),(o=t.child).memoizedState=Ji(n),o.childLanes=Yi(e,r,n),t.memoizedState=Qi,t=Di(null,o));else if(La(t),Rd(s)){if(r=s.nextSibling&&s.nextSibling.dataset)var u=r.dgst;r=u,(o=Error(l(419))).stack="",o.digest=r,wo({value:o,source:null,stack:null}),t=es(e,t,n)}else if(Oi||Po(e,t,n,!1),r=0!==(n&e.childLanes),Oi||r){if(null!==(r=hc)&&(0!==(o=Le(r,n))&&o!==c.retryLane))throw c.retryLane=o,Or(e,o),Qc(r,e,o),Ri;Ad(s)||lu(),t=es(e,t,n)}else Ad(s)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,uo=Od(s.nextSibling),co=t,fo=!0,po=null,ho=!1,null!==e&&so(t,e),(t=Xi(t,o.children)).flags|=4096);return t}return a?(Fa(),s=o.fallback,a=t.mode,u=(c=e.child).sibling,(o=Ur(c,{mode:"hidden",children:o.children})).subtreeFlags=65011712&c.subtreeFlags,null!==u?s=Ur(u,s):(s=Wr(s,a,n,null)).flags|=2,s.return=t,o.return=t,o.sibling=s,t.child=o,Di(null,o),o=t.child,null===(s=e.child.memoizedState)?s=Ji(n):(null!==(a=s.cachePool)?(c=Do._currentValue,a=a.parent!==c?{parent:c,pool:c}:a):a=Go(),s={baseLanes:s.baseLanes|n,cachePool:a}),o.memoizedState=s,o.childLanes=Yi(e,r,n),t.memoizedState=Qi,Di(e.child,o)):(La(t),e=(n=e.child).sibling,(n=Ur(n,{mode:"visible",children:o.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Xi(e,t){return(t=Zi({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Zi(e,t){return(e=Fr(22,e,null,t)).lanes=0,e}function es(e,t,n){return ha(t,e.child,null,n),(e=Xi(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function ts(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),To(e.return,t,n)}function ns(e,t,n,r,o,a){var l=e.memoizedState;null===l?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o,treeForkCount:a}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=r,l.tail=n,l.tailMode=o,l.treeForkCount=a)}function rs(e,t,n){var r=t.pendingProps,o=r.revealOrder,a=r.tail;r=r.children;var l=Ua.current,i=0!==(2&l);if(i?(l=1&l|2,t.flags|=128):l&=1,B(Ua,l),Ii(e,t,r,n),r=fo?Xr:0,!i&&null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ts(e,n,t);else if(19===e.tag)ts(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===Ba(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),ns(t,!1,o,n,a,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===Ba(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}ns(t,!0,n,null,a,r);break;case"together":ns(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function os(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Cc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Po(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(l(153));if(null!==t.child){for(n=Ur(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ur(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function as(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Ao(e))}function ls(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Oi=!0;else{if(!as(e,n)&&0===(128&t.flags))return Oi=!1,function(e,t,n){switch(t.tag){case 3:Q(t,t.stateNode.containerInfo),Eo(0,Do,e.memoizedState.cache),ko();break;case 27:case 5:Y(t);break;case 4:Q(t,t.stateNode.containerInfo);break;case 10:Eo(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,za(t),null;break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(La(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Gi(e,t,n):(La(t),null!==(e=os(e,t,n))?e.sibling:null);La(t);break;case 19:var o=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(Po(e,t,n,!1),r=0!==(n&t.childLanes)),o){if(r)return rs(e,t,n);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),B(Ua,Ua.current),r)break;return null;case 22:return t.lanes=0,Fi(e,t,n,t.pendingProps);case 24:Eo(0,Do,e.memoizedState.cache)}return os(e,t,n)}(e,t,n);Oi=0!==(131072&e.flags)}else Oi=!1,fo&&0!==(1048576&t.flags)&&ao(t,Xr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=oa(t.elementType),t.type=e,"function"!==typeof e){if(void 0!==e&&null!==e){var o=e.$$typeof;if(o===w){t.tag=11,t=Li(null,t,e,r,n);break e}if(o===j){t.tag=14,t=zi(null,t,e,r,n);break e}}throw t=R(e)||e,Error(l(306,t,""))}Dr(e)?(r=Si(e,r),t.tag=1,t=$i(null,t,e,r,n)):(t.tag=0,t=qi(null,t,e,r,n))}return t;case 0:return qi(e,t,t.type,t.pendingProps,n);case 1:return $i(e,t,r=t.type,o=Si(r,t.pendingProps),n);case 3:e:{if(Q(t,t.stateNode.containerInfo),null===e)throw Error(l(387));r=t.pendingProps;var a=t.memoizedState;o=a.element,va(e,t),ja(t,r,null,n);var i=t.memoizedState;if(r=i.cache,Eo(0,Do,r),r!==a.cache&&_o(t,[Do],n,!0),Ca(),r=i.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:i.cache},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ki(e,t,r,n);break e}if(r!==o){wo(o=Qr(Error(l(424)),t)),t=Ki(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(uo=Od(e.firstChild),co=t,fo=!0,po=null,ho=!0,n=ma(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ko(),r===o){t=os(e,t,n);break e}Ii(e,t,r,n)}t=t.child}return t;case 26:return Wi(e,t),null===e?(n=Vd(t.type,null,t.pendingProps,null))?t.memoizedState=n:fo||(n=t.type,e=t.pendingProps,(r=gd($.current).createElement(n))[Be]=t,r[He]=e,fd(r,n,e),et(r),t.stateNode=r):t.memoizedState=Vd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Y(t),null===e&&fo&&(r=t.stateNode=Md(t.type,t.pendingProps,$.current),co=t,ho=!0,o=uo,Ed(t.type)?(Id=o,uo=Od(r.firstChild)):uo=o),Ii(e,t,t.pendingProps.children,n),Wi(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&fo&&((o=r=uo)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var o=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Qe])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(a=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(a!==o.rel||e.getAttribute("href")!==(null==o.href||""===o.href?null:o.href)||e.getAttribute("crossorigin")!==(null==o.crossOrigin?null:o.crossOrigin)||e.getAttribute("title")!==(null==o.title?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((a=e.getAttribute("src"))!==(null==o.src?null:o.src)||e.getAttribute("type")!==(null==o.type?null:o.type)||e.getAttribute("crossorigin")!==(null==o.crossOrigin?null:o.crossOrigin))&&a&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var a=null==o.name?null:""+o.name;if("hidden"===o.type&&e.getAttribute("name")===a)return e}if(null===(e=Od(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,ho))?(t.stateNode=r,co=t,uo=Od(r.firstChild),ho=!1,o=!0):o=!1),o||go(t)),Y(t),o=t.type,a=t.pendingProps,i=null!==e?e.memoizedProps:null,r=a.children,bd(o,a)?r=null:null!==i&&bd(o,i)&&(t.flags|=32),null!==t.memoizedState&&(o=tl(e,t,ol,null,null,n),df._currentValue=o),Wi(e,t),Ii(e,t,r,n),t.child;case 6:return null===e&&fo&&((e=n=uo)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=Od(e.nextSibling)))return null}return e}(n,t.pendingProps,ho))?(t.stateNode=n,co=t,uo=null,e=!0):e=!1),e||go(t)),null;case 13:return Gi(e,t,n);case 4:return Q(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ha(t,null,r,n):Ii(e,t,r,n),t.child;case 11:return Li(e,t,t.type,t.pendingProps,n);case 7:return Ii(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ii(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,Eo(0,t.type,r.value),Ii(e,t,r.children,n),t.child;case 9:return o=t.type._context,r=t.pendingProps.children,Ro(t),r=r(o=Oo(o)),t.flags|=1,Ii(e,t,r,n),t.child;case 14:return zi(e,t,t.type,t.pendingProps,n);case 15:return Mi(e,t,t.type,t.pendingProps,n);case 19:return rs(e,t,n);case 31:return function(e,t,n){var r=t.pendingProps,o=0!==(128&t.flags);if(t.flags&=-129,null===e){if(fo){if("hidden"===r.mode)return e=Bi(t,r),t.lanes=536870912,Di(null,e);if(za(t),(e=uo)?null!==(e=null!==(e=Pd(e,ho))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==to?{id:no,overflow:ro}:null,retryLane:536870912,hydrationErrors:null},(n=Vr(e)).return=t,t.child=n,co=t,uo=null):e=null,null===e)throw go(t);return t.lanes=536870912,null}return Bi(t,r)}var a=e.memoizedState;if(null!==a){var i=a.dehydrated;if(za(t),o)if(256&t.flags)t.flags&=-257,t=Hi(e,t,n);else{if(null===t.memoizedState)throw Error(l(558));t.child=e.child,t.flags|=128,t=null}else if(Oi||Po(e,t,n,!1),o=0!==(n&e.childLanes),Oi||o){if(null!==(r=hc)&&0!==(i=Le(r,n))&&i!==a.retryLane)throw a.retryLane=i,Or(e,i),Qc(r,e,i),Ri;lu(),t=Hi(e,t,n)}else e=a.treeContext,uo=Od(i.nextSibling),co=t,fo=!0,po=null,ho=!1,null!==e&&so(t,e),(t=Bi(t,r)).flags|=4096;return t}return(e=Ur(e.child,{mode:r.mode,children:r.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,n);case 22:return Fi(e,t,n,t.pendingProps);case 24:return Ro(t),r=Oo(Do),null===e?(null===(o=Jo())&&(o=hc,a=Uo(),o.pooledCache=a,a.refCount++,null!==a&&(o.pooledCacheLanes|=n),o=a),t.memoizedState={parent:r,cache:o},ya(t),Eo(0,Do,o)):(0!==(e.lanes&n)&&(va(e,t),ja(t,null,null,n),Ca()),o=e.memoizedState,a=t.memoizedState,o.parent!==r?(o={parent:r,cache:r},t.memoizedState=o,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=o),Eo(0,Do,r)):(r=a.cache,Eo(0,Do,r),r!==o.cache&&_o(t,[Do],n,!0))),Ii(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}function is(e){e.flags|=4}function ss(e,t,n,r,o){if((t=0!==(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&o)===o)if(e.stateNode.complete)e.flags|=8192;else{if(!ru())throw aa=ta,Zo;e.flags|=8192}}else e.flags&=-16777217}function cs(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!of(t)){if(!ru())throw aa=ta,Zo;e.flags|=8192}}function us(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Pe():536870912,e.lanes|=t,Tc|=t)}function ds(e,t){if(!fo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function fs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=65011712&o.subtreeFlags,r|=65011712&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function ps(e,t,n){var r=t.pendingProps;switch(io(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return fs(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),No(Do),J(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(bo(t)?is(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,xo())),fs(t),null;case 26:var o=t.type,a=t.memoizedState;return null===e?(is(t),null!==a?(fs(t),cs(t,a)):(fs(t),ss(t,o,0,0,n))):a?a!==e.memoizedState?(is(t),fs(t),cs(t,a)):(fs(t),t.flags&=-16777217):((e=e.memoizedProps)!==r&&is(t),fs(t),ss(t,o,0,0,n)),null;case 27:if(G(t),n=$.current,o=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&is(t);else{if(!r){if(null===t.stateNode)throw Error(l(166));return fs(t),null}e=q.current,bo(t)?yo(t):(e=Md(o,r,n),t.stateNode=e,is(t))}return fs(t),null;case 5:if(G(t),o=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&is(t);else{if(!r){if(null===t.stateNode)throw Error(l(166));return fs(t),null}if(a=q.current,bo(t))yo(t);else{var i=gd($.current);switch(a){case 1:a=i.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:a=i.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":a=i.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":a=i.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":(a=i.createElement("div")).innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a="string"===typeof r.is?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?a.multiple=!0:r.size&&(a.size=r.size);break;default:a="string"===typeof r.is?i.createElement(o,{is:r.is}):i.createElement(o)}}a[Be]=t,a[He]=r;e:for(i=t.child;null!==i;){if(5===i.tag||6===i.tag)a.appendChild(i.stateNode);else if(4!==i.tag&&27!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;null===i.sibling;){if(null===i.return||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=a;e:switch(fd(a,o,r),o){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&is(t)}}return fs(t),ss(t,t.type,null===e||e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&is(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(l(166));if(e=$.current,bo(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(o=co))switch(o.tag){case 27:case 5:r=o.memoizedProps}e[Be]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||cd(e.nodeValue,n)))||go(t,!0)}else(e=gd(e).createTextNode(r))[Be]=t,t.stateNode=e}return fs(t),null;case 31:if(n=t.memoizedState,null===e||null!==e.memoizedState){if(r=bo(t),null!==n){if(null===e){if(!r)throw Error(l(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(l(557));e[Be]=t}else ko(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;fs(t),e=!1}else n=xo(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return 256&t.flags?(Da(t),t):(Da(t),null);if(0!==(128&t.flags))throw Error(l(558))}return fs(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(o=bo(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(l(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(l(317));o[Be]=t}else ko(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;fs(t),o=!1}else o=xo(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return 256&t.flags?(Da(t),t):(Da(t),null)}return Da(t),0!==(128&t.flags)?(t.lanes=n,t):(n=null!==r,e=null!==e&&null!==e.memoizedState,n&&(o=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(o=r.alternate.memoizedState.cachePool.pool),a=null,null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(a=r.memoizedState.cachePool.pool),a!==o&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),us(t,t.updateQueue),fs(t),null);case 4:return J(),null===e&&Zu(t.stateNode.containerInfo),fs(t),null;case 10:return No(t.type),fs(t),null;case 19:if(U(Ua),null===(r=t.memoizedState))return fs(t),null;if(o=0!==(128&t.flags),null===(a=r.rendering))if(o)ds(r,!1);else{if(0!==Sc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(a=Ba(e))){for(t.flags|=128,ds(r,!1),e=a.updateQueue,t.updateQueue=e,us(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Br(n,e),n=n.sibling;return B(Ua,1&Ua.current|2),fo&&oo(t,r.treeForkCount),t.child}e=e.sibling}null!==r.tail&&se()>Ic&&(t.flags|=128,o=!0,ds(r,!1),t.lanes=4194304)}else{if(!o)if(null!==(e=Ba(a))){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,us(t,e),ds(r,!0),null===r.tail&&"hidden"===r.tailMode&&!a.alternate&&!fo)return fs(t),null}else 2*se()-r.renderingStartTime>Ic&&536870912!==n&&(t.flags|=128,o=!0,ds(r,!1),t.lanes=4194304);r.isBackwards?(a.sibling=t.child,t.child=a):(null!==(e=r.last)?e.sibling=a:t.child=a,r.last=a)}return null!==r.tail?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=se(),e.sibling=null,n=Ua.current,B(Ua,o?1&n|2:1&n),fo&&oo(t,r.treeForkCount),e):(fs(t),null);case 22:case 23:return Da(t),Ra(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(fs(t),6&t.subtreeFlags&&(t.flags|=8192)):fs(t),null!==(n=t.updateQueue)&&us(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&U(Qo),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),No(Do),fs(t),null;case 25:case 30:return null}throw Error(l(156,t.tag))}function hs(e,t){switch(io(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return No(Do),J(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return G(t),null;case 31:if(null!==t.memoizedState){if(Da(t),null===t.alternate)throw Error(l(340));ko()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(Da(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(l(340));ko()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return U(Ua),null;case 4:return J(),null;case 10:return No(t.type),null;case 22:case 23:return Da(t),Ra(),null!==e&&U(Qo),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return No(Do),null;default:return null}}function ms(e,t){switch(io(t),t.tag){case 3:No(Do),J();break;case 26:case 27:case 5:G(t);break;case 4:J();break;case 31:null!==t.memoizedState&&Da(t);break;case 13:Da(t);break;case 19:U(Ua);break;case 10:No(t.type);break;case 22:case 23:Da(t),Ra(),null!==e&&U(Qo);break;case 24:No(Do)}}function gs(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var o=r.next;n=o;do{if((n.tag&e)===e){r=void 0;var a=n.create,l=n.inst;r=a(),l.destroy=r}n=n.next}while(n!==o)}}catch(i){Su(t,t.return,i)}}function ys(e,t,n){try{var r=t.updateQueue,o=null!==r?r.lastEffect:null;if(null!==o){var a=o.next;r=a;do{if((r.tag&e)===e){var l=r.inst,i=l.destroy;if(void 0!==i){l.destroy=void 0,o=t;var s=n,c=i;try{c()}catch(u){Su(o,s,u)}}}r=r.next}while(r!==a)}}catch(u){Su(t,t.return,u)}}function vs(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{Na(t,n)}catch(r){Su(e,e.return,r)}}}function bs(e,t,n){n.props=Si(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){Su(e,t,r)}}function ks(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(o){Su(e,t,o)}}function xs(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(o){Su(e,t,o)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(a){Su(e,t,a)}else n.current=null}function ws(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(o){Su(e,e.return,o)}}function Ss(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,a=null,i=null,s=null,c=null,u=null,d=null;for(h in n){var f=n[h];if(n.hasOwnProperty(h)&&null!=f)switch(h){case"checked":case"value":break;case"defaultValue":c=f;default:r.hasOwnProperty(h)||ud(e,t,h,null,r,f)}}for(var p in r){var h=r[p];if(f=n[p],r.hasOwnProperty(p)&&(null!=h||null!=f))switch(p){case"type":a=h;break;case"name":o=h;break;case"checked":u=h;break;case"defaultChecked":d=h;break;case"value":i=h;break;case"defaultValue":s=h;break;case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(l(137,t));break;default:h!==f&&ud(e,t,p,h,r,f)}}return void vt(e,i,s,c,u,d,a,o);case"select":for(a in h=i=s=p=null,n)if(c=n[a],n.hasOwnProperty(a)&&null!=c)switch(a){case"value":break;case"multiple":h=c;default:r.hasOwnProperty(a)||ud(e,t,a,null,r,c)}for(o in r)if(a=r[o],c=n[o],r.hasOwnProperty(o)&&(null!=a||null!=c))switch(o){case"value":p=a;break;case"defaultValue":s=a;break;case"multiple":i=a;default:a!==c&&ud(e,t,o,a,r,c)}return t=s,n=i,r=h,void(null!=p?xt(e,!!n,p,!1):!!r!==!!n&&(null!=t?xt(e,!!n,t,!0):xt(e,!!n,n?[]:"",!1)));case"textarea":for(s in h=p=null,n)if(o=n[s],n.hasOwnProperty(s)&&null!=o&&!r.hasOwnProperty(s))switch(s){case"value":case"children":break;default:ud(e,t,s,null,r,o)}for(i in r)if(o=r[i],a=n[i],r.hasOwnProperty(i)&&(null!=o||null!=a))switch(i){case"value":p=o;break;case"defaultValue":h=o;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=o)throw Error(l(91));break;default:o!==a&&ud(e,t,i,o,r,a)}return void wt(e,p,h);case"option":for(var m in n)if(p=n[m],n.hasOwnProperty(m)&&null!=p&&!r.hasOwnProperty(m))if("selected"===m)e.selected=!1;else ud(e,t,m,null,r,p);for(c in r)if(p=r[c],h=n[c],r.hasOwnProperty(c)&&p!==h&&(null!=p||null!=h))if("selected"===c)e.selected=p&&"function"!==typeof p&&"symbol"!==typeof p;else ud(e,t,c,p,r,h);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)p=n[g],n.hasOwnProperty(g)&&null!=p&&!r.hasOwnProperty(g)&&ud(e,t,g,null,r,p);for(u in r)if(p=r[u],h=n[u],r.hasOwnProperty(u)&&p!==h&&(null!=p||null!=h))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(l(137,t));break;default:ud(e,t,u,p,r,h)}return;default:if(Tt(t)){for(var y in n)p=n[y],n.hasOwnProperty(y)&&void 0!==p&&!r.hasOwnProperty(y)&&dd(e,t,y,void 0,r,p);for(d in r)p=r[d],h=n[d],!r.hasOwnProperty(d)||p===h||void 0===p&&void 0===h||dd(e,t,d,p,r,h);return}}for(var v in n)p=n[v],n.hasOwnProperty(v)&&null!=p&&!r.hasOwnProperty(v)&&ud(e,t,v,null,r,p);for(f in r)p=r[f],h=n[f],!r.hasOwnProperty(f)||p===h||null==p&&null==h||ud(e,t,f,p,r,h)}(r,e.type,n,t),r[He]=t}catch(o){Su(e,e.return,o)}}function Cs(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&Ed(e.type)||4===e.tag}function js(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Cs(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&Ed(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Es(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Rt));else if(4!==r&&(27===r&&Ed(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(Es(e,t,n),e=e.sibling;null!==e;)Es(e,t,n),e=e.sibling}function Ns(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&Ed(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(Ns(e,t,n),e=e.sibling;null!==e;)Ns(e,t,n),e=e.sibling}function Ts(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);fd(t,r,n),t[Be]=e,t[He]=n}catch(a){Su(e,e.return,a)}}var _s=!1,Ps=!1,As=!1,Rs="function"===typeof WeakSet?WeakSet:Set,Os=null;function Is(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Qs(e,n),4&r&&gs(5,n);break;case 1:if(Qs(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(l){Su(n,n.return,l)}else{var o=Si(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(i){Su(n,n.return,i)}}64&r&&vs(n),512&r&&ks(n,n.return);break;case 3:if(Qs(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{Na(e,t)}catch(l){Su(n,n.return,l)}}break;case 27:null===t&&4&r&&Ts(n);case 26:case 5:Qs(e,n),null===t&&4&r&&ws(n),512&r&&ks(n,n.return);break;case 12:Qs(e,n);break;case 31:Qs(e,n),4&r&&Us(e,n);break;case 13:Qs(e,n),4&r&&Bs(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=Nu.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||_s)){t=null!==t&&null!==t.memoizedState||Ps,o=_s;var a=Ps;_s=r,(Ps=t)&&!a?Ys(e,n,0!==(8772&n.subtreeFlags)):Qs(e,n),_s=o,Ps=a}break;case 30:break;default:Qs(e,n)}}function Ls(e){var t=e.alternate;null!==t&&(e.alternate=null,Ls(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Je(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var zs=null,Ms=!1;function Fs(e,t,n){for(n=n.child;null!==n;)Ds(e,t,n),n=n.sibling}function Ds(e,t,n){if(ve&&"function"===typeof ve.onCommitFiberUnmount)try{ve.onCommitFiberUnmount(ye,n)}catch(a){}switch(n.tag){case 26:Ps||xs(n,t),Fs(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Ps||xs(n,t);var r=zs,o=Ms;Ed(n.type)&&(zs=n.stateNode,Ms=!1),Fs(e,t,n),Fd(n.stateNode),zs=r,Ms=o;break;case 5:Ps||xs(n,t);case 6:if(r=zs,o=Ms,zs=null,Fs(e,t,n),Ms=o,null!==(zs=r))if(Ms)try{(9===zs.nodeType?zs.body:"HTML"===zs.nodeName?zs.ownerDocument.body:zs).removeChild(n.stateNode)}catch(l){Su(n,t,l)}else try{zs.removeChild(n.stateNode)}catch(l){Su(n,t,l)}break;case 18:null!==zs&&(Ms?(Nd(9===(e=zs).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Vf(e)):Nd(zs,n.stateNode));break;case 4:r=zs,o=Ms,zs=n.stateNode.containerInfo,Ms=!0,Fs(e,t,n),zs=r,Ms=o;break;case 0:case 11:case 14:case 15:ys(2,n,t),Ps||ys(4,n,t),Fs(e,t,n);break;case 1:Ps||(xs(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&bs(n,t,r)),Fs(e,t,n);break;case 21:Fs(e,t,n);break;case 22:Ps=(r=Ps)||null!==n.memoizedState,Fs(e,t,n),Ps=r;break;default:Fs(e,t,n)}}function Us(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&null!==(e=e.memoizedState))){e=e.dehydrated;try{Vf(e)}catch(n){Su(t,t.return,n)}}}function Bs(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Vf(e)}catch(n){Su(t,t.return,n)}}function Hs(e,t){var n=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Rs),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Rs),t;default:throw Error(l(435,e.tag))}}(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var r=Tu.bind(null,e,t);t.then(r,r)}})}function Ws(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var o=n[r],a=e,i=t,s=i;e:for(;null!==s;){switch(s.tag){case 27:if(Ed(s.type)){zs=s.stateNode,Ms=!1;break e}break;case 5:zs=s.stateNode,Ms=!1;break e;case 3:case 4:zs=s.stateNode.containerInfo,Ms=!0;break e}s=s.return}if(null===zs)throw Error(l(160));Ds(a,i,o),zs=null,Ms=!1,null!==(a=o.alternate)&&(a.return=null),o.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)Vs(t,e),t=t.sibling}var qs=null;function Vs(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ws(t,e),$s(e),4&r&&(ys(3,e,e.return),gs(3,e),ys(5,e,e.return));break;case 1:Ws(t,e),$s(e),512&r&&(Ps||null===n||xs(n,n.return)),64&r&&_s&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var o=qs;if(Ws(t,e),$s(e),512&r&&(Ps||null===n||xs(n,n.return)),4&r){var a=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,o=o.ownerDocument||o;t:switch(r){case"title":(!(a=o.getElementsByTagName("title")[0])||a[Qe]||a[Be]||"http://www.w3.org/2000/svg"===a.namespaceURI||a.hasAttribute("itemprop"))&&(a=o.createElement(r),o.head.insertBefore(a,o.querySelector("head > title"))),fd(a,r,n),a[Be]=e,et(a),r=a;break e;case"link":var i=nf("link","href",o).get(r+(n.href||""));if(i)for(var s=0;s<i.length;s++)if((a=i[s]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&a.getAttribute("rel")===(null==n.rel?null:n.rel)&&a.getAttribute("title")===(null==n.title?null:n.title)&&a.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){i.splice(s,1);break t}fd(a=o.createElement(r),r,n),o.head.appendChild(a);break;case"meta":if(i=nf("meta","content",o).get(r+(n.content||"")))for(s=0;s<i.length;s++)if((a=i[s]).getAttribute("content")===(null==n.content?null:""+n.content)&&a.getAttribute("name")===(null==n.name?null:n.name)&&a.getAttribute("property")===(null==n.property?null:n.property)&&a.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&a.getAttribute("charset")===(null==n.charSet?null:n.charSet)){i.splice(s,1);break t}fd(a=o.createElement(r),r,n),o.head.appendChild(a);break;default:throw Error(l(468,r))}a[Be]=e,et(a),r=a}e.stateNode=r}else rf(o,e.type,e.stateNode);else e.stateNode=Gd(o,r,e.memoizedProps);else a!==r?(null===a?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):a.count--,null===r?rf(o,e.type,e.stateNode):Gd(o,r,e.memoizedProps)):null===r&&null!==e.stateNode&&Ss(e,e.memoizedProps,n.memoizedProps)}break;case 27:Ws(t,e),$s(e),512&r&&(Ps||null===n||xs(n,n.return)),null!==n&&4&r&&Ss(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Ws(t,e),$s(e),512&r&&(Ps||null===n||xs(n,n.return)),32&e.flags){o=e.stateNode;try{Ct(o,"")}catch(m){Su(e,e.return,m)}}4&r&&null!=e.stateNode&&Ss(e,o=e.memoizedProps,null!==n?n.memoizedProps:o),1024&r&&(As=!0);break;case 6:if(Ws(t,e),$s(e),4&r){if(null===e.stateNode)throw Error(l(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(m){Su(e,e.return,m)}}break;case 3:if(tf=null,o=qs,qs=Bd(t.containerInfo),Ws(t,e),qs=o,$s(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Vf(t.containerInfo)}catch(m){Su(e,e.return,m)}As&&(As=!1,Ks(e));break;case 4:r=qs,qs=Bd(e.stateNode.containerInfo),Ws(t,e),$s(e),qs=r;break;case 12:default:Ws(t,e),$s(e);break;case 31:case 19:Ws(t,e),$s(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Hs(e,r)));break;case 13:Ws(t,e),$s(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(Rc=se()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Hs(e,r)));break;case 22:o=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=_s,d=Ps;if(_s=u||o,Ps=d||c,Ws(t,e),Ps=d,_s=u,$s(e),8192&r)e:for(t=e.stateNode,t._visibility=o?-2&t._visibility:1|t._visibility,o&&(null===n||c||_s||Ps||Js(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(a=c.stateNode,o)"function"===typeof(i=a.style).setProperty?i.setProperty("display","none","important"):i.display="none";else{s=c.stateNode;var f=c.memoizedProps.style,p=void 0!==f&&null!==f&&f.hasOwnProperty("display")?f.display:null;s.style.display=null==p||"boolean"===typeof p?"":(""+p).trim()}}catch(m){Su(c,c.return,m)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=o?"":c.memoizedProps}catch(m){Su(c,c.return,m)}}}else if(18===t.tag){if(null===n){c=t;try{var h=c.stateNode;o?Td(h,!0):Td(c.stateNode,!1)}catch(m){Su(c,c.return,m)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Hs(e,n))));case 30:case 21:}}function $s(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(Cs(r)){n=r;break}r=r.return}if(null==n)throw Error(l(160));switch(n.tag){case 27:var o=n.stateNode;Ns(e,js(e),o);break;case 5:var a=n.stateNode;32&n.flags&&(Ct(a,""),n.flags&=-33),Ns(e,js(e),a);break;case 3:case 4:var i=n.stateNode.containerInfo;Es(e,js(e),i);break;default:throw Error(l(161))}}catch(s){Su(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Ks(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Ks(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Qs(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Is(e,t.alternate,t),t=t.sibling}function Js(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ys(4,t,t.return),Js(t);break;case 1:xs(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&bs(t,t.return,n),Js(t);break;case 27:Fd(t.stateNode);case 26:case 5:xs(t,t.return),Js(t);break;case 22:null===t.memoizedState&&Js(t);break;default:Js(t)}e=e.sibling}}function Ys(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,o=e,a=t,l=a.flags;switch(a.tag){case 0:case 11:case 15:Ys(o,a,n),gs(4,a);break;case 1:if(Ys(o,a,n),"function"===typeof(o=(r=a).stateNode).componentDidMount)try{o.componentDidMount()}catch(c){Su(r,r.return,c)}if(null!==(o=(r=a).updateQueue)){var i=r.stateNode;try{var s=o.shared.hiddenCallbacks;if(null!==s)for(o.shared.hiddenCallbacks=null,o=0;o<s.length;o++)Ea(s[o],i)}catch(c){Su(r,r.return,c)}}n&&64&l&&vs(a),ks(a,a.return);break;case 27:Ts(a);case 26:case 5:Ys(o,a,n),n&&null===r&&4&l&&ws(a),ks(a,a.return);break;case 12:Ys(o,a,n);break;case 31:Ys(o,a,n),n&&4&l&&Us(o,a);break;case 13:Ys(o,a,n),n&&4&l&&Bs(o,a);break;case 22:null===a.memoizedState&&Ys(o,a,n),ks(a,a.return);break;case 30:break;default:Ys(o,a,n)}t=t.sibling}}function Gs(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Bo(n))}function Xs(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Bo(e))}function Zs(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)ec(e,t,n,r),t=t.sibling}function ec(e,t,n,r){var o=t.flags;switch(t.tag){case 0:case 11:case 15:Zs(e,t,n,r),2048&o&&gs(9,t);break;case 1:case 31:case 13:default:Zs(e,t,n,r);break;case 3:Zs(e,t,n,r),2048&o&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Bo(e)));break;case 12:if(2048&o){Zs(e,t,n,r),e=t.stateNode;try{var a=t.memoizedProps,l=a.id,i=a.onPostCommit;"function"===typeof i&&i(l,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(s){Su(t,t.return,s)}}else Zs(e,t,n,r);break;case 23:break;case 22:a=t.stateNode,l=t.alternate,null!==t.memoizedState?2&a._visibility?Zs(e,t,n,r):nc(e,t):2&a._visibility?Zs(e,t,n,r):(a._visibility|=2,tc(e,t,n,r,0!==(10256&t.subtreeFlags)||!1)),2048&o&&Gs(l,t);break;case 24:Zs(e,t,n,r),2048&o&&Xs(t.alternate,t)}}function tc(e,t,n,r,o){for(o=o&&(0!==(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var a=e,l=t,i=n,s=r,c=l.flags;switch(l.tag){case 0:case 11:case 15:tc(a,l,i,s,o),gs(8,l);break;case 23:break;case 22:var u=l.stateNode;null!==l.memoizedState?2&u._visibility?tc(a,l,i,s,o):nc(a,l):(u._visibility|=2,tc(a,l,i,s,o)),o&&2048&c&&Gs(l.alternate,l);break;case 24:tc(a,l,i,s,o),o&&2048&c&&Xs(l.alternate,l);break;default:tc(a,l,i,s,o)}t=t.sibling}}function nc(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,o=r.flags;switch(r.tag){case 22:nc(n,r),2048&o&&Gs(r.alternate,r);break;case 24:nc(n,r),2048&o&&Xs(r.alternate,r);break;default:nc(n,r)}t=t.sibling}}var rc=8192;function oc(e,t,n){if(e.subtreeFlags&rc)for(e=e.child;null!==e;)ac(e,t,n),e=e.sibling}function ac(e,t,n){switch(e.tag){case 26:oc(e,t,n),e.flags&rc&&null!==e.memoizedState&&function(e,t,n,r){if("stylesheet"===n.type&&("string"!==typeof r.media||!1!==matchMedia(r.media).matches)&&0===(4&n.state.loading)){if(null===n.instance){var o=$d(r.href),a=t.querySelector(Kd(o));if(a)return null!==(t=a._p)&&"object"===typeof t&&"function"===typeof t.then&&(e.count++,e=lf.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=a,void et(a);a=t.ownerDocument||t,r=Qd(r),(o=Dd.get(o))&&Zd(r,o),et(a=a.createElement("link"));var l=a;l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),fd(a,"link",r),n.instance=a}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&0===(3&n.state.loading)&&(e.count++,n=lf.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}(n,qs,e.memoizedState,e.memoizedProps);break;case 5:default:oc(e,t,n);break;case 3:case 4:var r=qs;qs=Bd(e.stateNode.containerInfo),oc(e,t,n),qs=r;break;case 22:null===e.memoizedState&&(null!==(r=e.alternate)&&null!==r.memoizedState?(r=rc,rc=16777216,oc(e,t,n),rc=r):oc(e,t,n))}}function lc(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function ic(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Os=r,uc(r,e)}lc(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)sc(e),e=e.sibling}function sc(e){switch(e.tag){case 0:case 11:case 15:ic(e),2048&e.flags&&ys(9,e,e.return);break;case 3:case 12:default:ic(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,cc(e)):ic(e)}}function cc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Os=r,uc(r,e)}lc(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:ys(8,t,t.return),cc(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,cc(t));break;default:cc(t)}e=e.sibling}}function uc(e,t){for(;null!==Os;){var n=Os;switch(n.tag){case 0:case 11:case 15:ys(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Bo(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Os=r;else e:for(n=e;null!==Os;){var o=(r=Os).sibling,a=r.return;if(Ls(r),r===n){Os=null;break e}if(null!==o){o.return=a,Os=o;break e}Os=a}}}var dc={getCacheForType:function(e){var t=Oo(Do),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Oo(Do).controller.signal}},fc="function"===typeof WeakMap?WeakMap:Map,pc=0,hc=null,mc=null,gc=0,yc=0,vc=null,bc=!1,kc=!1,xc=!1,wc=0,Sc=0,Cc=0,jc=0,Ec=0,Nc=0,Tc=0,_c=null,Pc=null,Ac=!1,Rc=0,Oc=0,Ic=1/0,Lc=null,zc=null,Mc=0,Fc=null,Dc=null,Uc=0,Bc=0,Hc=null,Wc=null,qc=0,Vc=null;function $c(){return 0!==(2&pc)&&0!==gc?gc&-gc:null!==I.T?Hu():Fe()}function Kc(){if(0===Nc)if(0===(536870912&gc)||fo){var e=Ce;0===(3932160&(Ce<<=1))&&(Ce=262144),Nc=e}else Nc=536870912;return null!==(e=Oa.current)&&(e.flags|=32),Nc}function Qc(e,t,n){(e!==hc||2!==yc&&9!==yc)&&null===e.cancelPendingCommit||(tu(e,0),Xc(e,gc,Nc,!1)),Re(e,n),0!==(2&pc)&&e===hc||(e===hc&&(0===(2&pc)&&(jc|=n),4===Sc&&Xc(e,gc,Nc,!1)),Lu(e))}function Jc(e,t,n){if(0!==(6&pc))throw Error(l(327));for(var r=!n&&0===(127&t)&&0===(t&e.expiredLanes)||Te(e,t),o=r?function(e,t){var n=pc;pc|=2;var r=ou(),o=au();hc!==e||gc!==t?(Lc=null,Ic=se()+500,tu(e,t)):kc=Te(e,t);e:for(;;)try{if(0!==yc&&null!==mc){t=mc;var a=vc;t:switch(yc){case 1:yc=0,vc=null,fu(e,t,a,1);break;case 2:case 9:if(na(a)){yc=0,vc=null,du(t);break}t=function(){2!==yc&&9!==yc||hc!==e||(yc=7),Lu(e)},a.then(t,t);break e;case 3:yc=7;break e;case 4:yc=5;break e;case 7:na(a)?(yc=0,vc=null,du(t)):(yc=0,vc=null,fu(e,t,a,7));break;case 5:var i=null;switch(mc.tag){case 26:i=mc.memoizedState;case 5:case 27:var s=mc;if(i?of(i):s.stateNode.complete){yc=0,vc=null;var c=s.sibling;if(null!==c)mc=c;else{var u=s.return;null!==u?(mc=u,pu(u)):mc=null}break t}}yc=0,vc=null,fu(e,t,a,5);break;case 6:yc=0,vc=null,fu(e,t,a,6);break;case 8:eu(),Sc=6;break e;default:throw Error(l(462))}}cu();break}catch(d){nu(e,d)}return jo=Co=null,I.H=r,I.A=o,pc=n,null!==mc?0:(hc=null,gc=0,Pr(),Sc)}(e,t):iu(e,t,!0),a=r;;){if(0===o){kc&&!r&&Xc(e,t,0,!1);break}if(n=e.current.alternate,!a||Gc(n)){if(2===o){if(a=t,e.errorRecoveryDisabledLanes&a)var i=0;else i=0!==(i=-536870913&e.pendingLanes)?i:536870912&i?536870912:0;if(0!==i){t=i;e:{var s=e;o=_c;var c=s.current.memoizedState.isDehydrated;if(c&&(tu(s,i).flags|=256),2!==(i=iu(s,i,!1))){if(xc&&!c){s.errorRecoveryDisabledLanes|=a,jc|=a,o=4;break e}a=Pc,Pc=o,null!==a&&(null===Pc?Pc=a:Pc.push.apply(Pc,a))}o=i}if(a=!1,2!==o)continue}}if(1===o){tu(e,0),Xc(e,t,0,!0);break}e:{switch(r=e,a=o){case 0:case 1:throw Error(l(345));case 4:if((4194048&t)!==t)break;case 6:Xc(r,t,Nc,!bc);break e;case 2:Pc=null;break;case 3:case 5:break;default:throw Error(l(329))}if((62914560&t)===t&&10<(o=Rc+300-se())){if(Xc(r,t,Nc,!bc),0!==Ne(r,0,!0))break e;Uc=t,r.timeoutHandle=xd(Yc.bind(null,r,n,Pc,Lc,Ac,t,Nc,jc,Tc,bc,a,"Throttled",-0,0),o)}else Yc(r,n,Pc,Lc,Ac,t,Nc,jc,Tc,bc,a,null,-0,0)}break}o=iu(e,t,!1),a=!1}Lu(e)}function Yc(e,t,n,r,o,a,l,i,s,c,u,d,f,p){if(e.timeoutHandle=-1,8192&(d=t.subtreeFlags)||16785408===(16785408&d)){ac(t,a,d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Rt});var h=(62914560&a)===a?Rc-se():(4194048&a)===a?Oc-se():0;if(null!==(h=function(e,t){return e.stylesheets&&0===e.count&&cf(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&cf(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===af&&(af=62500*function(){if("function"===typeof performance.getEntriesByType){for(var e=0,t=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var o=n[r],a=o.transferSize,l=o.initiatorType,i=o.duration;if(a&&i&&pd(l)){for(l=0,i=o.responseEnd,r+=1;r<n.length;r++){var s=n[r],c=s.startTime;if(c>i)break;var u=s.transferSize,d=s.initiatorType;u&&pd(d)&&(l+=u*((s=s.responseEnd)<i?1:(i-c)/(s-c)))}if(--r,t+=8*(a+l)/(o.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&"number"===typeof(e=navigator.connection.downlink)?e:5}());var o=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&cf(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>af?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(o)}}:null}(d,h)))return Uc=a,e.cancelPendingCommit=h(mu.bind(null,e,t,a,n,r,o,l,i,s,u,d,null,f,p)),void Xc(e,a,l,!c)}mu(e,t,a,n,r,o,l,i,s)}function Gc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var o=n[r],a=o.getSnapshot;o=o.value;try{if(!Xn(a(),o))return!1}catch(l){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Xc(e,t,n,r){t&=~Ec,t&=~jc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var o=t;0<o;){var a=31-ke(o),l=1<<a;r[a]=-1,o&=~l}0!==n&&Oe(e,n,t)}function Zc(){return 0!==(6&pc)||(zu(0,!1),!1)}function eu(){if(null!==mc){if(0===yc)var e=mc.return;else jo=Co=null,il(e=mc),sa=null,ca=0,e=mc;for(;null!==e;)ms(e.alternate,e),e=e.return;mc=null}}function tu(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,wd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Uc=0,eu(),hc=e,mc=n=Ur(e.current,null),gc=t,yc=0,vc=null,bc=!1,kc=Te(e,t),xc=!1,Tc=Nc=Ec=jc=Cc=Sc=0,Pc=_c=null,Ac=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var o=31-ke(r),a=1<<o;t|=e[o],r&=~a}return wc=t,Pr(),n}function nu(e,t){Wa=null,I.H=mi,t===Xo||t===ea?(t=la(),yc=3):t===Zo?(t=la(),yc=4):yc=t===Ri?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,vc=t,null===mc&&(Sc=1,Ni(e,Qr(t,e.current)))}function ru(){var e=Oa.current;return null===e||((4194048&gc)===gc?null===Ia:((62914560&gc)===gc||0!==(536870912&gc))&&e===Ia)}function ou(){var e=I.H;return I.H=mi,null===e?mi:e}function au(){var e=I.A;return I.A=dc,e}function lu(){Sc=4,bc||(4194048&gc)!==gc&&null!==Oa.current||(kc=!0),0===(134217727&Cc)&&0===(134217727&jc)||null===hc||Xc(hc,gc,Nc,!1)}function iu(e,t,n){var r=pc;pc|=2;var o=ou(),a=au();hc===e&&gc===t||(Lc=null,tu(e,t)),t=!1;var l=Sc;e:for(;;)try{if(0!==yc&&null!==mc){var i=mc,s=vc;switch(yc){case 8:eu(),l=6;break e;case 3:case 2:case 9:case 6:null===Oa.current&&(t=!0);var c=yc;if(yc=0,vc=null,fu(e,i,s,c),n&&kc){l=0;break e}break;default:c=yc,yc=0,vc=null,fu(e,i,s,c)}}su(),l=Sc;break}catch(u){nu(e,u)}return t&&e.shellSuspendCounter++,jo=Co=null,pc=r,I.H=o,I.A=a,null===mc&&(hc=null,gc=0,Pr()),l}function su(){for(;null!==mc;)uu(mc)}function cu(){for(;null!==mc&&!le();)uu(mc)}function uu(e){var t=ls(e.alternate,e,wc);e.memoizedProps=e.pendingProps,null===t?pu(e):mc=t}function du(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Vi(n,t,t.pendingProps,t.type,void 0,gc);break;case 11:t=Vi(n,t,t.pendingProps,t.type.render,t.ref,gc);break;case 5:il(t);default:ms(n,t),t=ls(n,t=mc=Br(t,wc),wc)}e.memoizedProps=e.pendingProps,null===t?pu(e):mc=t}function fu(e,t,n,r){jo=Co=null,il(t),sa=null,ca=0;var o=t.return;try{if(function(e,t,n,r,o){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&Po(t,n,o,!0),null!==(n=Oa.current)){switch(n.tag){case 31:case 13:return null===Ia?lu():null===n.alternate&&0===Sc&&(Sc=3),n.flags&=-257,n.flags|=65536,n.lanes=o,r===ta?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),Cu(e,r,o)),!1;case 22:return n.flags|=65536,r===ta?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),Cu(e,r,o)),!1}throw Error(l(435,n.tag))}return Cu(e,r,o),lu(),!1}if(fo)return null!==(t=Oa.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=o,r!==mo&&wo(Qr(e=Error(l(422),{cause:r}),n))):(r!==mo&&wo(Qr(t=Error(l(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,o&=-o,e.lanes|=o,r=Qr(r,n),wa(e,o=_i(e.stateNode,r,o)),4!==Sc&&(Sc=2)),!1;var a=Error(l(520),{cause:r});if(a=Qr(a,n),null===_c?_c=[a]:_c.push(a),4!==Sc&&(Sc=2),null===t)return!0;r=Qr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=o&-o,n.lanes|=e,wa(n,e=_i(n.stateNode,r,e)),!1;case 1:if(t=n.type,a=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==a&&"function"===typeof a.componentDidCatch&&(null===zc||!zc.has(a))))return n.flags|=65536,o&=-o,n.lanes|=o,Ai(o=Pi(o),e,n,r),wa(n,o),!1}n=n.return}while(null!==n);return!1}(e,o,t,n,gc))return Sc=1,Ni(e,Qr(n,e.current)),void(mc=null)}catch(a){if(null!==o)throw mc=o,a;return Sc=1,Ni(e,Qr(n,e.current)),void(mc=null)}32768&t.flags?(fo||1===r?e=!0:kc||0!==(536870912&gc)?e=!1:(bc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=Oa.current)&&13===r.tag&&(r.flags|=16384))),hu(t,e)):pu(t)}function pu(e){var t=e;do{if(0!==(32768&t.flags))return void hu(t,bc);e=t.return;var n=ps(t.alternate,t,wc);if(null!==n)return void(mc=n);if(null!==(t=t.sibling))return void(mc=t);mc=t=e}while(null!==t);0===Sc&&(Sc=5)}function hu(e,t){do{var n=hs(e.alternate,e);if(null!==n)return n.flags&=32767,void(mc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(mc=e);mc=e=n}while(null!==e);Sc=6,mc=null}function mu(e,t,n,r,o,a,i,s,c){e.cancelPendingCommit=null;do{ku()}while(0!==Mc);if(0!==(6&pc))throw Error(l(327));if(null!==t){if(t===e.current)throw Error(l(177));if(a=t.lanes|t.childLanes,function(e,t,n,r,o,a){var l=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var i=e.entanglements,s=e.expirationTimes,c=e.hiddenUpdates;for(n=l&~n;0<n;){var u=31-ke(n),d=1<<u;i[u]=0,s[u]=-1;var f=c[u];if(null!==f)for(c[u]=null,u=0;u<f.length;u++){var p=f[u];null!==p&&(p.lane&=-536870913)}n&=~d}0!==r&&Oe(e,r,0),0!==a&&0===o&&0!==e.tag&&(e.suspendedLanes|=a&~(l&~t))}(e,n,a|=_r,i,s,c),e===hc&&(mc=hc=null,gc=0),Dc=t,Fc=e,Uc=n,Bc=a,Hc=o,Wc=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,oe(fe,function(){return xu(),null})):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=I.T,I.T=null,o=L.p,L.p=2,i=pc,pc|=4;try{!function(e,t){if(e=e.containerInfo,hd=kf,or(e=rr(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var o=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(g){n=null;break e}var i=0,s=-1,c=-1,u=0,d=0,f=e,p=null;t:for(;;){for(var h;f!==n||0!==o&&3!==f.nodeType||(s=i+o),f!==a||0!==r&&3!==f.nodeType||(c=i+r),3===f.nodeType&&(i+=f.nodeValue.length),null!==(h=f.firstChild);)p=f,f=h;for(;;){if(f===e)break t;if(p===n&&++u===o&&(s=i),p===a&&++d===r&&(c=i),null!==(h=f.nextSibling))break;p=(f=p).parentNode}f=h}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(md={focusedElem:e,selectionRange:n},kf=!1,Os=t;null!==Os;)if(e=(t=Os).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Os=e;else for(;null!==Os;){switch(a=(t=Os).alternate,e=t.flags,t.tag){case 0:if(0!==(4&e)&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(n=0;n<e.length;n++)(o=e[n]).ref.impl=o.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==a){e=void 0,n=t,o=a.memoizedProps,a=a.memoizedState,r=n.stateNode;try{var m=Si(n.type,o);e=r.getSnapshotBeforeUpdate(m,a),r.__reactInternalSnapshotBeforeUpdate=e}catch(y){Su(n,n.return,y)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))_d(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":_d(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(l(163))}if(null!==(e=t.sibling)){e.return=t.return,Os=e;break}Os=t.return}}(e,t)}finally{pc=i,L.p=o,I.T=r}}Mc=1,gu(),yu(),vu()}}function gu(){if(1===Mc){Mc=0;var e=Fc,t=Dc,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=I.T,I.T=null;var r=L.p;L.p=2;var o=pc;pc|=4;try{Vs(t,e);var a=md,l=rr(e.containerInfo),i=a.focusedElem,s=a.selectionRange;if(l!==i&&i&&i.ownerDocument&&nr(i.ownerDocument.documentElement,i)){if(null!==s&&or(i)){var c=s.start,u=s.end;if(void 0===u&&(u=c),"selectionStart"in i)i.selectionStart=c,i.selectionEnd=Math.min(u,i.value.length);else{var d=i.ownerDocument||document,f=d&&d.defaultView||window;if(f.getSelection){var p=f.getSelection(),h=i.textContent.length,m=Math.min(s.start,h),g=void 0===s.end?m:Math.min(s.end,h);!p.extend&&m>g&&(l=g,g=m,m=l);var y=tr(i,m),v=tr(i,g);if(y&&v&&(1!==p.rangeCount||p.anchorNode!==y.node||p.anchorOffset!==y.offset||p.focusNode!==v.node||p.focusOffset!==v.offset)){var b=d.createRange();b.setStart(y.node,y.offset),p.removeAllRanges(),m>g?(p.addRange(b),p.extend(v.node,v.offset)):(b.setEnd(v.node,v.offset),p.addRange(b))}}}}for(d=[],p=i;p=p.parentNode;)1===p.nodeType&&d.push({element:p,left:p.scrollLeft,top:p.scrollTop});for("function"===typeof i.focus&&i.focus(),i=0;i<d.length;i++){var k=d[i];k.element.scrollLeft=k.left,k.element.scrollTop=k.top}}kf=!!hd,md=hd=null}finally{pc=o,L.p=r,I.T=n}}e.current=t,Mc=2}}function yu(){if(2===Mc){Mc=0;var e=Fc,t=Dc,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=I.T,I.T=null;var r=L.p;L.p=2;var o=pc;pc|=4;try{Is(e,t.alternate,t)}finally{pc=o,L.p=r,I.T=n}}Mc=3}}function vu(){if(4===Mc||3===Mc){Mc=0,ie();var e=Fc,t=Dc,n=Uc,r=Wc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Mc=5:(Mc=0,Dc=Fc=null,bu(e,e.pendingLanes));var o=e.pendingLanes;if(0===o&&(zc=null),Me(n),t=t.stateNode,ve&&"function"===typeof ve.onCommitFiberRoot)try{ve.onCommitFiberRoot(ye,t,void 0,128===(128&t.current.flags))}catch(s){}if(null!==r){t=I.T,o=L.p,L.p=2,I.T=null;try{for(var a=e.onRecoverableError,l=0;l<r.length;l++){var i=r[l];a(i.value,{componentStack:i.stack})}}finally{I.T=t,L.p=o}}0!==(3&Uc)&&ku(),Lu(e),o=e.pendingLanes,0!==(261930&n)&&0!==(42&o)?e===Vc?qc++:(qc=0,Vc=e):qc=0,zu(0,!1)}}function bu(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Bo(t)))}function ku(){return gu(),yu(),vu(),xu()}function xu(){if(5!==Mc)return!1;var e=Fc,t=Bc;Bc=0;var n=Me(Uc),r=I.T,o=L.p;try{L.p=32>n?32:n,I.T=null,n=Hc,Hc=null;var a=Fc,i=Uc;if(Mc=0,Dc=Fc=null,Uc=0,0!==(6&pc))throw Error(l(331));var s=pc;if(pc|=4,sc(a.current),ec(a,a.current,i,n),pc=s,zu(0,!1),ve&&"function"===typeof ve.onPostCommitFiberRoot)try{ve.onPostCommitFiberRoot(ye,a)}catch(c){}return!0}finally{L.p=o,I.T=r,bu(e,t)}}function wu(e,t,n){t=Qr(n,t),null!==(e=ka(e,t=_i(e.stateNode,t,2),2))&&(Re(e,2),Lu(e))}function Su(e,t,n){if(3===e.tag)wu(e,e,n);else for(;null!==t;){if(3===t.tag){wu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===zc||!zc.has(r))){e=Qr(n,e),null!==(r=ka(t,n=Pi(2),2))&&(Ai(n,r,t,e),Re(r,2),Lu(r));break}}t=t.return}}function Cu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fc;var o=new Set;r.set(t,o)}else void 0===(o=r.get(t))&&(o=new Set,r.set(t,o));o.has(n)||(xc=!0,o.add(n),e=ju.bind(null,e,t,n),t.then(e,e))}function ju(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,hc===e&&(gc&n)===n&&(4===Sc||3===Sc&&(62914560&gc)===gc&&300>se()-Rc?0===(2&pc)&&tu(e,0):Ec|=n,Tc===gc&&(Tc=0)),Lu(e)}function Eu(e,t){0===t&&(t=Pe()),null!==(e=Or(e,t))&&(Re(e,t),Lu(e))}function Nu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Eu(e,n)}function Tu(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(l(314))}null!==r&&r.delete(t),Eu(e,n)}var _u=null,Pu=null,Au=!1,Ru=!1,Ou=!1,Iu=0;function Lu(e){e!==Pu&&null===e.next&&(null===Pu?_u=Pu=e:Pu=Pu.next=e),Ru=!0,Au||(Au=!0,Cd(function(){0!==(6&pc)?oe(ue,Mu):Fu()}))}function zu(e,t){if(!Ou&&Ru){Ou=!0;do{for(var n=!1,r=_u;null!==r;){if(!t)if(0!==e){var o=r.pendingLanes;if(0===o)var a=0;else{var l=r.suspendedLanes,i=r.pingedLanes;a=(1<<31-ke(42|e)+1)-1,a=201326741&(a&=o&~(l&~i))?201326741&a|1:a?2|a:0}0!==a&&(n=!0,Bu(r,a))}else a=gc,0===(3&(a=Ne(r,r===hc?a:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||Te(r,a)||(n=!0,Bu(r,a));r=r.next}}while(n);Ou=!1}}function Mu(){Fu()}function Fu(){Ru=Au=!1;var e=0;0!==Iu&&function(){var e=window.event;if(e&&"popstate"===e.type)return e!==kd&&(kd=e,!0);return kd=null,!1}()&&(e=Iu);for(var t=se(),n=null,r=_u;null!==r;){var o=r.next,a=Du(r,t);0===a?(r.next=null,null===n?_u=o:n.next=o,null===o&&(Pu=n)):(n=r,(0!==e||0!==(3&a))&&(Ru=!0)),r=o}0!==Mc&&5!==Mc||zu(e,!1),0!==Iu&&(Iu=0)}function Du(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,a=-62914561&e.pendingLanes;0<a;){var l=31-ke(a),i=1<<l,s=o[l];-1===s?0!==(i&n)&&0===(i&r)||(o[l]=_e(i,t)):s<=t&&(e.expiredLanes|=i),a&=~i}if(n=gc,n=Ne(e,e===(t=hc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===yc||9===yc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&ae(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||Te(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&ae(r),Me(n)){case 2:case 8:n=de;break;case 32:default:n=fe;break;case 268435456:n=he}return r=Uu.bind(null,e),n=oe(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&ae(r),e.callbackPriority=2,e.callbackNode=null,2}function Uu(e,t){if(0!==Mc&&5!==Mc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(ku()&&e.callbackNode!==n)return null;var r=gc;return 0===(r=Ne(e,e===hc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Jc(e,r,t),Du(e,se()),null!=e.callbackNode&&e.callbackNode===n?Uu.bind(null,e):null)}function Bu(e,t){if(ku())return null;Jc(e,t,!0)}function Hu(){if(0===Iu){var e=qo;0===e&&(e=Se,0===(261888&(Se<<=1))&&(Se=256)),Iu=e}return Iu}function Wu(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:At(""+e)}function qu(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Vu=0;Vu<Cr.length;Vu++){var $u=Cr[Vu];jr($u.toLowerCase(),"on"+($u[0].toUpperCase()+$u.slice(1)))}jr(gr,"onAnimationEnd"),jr(yr,"onAnimationIteration"),jr(vr,"onAnimationStart"),jr("dblclick","onDoubleClick"),jr("focusin","onFocus"),jr("focusout","onBlur"),jr(br,"onTransitionRun"),jr(kr,"onTransitionStart"),jr(xr,"onTransitionCancel"),jr(wr,"onTransitionEnd"),ot("onMouseEnter",["mouseout","mouseover"]),ot("onMouseLeave",["mouseout","mouseover"]),ot("onPointerEnter",["pointerout","pointerover"]),ot("onPointerLeave",["pointerout","pointerover"]),rt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rt("onBeforeInput",["compositionend","keypress","textInput","paste"]),rt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ku="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ku));function Ju(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var l=r.length-1;0<=l;l--){var i=r[l],s=i.instance,c=i.currentTarget;if(i=i.listener,s!==a&&o.isPropagationStopped())break e;a=i,o.currentTarget=c;try{a(o)}catch(u){Er(u)}o.currentTarget=null,a=s}else for(l=0;l<r.length;l++){if(s=(i=r[l]).instance,c=i.currentTarget,i=i.listener,s!==a&&o.isPropagationStopped())break e;a=i,o.currentTarget=c;try{a(o)}catch(u){Er(u)}o.currentTarget=null,a=s}}}}function Yu(e,t){var n=t[qe];void 0===n&&(n=t[qe]=new Set);var r=e+"__bubble";n.has(r)||(ed(t,e,2,!1),n.add(r))}function Gu(e,t,n){var r=0;t&&(r|=4),ed(n,e,r,t)}var Xu="_reactListening"+Math.random().toString(36).slice(2);function Zu(e){if(!e[Xu]){e[Xu]=!0,tt.forEach(function(t){"selectionchange"!==t&&(Qu.has(t)||Gu(t,!1,e),Gu(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Xu]||(t[Xu]=!0,Gu("selectionchange",!1,t))}}function ed(e,t,n,r){switch(Nf(t)){case 2:var o=xf;break;case 8:o=wf;break;default:o=Sf}n=o.bind(null,t,n,e),o=void 0,!Ht||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function td(e,t,n,r,o){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var l=r.tag;if(3===l||4===l){var i=r.stateNode.containerInfo;if(i===o)break;if(4===l)for(l=r.return;null!==l;){var c=l.tag;if((3===c||4===c)&&l.stateNode.containerInfo===o)return;l=l.return}for(;null!==i;){if(null===(l=Ye(i)))return;if(5===(c=l.tag)||6===c||26===c||27===c){r=a=l;continue e}i=i.parentNode}}r=r.return}Dt(function(){var r=a,o=It(n),l=[];e:{var i=Sr.get(e);if(void 0!==i){var c=nn,u=e;switch(e){case"keypress":if(0===Qt(n))break e;case"keydown":case"keyup":c=vn;break;case"focusin":u="focus",c=cn;break;case"focusout":u="blur",c=cn;break;case"beforeblur":case"afterblur":c=cn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=ln;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=sn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=kn;break;case gr:case yr:case vr:c=un;break;case wr:c=xn;break;case"scroll":case"scrollend":c=on;break;case"wheel":c=wn;break;case"copy":case"cut":case"paste":c=dn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=bn;break;case"toggle":case"beforetoggle":c=Sn}var d=0!==(4&t),f=!d&&("scroll"===e||"scrollend"===e),p=d?null!==i?i+"Capture":null:i;d=[];for(var h,m=r;null!==m;){var g=m;if(h=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===h||null===p||null!=(g=Ut(m,p))&&d.push(nd(m,g,h)),f)break;m=m.return}0<d.length&&(i=new c(i,u,null,n,o),l.push({event:i,listeners:d}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(i="mouseover"===e||"pointerover"===e)||n===Ot||!(u=n.relatedTarget||n.fromElement)||!Ye(u)&&!u[We])&&(c||i)&&(i=o.window===o?o:(i=o.ownerDocument)?i.defaultView||i.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?Ye(u):null)&&(f=s(u),d=u.tag,u!==f||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=r),c!==u)){if(d=ln,g="onMouseLeave",p="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=bn,g="onPointerLeave",p="onPointerEnter",m="pointer"),f=null==c?i:Xe(c),h=null==u?i:Xe(u),(i=new d(g,m+"leave",c,n,o)).target=f,i.relatedTarget=h,g=null,Ye(o)===r&&((d=new d(p,m+"enter",u,n,o)).target=h,d.relatedTarget=f,g=d),f=g,c&&u)e:{for(d=od,m=u,h=0,g=p=c;g;g=d(g))h++;g=0;for(var y=m;y;y=d(y))g++;for(;0<h-g;)p=d(p),h--;for(;0<g-h;)m=d(m),g--;for(;h--;){if(p===m||null!==m&&p===m.alternate){d=p;break e}p=d(p),m=d(m)}d=null}else d=null;null!==c&&ad(l,i,c,d,!1),null!==u&&null!==f&&ad(l,f,u,d,!0)}if("select"===(c=(i=r?Xe(r):window).nodeName&&i.nodeName.toLowerCase())||"input"===c&&"file"===i.type)var v=Bn;else if(Ln(i))if(Hn)v=Gn;else{v=Jn;var b=Qn}else!(c=i.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==i.type&&"radio"!==i.type?r&&Tt(r.elementType)&&(v=Bn):v=Yn;switch(v&&(v=v(e,r))?zn(l,v,n,o):(b&&b(e,i,r),"focusout"===e&&r&&"number"===i.type&&null!=r.memoizedProps.value&&kt(i,"number",i.value)),b=r?Xe(r):window,e){case"focusin":(Ln(b)||"true"===b.contentEditable)&&(lr=b,ir=r,sr=null);break;case"focusout":sr=ir=lr=null;break;case"mousedown":cr=!0;break;case"contextmenu":case"mouseup":case"dragend":cr=!1,ur(l,n,o);break;case"selectionchange":if(ar)break;case"keydown":case"keyup":ur(l,n,o)}var k;if(jn)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else On?An(e,n)&&(x="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(x="onCompositionStart");x&&(Tn&&"ko"!==n.locale&&(On||"onCompositionStart"!==x?"onCompositionEnd"===x&&On&&(k=Kt()):(Vt="value"in(qt=o)?qt.value:qt.textContent,On=!0)),0<(b=rd(r,x)).length&&(x=new fn(x,e,null,n,o),l.push({event:x,listeners:b}),k?x.data=k:null!==(k=Rn(n))&&(x.data=k))),(k=Nn?function(e,t){switch(e){case"compositionend":return Rn(t);case"keypress":return 32!==t.which?null:(Pn=!0,_n);case"textInput":return(e=t.data)===_n&&Pn?null:e;default:return null}}(e,n):function(e,t){if(On)return"compositionend"===e||!jn&&An(e,t)?(e=Kt(),$t=Vt=qt=null,On=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Tn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(x=rd(r,"onBeforeInput")).length&&(b=new fn("onBeforeInput","beforeinput",null,n,o),l.push({event:b,listeners:x}),b.data=k)),function(e,t,n,r,o){if("submit"===t&&n&&n.stateNode===o){var a=Wu((o[He]||null).action),l=r.submitter;l&&null!==(t=(t=l[He]||null)?Wu(t.formAction):l.getAttribute("formAction"))&&(a=t,l=null);var i=new nn("action","action",null,r,o);e.push({event:i,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==Iu){var e=l?qu(o,l):new FormData(o);ti(n,{pending:!0,data:e,method:o.method,action:a},null,e)}}else"function"===typeof a&&(i.preventDefault(),e=l?qu(o,l):new FormData(o),ti(n,{pending:!0,data:e,method:o.method,action:a},a,e))},currentTarget:o}]})}}(l,e,r,n,o)}Ju(l,t)})}function nd(e,t,n){return{instance:e,listener:t,currentTarget:n}}function rd(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,a=o.stateNode;if(5!==(o=o.tag)&&26!==o&&27!==o||null===a||(null!=(o=Ut(e,n))&&r.unshift(nd(e,o,a)),null!=(o=Ut(e,t))&&r.push(nd(e,o,a))),3===e.tag)return r;e=e.return}return[]}function od(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function ad(e,t,n,r,o){for(var a=t._reactName,l=[];null!==n&&n!==r;){var i=n,s=i.alternate,c=i.stateNode;if(i=i.tag,null!==s&&s===r)break;5!==i&&26!==i&&27!==i||null===c||(s=c,o?null!=(c=Ut(n,a))&&l.unshift(nd(n,c,s)):o||null!=(c=Ut(n,a))&&l.push(nd(n,c,s))),n=n.return}0!==l.length&&e.push({event:t,listeners:l})}var ld=/\r\n?/g,id=/\u0000|\uFFFD/g;function sd(e){return("string"===typeof e?e:""+e).replace(ld,"\n").replace(id,"")}function cd(e,t){return t=sd(t),sd(e)===t}function ud(e,t,n,r,o,a){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||Ct(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&Ct(e,""+r);break;case"className":ct(e,"class",r);break;case"tabIndex":ct(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":ct(e,n,r);break;case"style":Nt(e,r,a);break;case"data":if("object"!==t){ct(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=At(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof a&&("formAction"===n?("input"!==t&&ud(e,t,"name",o.name,o,null),ud(e,t,"formEncType",o.formEncType,o,null),ud(e,t,"formMethod",o.formMethod,o,null),ud(e,t,"formTarget",o.formTarget,o,null)):(ud(e,t,"encType",o.encType,o,null),ud(e,t,"method",o.method,o,null),ud(e,t,"target",o.target,o,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=At(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Rt);break;case"onScroll":null!=r&&Yu("scroll",e);break;case"onScrollEnd":null!=r&&Yu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(l(61));if(null!=(n=r.__html)){if(null!=o.children)throw Error(l(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=At(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Yu("beforetoggle",e),Yu("toggle",e),st(e,"popover",r);break;case"xlinkActuate":ut(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":ut(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":ut(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":ut(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":ut(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":ut(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":ut(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":ut(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":ut(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":st(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&st(e,n=_t.get(n)||n,r)}}function dd(e,t,n,r,o,a){switch(n){case"style":Nt(e,r,a);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(l(61));if(null!=(n=r.__html)){if(null!=o.children)throw Error(l(60));e.innerHTML=n}}break;case"children":"string"===typeof r?Ct(e,r):("number"===typeof r||"bigint"===typeof r)&&Ct(e,""+r);break;case"onScroll":null!=r&&Yu("scroll",e);break;case"onScrollEnd":null!=r&&Yu("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Rt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:nt.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(o=n.endsWith("Capture"),t=n.slice(2,o?n.length-7:void 0),"function"===typeof(a=null!=(a=e[He]||null)?a[n]:null)&&e.removeEventListener(t,a,o),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):st(e,n,r):("function"!==typeof a&&null!==a&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,o)))}}function fd(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Yu("error",e),Yu("load",e);var r,o=!1,a=!1;for(r in n)if(n.hasOwnProperty(r)){var i=n[r];if(null!=i)switch(r){case"src":o=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:ud(e,t,r,i,n,null)}}return a&&ud(e,t,"srcSet",n.srcSet,n,null),void(o&&ud(e,t,"src",n.src,n,null));case"input":Yu("invalid",e);var s=r=i=a=null,c=null,u=null;for(o in n)if(n.hasOwnProperty(o)){var d=n[o];if(null!=d)switch(o){case"name":a=d;break;case"type":i=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":s=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(l(137,t));break;default:ud(e,t,o,d,n,null)}}return void bt(e,r,s,c,u,i,a,!1);case"select":for(a in Yu("invalid",e),o=i=r=null,n)if(n.hasOwnProperty(a)&&null!=(s=n[a]))switch(a){case"value":r=s;break;case"defaultValue":i=s;break;case"multiple":o=s;default:ud(e,t,a,s,n,null)}return t=r,n=i,e.multiple=!!o,void(null!=t?xt(e,!!o,t,!1):null!=n&&xt(e,!!o,n,!0));case"textarea":for(i in Yu("invalid",e),r=a=o=null,n)if(n.hasOwnProperty(i)&&null!=(s=n[i]))switch(i){case"value":o=s;break;case"defaultValue":a=s;break;case"children":r=s;break;case"dangerouslySetInnerHTML":if(null!=s)throw Error(l(91));break;default:ud(e,t,i,s,n,null)}return void St(e,o,a,r);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(o=n[c]))if("selected"===c)e.selected=o&&"function"!==typeof o&&"symbol"!==typeof o;else ud(e,t,c,o,n,null);return;case"dialog":Yu("beforetoggle",e),Yu("toggle",e),Yu("cancel",e),Yu("close",e);break;case"iframe":case"object":Yu("load",e);break;case"video":case"audio":for(o=0;o<Ku.length;o++)Yu(Ku[o],e);break;case"image":Yu("error",e),Yu("load",e);break;case"details":Yu("toggle",e);break;case"embed":case"source":case"link":Yu("error",e),Yu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(o=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:ud(e,t,u,o,n,null)}return;default:if(Tt(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(o=n[d])&&dd(e,t,d,o,n,void 0));return}}for(s in n)n.hasOwnProperty(s)&&(null!=(o=n[s])&&ud(e,t,s,o,n,null))}function pd(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var hd=null,md=null;function gd(e){return 9===e.nodeType?e:e.ownerDocument}function yd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function vd(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function bd(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var kd=null;var xd="function"===typeof setTimeout?setTimeout:void 0,wd="function"===typeof clearTimeout?clearTimeout:void 0,Sd="function"===typeof Promise?Promise:void 0,Cd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof Sd?function(e){return Sd.resolve(null).then(e).catch(jd)}:xd;function jd(e){setTimeout(function(){throw e})}function Ed(e){return"head"===e}function Nd(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)||"/&"===n){if(0===r)return e.removeChild(o),void Vf(t);r--}else if("$"===n||"$?"===n||"$~"===n||"$!"===n||"&"===n)r++;else if("html"===n)Fd(e.ownerDocument.documentElement);else if("head"===n){Fd(n=e.ownerDocument.head);for(var a=n.firstChild;a;){var l=a.nextSibling,i=a.nodeName;a[Qe]||"SCRIPT"===i||"STYLE"===i||"LINK"===i&&"stylesheet"===a.rel.toLowerCase()||n.removeChild(a),a=l}}else"body"===n&&Fd(e.ownerDocument.body);n=o}while(n);Vf(t)}function Td(e,t){var n=e;e=0;do{var r=n.nextSibling;if(1===n.nodeType?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",""===n.getAttribute("style")&&n.removeAttribute("style")):3===n.nodeType&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===e)break;e--}else"$"!==n&&"$?"!==n&&"$~"!==n&&"$!"!==n||e++;n=r}while(n)}function _d(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":_d(n),Je(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function Pd(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=Od(e.nextSibling)))return null}return e}function Ad(e){return"$?"===e.data||"$~"===e.data}function Rd(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function Od(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var Id=null;function Ld(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n||"/&"===n){if(0===t)return Od(e.nextSibling);t--}else"$"!==n&&"$!"!==n&&"$?"!==n&&"$~"!==n&&"&"!==n||t++}e=e.nextSibling}return null}function zd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n||"$~"===n||"&"===n){if(0===t)return e;t--}else"/$"!==n&&"/&"!==n||t++}e=e.previousSibling}return null}function Md(e,t,n){switch(t=gd(n),e){case"html":if(!(e=t.documentElement))throw Error(l(452));return e;case"head":if(!(e=t.head))throw Error(l(453));return e;case"body":if(!(e=t.body))throw Error(l(454));return e;default:throw Error(l(451))}}function Fd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Je(e)}var Dd=new Map,Ud=new Set;function Bd(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Hd=L.d;L.d={f:function(){var e=Hd.f(),t=Zc();return e||t},r:function(e){var t=Ge(e);null!==t&&5===t.tag&&"form"===t.type?ri(t):Hd.r(e)},D:function(e){Hd.D(e),qd("dns-prefetch",e,null)},C:function(e,t){Hd.C(e,t),qd("preconnect",e,t)},L:function(e,t,n){Hd.L(e,t,n);var r=Wd;if(r&&e&&t){var o='link[rel="preload"][as="'+yt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(o+='[imagesrcset="'+yt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(o+='[imagesizes="'+yt(n.imageSizes)+'"]')):o+='[href="'+yt(e)+'"]';var a=o;switch(t){case"style":a=$d(e);break;case"script":a=Jd(e)}Dd.has(a)||(e=p({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Dd.set(a,e),null!==r.querySelector(o)||"style"===t&&r.querySelector(Kd(a))||"script"===t&&r.querySelector(Yd(a))||(fd(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}},m:function(e,t){Hd.m(e,t);var n=Wd;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",o='link[rel="modulepreload"][as="'+yt(r)+'"][href="'+yt(e)+'"]',a=o;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=Jd(e)}if(!Dd.has(a)&&(e=p({rel:"modulepreload",href:e},t),Dd.set(a,e),null===n.querySelector(o))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Yd(a)))return}fd(r=n.createElement("link"),"link",e),et(r),n.head.appendChild(r)}}},X:function(e,t){Hd.X(e,t);var n=Wd;if(n&&e){var r=Ze(n).hoistableScripts,o=Jd(e),a=r.get(o);a||((a=n.querySelector(Yd(o)))||(e=p({src:e,async:!0},t),(t=Dd.get(o))&&ef(e,t),et(a=n.createElement("script")),fd(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(o,a))}},S:function(e,t,n){Hd.S(e,t,n);var r=Wd;if(r&&e){var o=Ze(r).hoistableStyles,a=$d(e);t=t||"default";var l=o.get(a);if(!l){var i={loading:0,preload:null};if(l=r.querySelector(Kd(a)))i.loading=5;else{e=p({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Dd.get(a))&&Zd(e,n);var s=l=r.createElement("link");et(s),fd(s,"link",e),s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),s.addEventListener("load",function(){i.loading|=1}),s.addEventListener("error",function(){i.loading|=2}),i.loading|=4,Xd(l,t,r)}l={type:"stylesheet",instance:l,count:1,state:i},o.set(a,l)}}},M:function(e,t){Hd.M(e,t);var n=Wd;if(n&&e){var r=Ze(n).hoistableScripts,o=Jd(e),a=r.get(o);a||((a=n.querySelector(Yd(o)))||(e=p({src:e,async:!0,type:"module"},t),(t=Dd.get(o))&&ef(e,t),et(a=n.createElement("script")),fd(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(o,a))}}};var Wd="undefined"===typeof document?null:document;function qd(e,t,n){var r=Wd;if(r&&"string"===typeof t&&t){var o=yt(t);o='link[rel="'+e+'"][href="'+o+'"]',"string"===typeof n&&(o+='[crossorigin="'+n+'"]'),Ud.has(o)||(Ud.add(o),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(o)&&(fd(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}}function Vd(e,t,n,r){var o,a,i,s,c=(c=$.current)?Bd(c):null;if(!c)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=$d(n.href),(r=(n=Ze(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=$d(n.href);var u=Ze(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Kd(e)))&&!u._p&&(d.instance=u,d.state.loading=5),Dd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Dd.set(e,n),u||(o=c,a=e,i=n,s=d.state,o.querySelector('link[rel="preload"][as="style"]['+a+"]")?s.loading=1:(a=o.createElement("link"),s.preload=a,a.addEventListener("load",function(){return s.loading|=1}),a.addEventListener("error",function(){return s.loading|=2}),fd(a,"link",i),et(a),o.head.appendChild(a))))),t&&null===r)throw Error(l(528,""));return d}if(t&&null!==r)throw Error(l(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Jd(n),(r=(n=Ze(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function $d(e){return'href="'+yt(e)+'"'}function Kd(e){return'link[rel="stylesheet"]['+e+"]"}function Qd(e){return p({},e,{"data-precedence":e.precedence,precedence:null})}function Jd(e){return'[src="'+yt(e)+'"]'}function Yd(e){return"script[async]"+e}function Gd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+yt(n.href)+'"]');if(r)return t.instance=r,et(r),r;var o=p({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return et(r=(e.ownerDocument||e).createElement("style")),fd(r,"style",o),Xd(r,n.precedence,e),t.instance=r;case"stylesheet":o=$d(n.href);var a=e.querySelector(Kd(o));if(a)return t.state.loading|=4,t.instance=a,et(a),a;r=Qd(n),(o=Dd.get(o))&&Zd(r,o),et(a=(e.ownerDocument||e).createElement("link"));var i=a;return i._p=new Promise(function(e,t){i.onload=e,i.onerror=t}),fd(a,"link",r),t.state.loading|=4,Xd(a,n.precedence,e),t.instance=a;case"script":return a=Jd(n.src),(o=e.querySelector(Yd(a)))?(t.instance=o,et(o),o):(r=n,(o=Dd.get(a))&&ef(r=p({},n),o),et(o=(e=e.ownerDocument||e).createElement("script")),fd(o,"link",r),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(l(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Xd(r,n.precedence,e));return t.instance}function Xd(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=r.length?r[r.length-1]:null,a=o,l=0;l<r.length;l++){var i=r[l];if(i.dataset.precedence===t)a=i;else if(a!==o)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Zd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function ef(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var tf=null;function nf(e,t,n){if(null===tf){var r=new Map,o=tf=new Map;o.set(n,r)}else(r=(o=tf).get(n))||(r=new Map,o.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),o=0;o<n.length;o++){var a=n[o];if(!(a[Qe]||a[Be]||"link"===e&&"stylesheet"===a.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==a.namespaceURI){var l=a.getAttribute(t)||"";l=e+l;var i=r.get(l);i?i.push(a):r.set(l,[a])}}return r}function rf(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function of(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var af=0;function lf(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)cf(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var sf=null;function cf(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,sf=new Map,t.forEach(uf,e),sf=null,lf.call(e))}function uf(e,t){if(!(4&t.state.loading)){var n=sf.get(e);if(n)var r=n.get(null);else{n=new Map,sf.set(e,n);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<o.length;a++){var l=o[a];"LINK"!==l.nodeName&&"not all"===l.getAttribute("media")||(n.set(l.dataset.precedence,l),r=l)}r&&n.set(null,r)}l=(o=t.instance).getAttribute("data-precedence"),(a=n.get(l)||r)===r&&n.set(null,o),n.set(l,o),this.count++,r=lf.bind(this),o.addEventListener("load",r),o.addEventListener("error",r),a?a.parentNode.insertBefore(o,a.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(o,e.firstChild),t.state.loading|=4}}var df={$$typeof:x,Provider:null,Consumer:null,_currentValue:z,_currentValue2:z,_threadCount:0};function ff(e,t,n,r,o,a,l,i,s){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ae(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ae(0),this.hiddenUpdates=Ae(null),this.identifierPrefix=r,this.onUncaughtError=o,this.onCaughtError=a,this.onRecoverableError=l,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=s,this.incompleteTransitions=new Map}function pf(e,t,n,r,o,a,l,i,s,c,u,d){return e=new ff(e,t,n,l,s,c,u,d,i),t=1,!0===a&&(t|=24),a=Fr(3,null,null,t),e.current=a,a.stateNode=e,(t=Uo()).refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:t},ya(a),e}function hf(e){return e?e=zr:zr}function mf(e,t,n,r,o,a){o=hf(o),null===r.context?r.context=o:r.pendingContext=o,(r=ba(t)).payload={element:n},null!==(a=void 0===a?null:a)&&(r.callback=a),null!==(n=ka(e,r,t))&&(Qc(n,0,t),xa(n,e,t))}function gf(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function yf(e,t){gf(e,t),(e=e.alternate)&&gf(e,t)}function vf(e){if(13===e.tag||31===e.tag){var t=Or(e,67108864);null!==t&&Qc(t,0,67108864),yf(e,67108864)}}function bf(e){if(13===e.tag||31===e.tag){var t=$c(),n=Or(e,t=ze(t));null!==n&&Qc(n,0,t),yf(e,t)}}var kf=!0;function xf(e,t,n,r){var o=I.T;I.T=null;var a=L.p;try{L.p=2,Sf(e,t,n,r)}finally{L.p=a,I.T=o}}function wf(e,t,n,r){var o=I.T;I.T=null;var a=L.p;try{L.p=8,Sf(e,t,n,r)}finally{L.p=a,I.T=o}}function Sf(e,t,n,r){if(kf){var o=Cf(r);if(null===o)td(e,t,r,jf,n),zf(e,r);else if(function(e,t,n,r,o){switch(t){case"focusin":return _f=Mf(_f,e,t,n,r,o),!0;case"dragenter":return Pf=Mf(Pf,e,t,n,r,o),!0;case"mouseover":return Af=Mf(Af,e,t,n,r,o),!0;case"pointerover":var a=o.pointerId;return Rf.set(a,Mf(Rf.get(a)||null,e,t,n,r,o)),!0;case"gotpointercapture":return a=o.pointerId,Of.set(a,Mf(Of.get(a)||null,e,t,n,r,o)),!0}return!1}(o,e,t,n,r))r.stopPropagation();else if(zf(e,r),4&t&&-1<Lf.indexOf(e)){for(;null!==o;){var a=Ge(o);if(null!==a)switch(a.tag){case 3:if((a=a.stateNode).current.memoizedState.isDehydrated){var l=Ee(a.pendingLanes);if(0!==l){var i=a;for(i.pendingLanes|=2,i.entangledLanes|=2;l;){var s=1<<31-ke(l);i.entanglements[1]|=s,l&=~s}Lu(a),0===(6&pc)&&(Ic=se()+500,zu(0,!1))}}break;case 31:case 13:null!==(i=Or(a,2))&&Qc(i,0,2),Zc(),yf(a,2)}if(null===(a=Cf(r))&&td(e,t,r,jf,n),a===o)break;o=a}null!==o&&r.stopPropagation()}else td(e,t,r,null,n)}}function Cf(e){return Ef(e=It(e))}var jf=null;function Ef(e){if(jf=null,null!==(e=Ye(e))){var t=s(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(31===n){if(null!==(e=u(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return jf=e,null}function Nf(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ce()){case ue:return 2;case de:return 8;case fe:case pe:return 32;case he:return 268435456;default:return 32}default:return 32}}var Tf=!1,_f=null,Pf=null,Af=null,Rf=new Map,Of=new Map,If=[],Lf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function zf(e,t){switch(e){case"focusin":case"focusout":_f=null;break;case"dragenter":case"dragleave":Pf=null;break;case"mouseover":case"mouseout":Af=null;break;case"pointerover":case"pointerout":Rf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Of.delete(t.pointerId)}}function Mf(e,t,n,r,o,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[o]},null!==t&&(null!==(t=Ge(t))&&vf(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function Ff(e){var t=Ye(e.target);if(null!==t){var n=s(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void De(e.priority,function(){bf(n)})}else if(31===t){if(null!==(t=u(n)))return e.blockedOn=t,void De(e.priority,function(){bf(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Df(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Cf(e.nativeEvent);if(null!==n)return null!==(t=Ge(n))&&vf(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Ot=r,n.target.dispatchEvent(r),Ot=null,t.shift()}return!0}function Uf(e,t,n){Df(e)&&n.delete(t)}function Bf(){Tf=!1,null!==_f&&Df(_f)&&(_f=null),null!==Pf&&Df(Pf)&&(Pf=null),null!==Af&&Df(Af)&&(Af=null),Rf.forEach(Uf),Of.forEach(Uf)}function Hf(e,t){e.blockedOn===t&&(e.blockedOn=null,Tf||(Tf=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Bf)))}var Wf=null;function qf(e){Wf!==e&&(Wf=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Wf===e&&(Wf=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],o=e[t+2];if("function"!==typeof r){if(null===Ef(r||n))continue;break}var a=Ge(n);null!==a&&(e.splice(t,3),t-=3,ti(a,{pending:!0,data:o,method:n.method,action:r},r,o))}}))}function Vf(e){function t(t){return Hf(t,e)}null!==_f&&Hf(_f,e),null!==Pf&&Hf(Pf,e),null!==Af&&Hf(Af,e),Rf.forEach(t),Of.forEach(t);for(var n=0;n<If.length;n++){var r=If[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<If.length&&null===(n=If[0]).blockedOn;)Ff(n),null===n.blockedOn&&If.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var o=n[r],a=n[r+1],l=o[He]||null;if("function"===typeof a)l||qf(n);else if(l){var i=null;if(a&&a.hasAttribute("formAction")){if(o=a,l=a[He]||null)i=l.formAction;else if(null!==Ef(o))continue}else i=l.action;"function"===typeof i?n[r+1]=i:(n.splice(r,3),r-=3),qf(n)}}}function $f(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return o=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==o&&(o(),o=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"===typeof navigation){var r=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==o&&(o(),o=null)}}}function Kf(e){this._internalRoot=e}function Qf(e){this._internalRoot=e}Qf.prototype.render=Kf.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(l(409));mf(t.current,$c(),e,t,null,null)},Qf.prototype.unmount=Kf.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;mf(e.current,2,null,e,null,null),Zc(),t[We]=null}},Qf.prototype.unstable_scheduleHydration=function(e){if(e){var t=Fe();e={blockedOn:null,target:e,priority:t};for(var n=0;n<If.length&&0!==t&&t<If[n].priority;n++);If.splice(n,0,e),0===n&&Ff(e)}};var Jf=o.version;if("19.2.0"!==Jf)throw Error(l(527,Jf,"19.2.0"));L.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(l(188));throw e=Object.keys(e).join(","),Error(l(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=s(e)))throw Error(l(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var a=o.alternate;if(null===a){if(null!==(r=o.return)){n=r;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===n)return d(o),e;if(a===r)return d(o),t;a=a.sibling}throw Error(l(188))}if(n.return!==r.return)n=o,r=a;else{for(var i=!1,c=o.child;c;){if(c===n){i=!0,n=o,r=a;break}if(c===r){i=!0,r=o,n=a;break}c=c.sibling}if(!i){for(c=a.child;c;){if(c===n){i=!0,n=a,r=o;break}if(c===r){i=!0,r=a,n=o;break}c=c.sibling}if(!i)throw Error(l(189))}}if(n.alternate!==r)throw Error(l(190))}if(3!==n.tag)throw Error(l(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?f(e):null)?null:e.stateNode};var Yf={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:I,reconcilerVersion:"19.2.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Gf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gf.isDisabled&&Gf.supportsFiber)try{ye=Gf.inject(Yf),ve=Gf}catch(Zf){}}t.createRoot=function(e,t){if(!i(e))throw Error(l(299));var n=!1,r="",o=Ci,a=ji,s=Ei;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(o=t.onUncaughtError),void 0!==t.onCaughtError&&(a=t.onCaughtError),void 0!==t.onRecoverableError&&(s=t.onRecoverableError)),t=pf(e,1,!1,null,0,n,r,null,o,a,s,$f),e[We]=t.current,Zu(e),new Kf(t)},t.hydrateRoot=function(e,t,n){if(!i(e))throw Error(l(299));var r=!1,o="",a=Ci,s=ji,c=Ei,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onUncaughtError&&(a=n.onUncaughtError),void 0!==n.onCaughtError&&(s=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.formState&&(u=n.formState)),(t=pf(e,1,!0,t,0,r,o,u,a,s,c,$f)).context=hf(null),n=t.current,(o=ba(r=ze(r=$c()))).callback=null,ka(n,o,r),n=r,t.current.lanes=n,Re(t,n),Lu(t),e[We]=t.current,Zu(e),new Qf(t)},t.version="19.2.0"},43:(e,t,n)=>{e.exports=n(288)},288:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),h=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,y={};function v(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||m}function b(){}function k(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||m}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=v.prototype;var x=k.prototype=new b;x.constructor=k,g(x,v.prototype),x.isPureReactComponent=!0;var w=Array.isArray;function S(){}var C={H:null,A:null,T:null,S:null},j=Object.prototype.hasOwnProperty;function E(e,t,r){var o=r.ref;return{$$typeof:n,type:e,key:t,ref:void 0!==o?o:null,props:r}}function N(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function _(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function P(e,t,o,a,l){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var s,c,u=!1;if(null===e)u=!0;else switch(i){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case f:return P((u=e._init)(e._payload),t,o,a,l)}}if(u)return l=l(e),u=""===a?"."+_(e,0):a,w(l)?(o="",null!=u&&(o=u.replace(T,"$&/")+"/"),P(l,t,o,"",function(e){return e})):null!=l&&(N(l)&&(s=l,c=o+(null==l.key||e&&e.key===l.key?"":(""+l.key).replace(T,"$&/")+"/")+u,l=E(s.type,c,s.props)),t.push(l)),1;u=0;var d,p=""===a?".":a+":";if(w(e))for(var m=0;m<e.length;m++)u+=P(a=e[m],t,o,i=p+_(a,m),l);else if("function"===typeof(m=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=h&&d[h]||d["@@iterator"])?d:null))for(e=m.call(e),m=0;!(a=e.next()).done;)u+=P(a=a.value,t,o,i=p+_(a,m++),l);else if("object"===i){if("function"===typeof e.then)return P(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(S,S):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,o,a,l);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function A(e,t,n){if(null==e)return e;var r=[],o=0;return P(e,r,"","",function(e){return t.call(n,e,o++)}),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},I={map:A,forEach:function(e,t,n){A(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return A(e,function(){t++}),t},toArray:function(e){return A(e,function(e){return e})||[]},only:function(e){if(!N(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};t.Activity=p,t.Children=I,t.Component=v,t.Fragment=o,t.Profiler=l,t.PureComponent=k,t.StrictMode=a,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return C.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cacheSignal=function(){return null},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=g({},e.props),o=e.key;if(null!=t)for(a in void 0!==t.key&&(o=""+t.key),t)!j.call(t,a)||"key"===a||"__self"===a||"__source"===a||"ref"===a&&void 0===t.ref||(r[a]=t[a]);var a=arguments.length-2;if(1===a)r.children=n;else if(1<a){for(var l=Array(a),i=0;i<a;i++)l[i]=arguments[i+2];r.children=l}return E(e.type,o,r)},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:i,_context:e},e},t.createElement=function(e,t,n){var r,o={},a=null;if(null!=t)for(r in void 0!==t.key&&(a=""+t.key),t)j.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(o[r]=t[r]);var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){for(var i=Array(l),s=0;s<l;s++)i[s]=arguments[s+2];o.children=i}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===o[r]&&(o[r]=l[r]);return E(e,a,o)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=N,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=C.T,n={};C.T=n;try{var r=e(),o=C.S;null!==o&&o(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(S,O)}catch(a){O(a)}finally{null!==t&&null!==n.types&&(t.types=n.types),C.T=t}},t.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},t.use=function(e){return C.H.use(e)},t.useActionState=function(e,t,n){return C.H.useActionState(e,t,n)},t.useCallback=function(e,t){return C.H.useCallback(e,t)},t.useContext=function(e){return C.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return C.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return C.H.useEffect(e,t)},t.useEffectEvent=function(e){return C.H.useEffectEvent(e)},t.useId=function(){return C.H.useId()},t.useImperativeHandle=function(e,t,n){return C.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return C.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return C.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return C.H.useMemo(e,t)},t.useOptimistic=function(e,t){return C.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return C.H.useReducer(e,t,n)},t.useRef=function(e){return C.H.useRef(e)},t.useState=function(e){return C.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return C.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return C.H.useTransition()},t.version="19.2.0"},391:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},579:(e,t,n)=>{e.exports=n(799)},672:(e,t,n)=>{var r=n(43);function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var l={d:{f:a,r:function(){throw Error(o(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},i=Symbol.for("react.portal");var s=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(o(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:i,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=s.T,n=l.p;try{if(s.T=null,l.p=2,e)return e()}finally{s.T=t,l.p=n,l.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,l.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&l.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),o="string"===typeof t.integrity?t.integrity:void 0,a="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?l.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:o,fetchPriority:a}):"script"===n&&l.d.X(e,{crossOrigin:r,integrity:o,fetchPriority:a,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);l.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&l.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);l.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);l.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else l.d.m(e)},t.requestFormReset=function(e){l.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return s.H.useFormState(e,t,n)},t.useFormStatus=function(){return s.H.useHostTransitionStatus()},t.version="19.2.0"},799:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function o(e,t,r){var o=null;if(void 0!==r&&(o=""+r),void 0!==t.key&&(o=""+t.key),"key"in t)for(var a in r={},t)"key"!==a&&(r[a]=t[a]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:o,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=o,t.jsxs=o},853:(e,t,n)=>{e.exports=n(896)},896:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(!(0<a(o,t)))break e;e[r]=t,e[n]=o,n=r}}function r(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,l=o>>>1;r<l;){var i=2*(r+1)-1,s=e[i],c=i+1,u=e[c];if(0>a(s,n))c<o&&0>a(u,s)?(e[r]=u,e[c]=n,r=c):(e[r]=s,e[i]=n,r=i);else{if(!(c<o&&0>a(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var l=performance;t.unstable_now=function(){return l.now()}}else{var i=Date,s=i.now();t.unstable_now=function(){return i.now()-s}}var c=[],u=[],d=1,f=null,p=3,h=!1,m=!1,g=!1,y=!1,v="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(u);null!==t;){if(null===t.callback)o(u);else{if(!(t.startTime<=e))break;o(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(g=!1,x(e),!m)if(null!==r(c))m=!0,C||(C=!0,S());else{var t=r(u);null!==t&&R(w,t.startTime-e)}}var S,C=!1,j=-1,E=5,N=-1;function T(){return!!y||!(t.unstable_now()-N<E)}function _(){if(y=!1,C){var e=t.unstable_now();N=e;var n=!0;try{e:{m=!1,g&&(g=!1,b(j),j=-1),h=!0;var a=p;try{t:{for(x(e),f=r(c);null!==f&&!(f.expirationTime>e&&T());){var l=f.callback;if("function"===typeof l){f.callback=null,p=f.priorityLevel;var i=l(f.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof i){f.callback=i,x(e),n=!0;break t}f===r(c)&&o(c),x(e)}else o(c);f=r(c)}if(null!==f)n=!0;else{var s=r(u);null!==s&&R(w,s.startTime-e),n=!1}}break e}finally{f=null,p=a,h=!1}n=void 0}}finally{n?S():C=!1}}}if("function"===typeof k)S=function(){k(_)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,A=P.port2;P.port1.onmessage=_,S=function(){A.postMessage(null)}}else S=function(){v(_,0)};function R(e,n){j=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_requestPaint=function(){y=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,o,a){var l=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?l+a:l:a=l,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return e={id:d++,callback:o,priorityLevel:e,startTime:a,expirationTime:i=a+i,sortIndex:-1},a>l?(e.sortIndex=a,n(u,e),null===r(c)&&e===r(u)&&(g?(b(j),j=-1):g=!0,R(w,a-l))):(e.sortIndex=i,n(c,e),m||h||(m=!0,C||(C=!0,S()))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/";var r={};n.r(r),n.d(r,{Decoder:()=>De,Encoder:()=>Me,PacketType:()=>ze,protocol:()=>Le});var o=n(43),a=n(391);const l=(()=>{const e=localStorage.getItem("CUSTOM_API_URL");return e?(console.log("\u2713 Using custom saved server URL:",e),e):(console.log("\u2713 Using environment API_URL:","http://localhost:3002"),"http://localhost:3002")})();var i=n(579);function s(e){let{setScreen:t}=e;const[n,r]=(0,o.useState)(""),[a,s]=(0,o.useState)("");return(0,i.jsxs)("div",{className:"login-page",children:[(0,i.jsx)("h1",{className:"title",children:"QUANTUM LUDO"}),(0,i.jsxs)("div",{className:"server-info",children:[(0,i.jsxs)("span",{children:["Server: ",l]}),(0,i.jsx)("button",{onClick:()=>t("serverSettings"),children:"change"})]}),(0,i.jsxs)("div",{className:"login-box",children:[(0,i.jsx)("input",{type:"text",placeholder:"Phone",value:n,onChange:e=>r(e.target.value)}),(0,i.jsx)("input",{type:"password",placeholder:"Password",value:a,onChange:e=>s(e.target.value)}),(0,i.jsx)("button",{className:"login-btn",onClick:async()=>{if(!n.trim()||!a.trim())return void alert("Please enter phone and password!");const e="http://localhost:3002";try{const r=await fetch("".concat(e,"/api/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:n,password:a})}),o=await r.json();if(!r.ok)return void alert(o.message||"Login failed (server ".concat(e,")"));localStorage.setItem("token",o.token),localStorage.setItem("user",JSON.stringify(o.user)),localStorage.setItem("username",o.user.username),t("menu")}catch(r){console.error("\u274c Login error:",r),alert("Server error during login. URL: ".concat(e,"\n").concat(r.message))}},children:"LOGIN"}),(0,i.jsxs)("div",{className:"register-section",children:[(0,i.jsx)("span",{children:"New_User?"}),(0,i.jsx)("button",{className:"register-btn",onClick:()=>t("register"),children:"REGISTER NOW"})]})]})]})}function c(e){let{setScreen:t}=e;const[n,r]=(0,o.useState)(""),[a,l]=(0,o.useState)(""),[s,c]=(0,o.useState)("");return(0,i.jsxs)("div",{className:"login-page",children:[(0,i.jsx)("h1",{className:"title",children:"QUANTUM LUDO"}),(0,i.jsxs)("div",{className:"login-box",children:[(0,i.jsx)("input",{type:"text",placeholder:"Username",value:n,onChange:e=>r(e.target.value)}),(0,i.jsx)("input",{type:"text",placeholder:"Phone",value:a,onChange:e=>l(e.target.value)}),(0,i.jsx)("input",{type:"password",placeholder:"Password",value:s,onChange:e=>c(e.target.value)}),(0,i.jsx)("button",{className:"login-btn",onClick:async()=>{if(n.trim()&&a.trim()&&s.trim())try{const e="http://localhost:3002",r=await fetch("".concat(e,"/api/auth/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:n,phone:a,password:s})}),o=await r.json();if(!r.ok)return void alert(o.message||"Registration failed!");localStorage.setItem("token",o.token),localStorage.setItem("user",JSON.stringify(o.user)),localStorage.setItem("username",o.user.username),t("menu")}catch(e){console.error("\u274c Registration error:",e),alert("Server error during registration.")}else alert("Please fill all fields!")},children:"REGISTER"}),(0,i.jsxs)("div",{className:"register-section",children:[(0,i.jsx)("span",{children:"Already have an account?"}),(0,i.jsx)("button",{className:"register-btn",onClick:()=>t("login"),children:"LOGIN"})]})]})]})}const u=n.p+"static/media/board.b5e8a871b3c927c8907b.png",d=n.p+"static/media/profile.56fe176e5c29451c5a75.png",f=e=>{let{setScreen:t}=e;const[n,r]=(0,o.useState)(!1),[a,l]=(0,o.useState)("Player"),[s,c]=(0,o.useState)(!1),[f,p]=(0,o.useState)(!1),[h,m]=(0,o.useState)(5),g=()=>{try{const e=localStorage.getItem("user");if(e){const t=JSON.parse(e);if("8264955651"===(null===t||void 0===t?void 0:t.phone)||"admin"===(null===t||void 0===t?void 0:t.username))return!0}}catch(e){}return"8264955651"===localStorage.getItem("phone")||("true"===localStorage.getItem("isAdmin")||"admin"===(localStorage.getItem("username")||"").toLowerCase())};return(0,o.useEffect)(()=>{const e=localStorage.getItem("username");e&&l(e)},[]),(0,o.useEffect)(()=>{if(!f)return;if(h<=0)return p(!1),void m(5);const e=setTimeout(()=>m(h-1),1e3);return()=>clearTimeout(e)},[f,h]),(0,i.jsxs)("div",{className:"mainmenu-container",children:[g()&&(0,i.jsx)("div",{className:"trash-section",children:(0,i.jsx)("div",{className:"profile-icon trash-icon",title:"Trash",onClick:()=>t("adminTournamentDashboard"),role:"button",children:(0,i.jsx)("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:(0,i.jsx)("path",{fill:"currentColor",d:"M9 3v1H4v2h16V4h-5V3H9zm2 5v9h2V8h-2zm-4 0v9h2V8H7zm8 0v9h2V8h-2z"})})})}),(0,i.jsxs)("div",{className:"profile-section",children:[(0,i.jsx)("img",{src:d,alt:"Profile",className:"profile-icon",onClick:()=>r(!n)}),n&&(0,i.jsxs)("div",{className:"dropdown-menu",children:[(0,i.jsxs)("div",{className:"dropdown-username",children:["\ud83d\udc64 ",a]}),(0,i.jsx)("button",{onClick:()=>t("profile"),children:"PROFILE"}),(0,i.jsx)("button",{onClick:()=>t("history"),children:"HISTORY"}),(0,i.jsx)("button",{onClick:()=>t("serverSettings"),children:"\u2699\ufe0f SERVER SETTINGS"}),(0,i.jsx)("button",{onClick:()=>t("contact"),children:"CONTACT US"}),(0,i.jsx)("button",{onClick:()=>{localStorage.clear(),t("login")},children:"LOGOUT"})]})]}),(0,i.jsxs)("div",{className:"mainmenu-content",children:[(0,i.jsx)("h1",{className:"mainmenu-title",children:"QUANTUM LUDO"}),(0,i.jsx)("img",{src:u,alt:"Ludo board",className:"mainmenu-image"}),(0,i.jsxs)("div",{className:"mainmenu-buttons",children:[(0,i.jsxs)("div",{className:"button-row",children:[(0,i.jsx)("button",{onClick:()=>t("localPlay"),children:"PLAY LOCAL"}),(0,i.jsx)("button",{onClick:()=>t("joinRoom"),children:"JOIN ROOM"})]}),(0,i.jsxs)("div",{className:"button-row",children:[(0,i.jsx)("button",{onClick:()=>t("joinMatchByCode"),children:"JOIN MATCH"}),(0,i.jsx)("button",{onClick:()=>{p(!0),m(5)},children:"TOURNAMENT"})]}),g()&&(0,i.jsx)("div",{style:{marginTop:10},children:(0,i.jsx)("button",{onClick:()=>t("adminTournamentDashboard"),children:"Admin Tournament Dashboard"})}),(0,i.jsx)("button",{className:"join-now-btn",onClick:()=>{"undefined"!==typeof window&&window.innerWidth>=768?(p(!0),m(5)):t("joinRoom")},children:"JOIN NOW"}),g()&&(0,i.jsx)("div",{style:{marginTop:12},children:(0,i.jsx)("button",{className:"generate-key-btn",onClick:async()=>{c(!0);try{const n=localStorage.getItem("adminPhone")||"",r=await fetch("/api/admin/generate-key",{method:"POST",headers:{"Content-Type":"application/json","x-admin-phone":n}}),o=await r.json().catch(()=>({}));if(!r.ok)return alert(o.error||"Failed to generate key");try{localStorage.setItem("lastSpecialKey",JSON.stringify(o))}catch(e){}t("generateKey")}catch(e){console.error("generate key failed",e),alert("Generate key failed")}finally{c(!1)}},disabled:s,children:s?"Generating...":"Generate Special Key (Admin)"})})]})]}),f&&(0,i.jsx)("div",{className:"coming-soon-overlay",onClick:()=>{p(!1),m(5)},children:(0,i.jsxs)("div",{className:"coming-soon-modal",onClick:e=>e.stopPropagation(),children:[(0,i.jsx)("h2",{children:"Coming Soon..."}),(0,i.jsxs)("p",{children:["Closing in ",h," second",1===h?"":"s"]})]})})]})},p=n.p+"static/media/bg.1581eeb1bcc237cd771f.jpg";function h(e){let{setScreen:t}=e;const[n,r]=(0,o.useState)(null),[a,l]=(0,o.useState)(!0);return(0,o.useEffect)(()=>{(async()=>{const e=localStorage.getItem("token"),t=localStorage.getItem("user");if(t&&r(JSON.parse(t)),e){try{const t=await fetch("".concat("http://localhost:3002","/api/auth/me"),{headers:{Authorization:"Bearer ".concat(e)}}),n=await t.json();t.ok&&n.user?(r(n.user),localStorage.setItem("user",JSON.stringify(n.user))):console.warn("\u26a0\ufe0f No user data:",n.message)}catch(n){console.error("\u274c Error fetching user data:",n)}l(!1)}else l(!1)})()},[]),a?(0,i.jsx)("p",{children:"Loading..."}):n?(0,i.jsxs)("div",{className:"profile-page",style:{backgroundImage:"url(".concat(p,")")},children:[(0,i.jsx)("h1",{className:"profile-title",children:"PROFILE"}),(0,i.jsxs)("div",{className:"profile-card",children:[(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"\ud83d\udc64 Username:"})," ",n.username]}),(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"\ud83d\udcde Phone:"})," ",n.phone]}),(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"\ud83d\udcc5 Joined:"})," ",new Date(n.createdAt).toLocaleString()]})]}),(0,i.jsx)("button",{className:"back-btn",onClick:()=>t("menu"),children:"\u2b05 Back to Dashboard"})]}):(0,i.jsx)("div",{className:"profile-page",style:{backgroundImage:"url(".concat(p,")")},children:(0,i.jsxs)("div",{className:"no-user",children:[(0,i.jsx)("h2",{children:"No user data found!"}),(0,i.jsx)("button",{onClick:()=>t("login"),children:"Go to Login"})]})})}function m(e){let{setScreen:t}=e;const[n,r]=(0,o.useState)([]);return(0,o.useEffect)(()=>{(async()=>{const e=localStorage.getItem("token");if(e)try{const t=await fetch("http://localhost:3001/api/matches",{headers:{Authorization:"Bearer ".concat(e)}}),n=await t.json();t.ok&&n.matches&&r(n.matches)}catch(t){console.error("\u274c Error fetching matches:",t)}})()},[]),(0,i.jsxs)("div",{className:"history-page",style:{backgroundImage:"url(".concat(p,")")},children:[(0,i.jsx)("h1",{className:"history-title",children:"\ud83d\udcdc Match History"}),(0,i.jsxs)("div",{className:"history-table",children:[(0,i.jsxs)("div",{className:"table-header",children:[(0,i.jsx)("div",{children:"Players"}),(0,i.jsx)("div",{children:"Position"}),(0,i.jsx)("div",{children:"Result"}),(0,i.jsx)("div",{children:"Date Played"})]}),0===n.length?(0,i.jsx)("p",{className:"no-data",children:"No match history yet."}):n.map((e,t)=>{var n;return(0,i.jsxs)("div",{className:"table-row",children:[(0,i.jsx)("div",{children:null===(n=e.players)||void 0===n?void 0:n.join(", ")}),(0,i.jsx)("div",{children:e.position}),(0,i.jsx)("div",{className:"Win"===e.result?"win":"lose",children:e.result}),(0,i.jsx)("div",{children:new Date(e.date).toLocaleString()})]},t)})]}),(0,i.jsx)("button",{className:"back-btn",onClick:()=>t("menu"),children:"\u2b05 Back to Dashboard"})]})}function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function y(e){var t=function(e,t){if("object"!=g(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=g(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==g(t)?t:t+""}function v(e,t,n){return(t=y(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach(function(t){v(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const x=e=>{let{setScreen:t}=e;const[n,r]=(0,o.useState)({name:"",email:"",message:""}),a=e=>{r(k(k({},n),{},{[e.target.name]:e.target.value}))};return(0,i.jsx)("div",{className:"contact-container",children:(0,i.jsxs)("div",{className:"contact-card",children:[(0,i.jsx)("h2",{children:"\ud83d\udce9 Contact Us"}),(0,i.jsxs)("form",{onSubmit:e=>{e.preventDefault();const{name:t,email:r,message:o}=n,a="https://wa.me/91xxxxxxxxxx?text=Hi,%20I'm%20".concat(t,"%20(").concat(r,").%20").concat(o);window.open(a,"_blank")},children:[(0,i.jsx)("input",{type:"text",name:"name",placeholder:"Your Name",value:n.name,onChange:a,required:!0}),(0,i.jsx)("input",{type:"email",name:"email",placeholder:"Your Email",value:n.email,onChange:a,required:!0}),(0,i.jsx)("textarea",{name:"message",placeholder:"Your Message",value:n.message,onChange:a,required:!0}),(0,i.jsx)("button",{type:"submit",className:"contact-btn",children:"Send via WhatsApp"})]}),(0,i.jsx)("button",{onClick:()=>t("menu"),className:"back-btn",children:"\u2190 Back to Main Menu"})]})})},w=()=>{const[e,t]=(0,o.useState)(localStorage.getItem("CUSTOM_API_URL")||l),[n,r]=(0,o.useState)(""),[a,s]=(0,o.useState)(!1);return(0,i.jsxs)("div",{className:"server-settings-container",children:[(0,i.jsx)("h2",{children:"Server Settings"}),(0,i.jsxs)("div",{className:"settings-section",children:[(0,i.jsx)("label",{children:"Server URL"}),(0,i.jsx)("input",{type:"text",placeholder:"http://192.168.x.x:3001",value:e,onChange:e=>{t(e.target.value),r("")},disabled:a}),(0,i.jsx)("span",{className:"hint",children:"Enter your development PC IP or production server URL"})]}),(0,i.jsxs)("div",{className:"settings-section",children:[(0,i.jsx)("label",{children:"Current Connection"}),(0,i.jsx)("div",{className:"current-url",children:l})]}),n&&(0,i.jsx)("div",{className:"message ".concat(n.includes("\u2705")?"success":n.includes("\u274c")?"error":"info"),children:n}),(0,i.jsxs)("div",{className:"settings-actions",children:[(0,i.jsx)("button",{onClick:async()=>{if(e.trim())if(e.startsWith("http://")||e.startsWith("https://")){s(!0),r("\ud83d\udd04 Testing connection...");try{const t=await fetch("".concat(e,"/health"),{method:"GET",timeout:5e3});t.ok||404===t.status?((e=>{localStorage.setItem("CUSTOM_API_URL",e),console.log("\u2713 Custom API URL saved:",e),window.location.reload()})(e),r("\u2705 Server URL saved and tested. App will reload...")):r("\u274c Server responded with status ".concat(t.status))}catch(t){r("\u274c Cannot reach server: ".concat(t.message))}finally{s(!1)}}else r("\u274c URL must start with http:// or https://");else r("\u274c Server URL cannot be empty")},disabled:a,children:a?"\ud83d\udd04 Testing...":"\u2713 Save & Test"}),(0,i.jsx)("button",{onClick:()=>{localStorage.removeItem("CUSTOM_API_URL"),console.log("\u2713 Custom API URL cleared. Using auto-detect."),window.location.reload(),r("\u2705 Reset to auto-detect mode. App will reload...")},disabled:a,className:"btn-secondary",children:"\u21ba Auto-Detect"}),(0,i.jsx)("button",{onClick:async()=>{r("\ud83d\udd0d Scanning local network for server..."),s(!0);try{const n=["192.168.0","192.168.1","10.0.0"];for(const o of n)for(let n=1;n<=254;n++){const a="http://".concat(o,".").concat(n,":3001");try{const e=await fetch("".concat(a,"/health"),{method:"GET"});if(e.ok||404===e.status)return t(a),r("\u2705 Server found: ".concat(a)),void s(!1)}catch(e){}}r("\u274c Server not found on common local subnets. Try entering URL manually.")}catch(e){console.error("Auto-scan error",e),r("\u274c Unable to auto-scan network")}finally{s(!1)}},disabled:a,className:"btn-scan",children:"\ud83d\udd0d Scan Network"})]}),(0,i.jsxs)("div",{className:"settings-info",children:[(0,i.jsx)("h3",{children:"How to connect to your server:"}),(0,i.jsxs)("ul",{children:[(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"Development (local network):"})," Find your PC IP with `ipconfig` and use `http://192.168.x.x:3001`"]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"Production:"})," Use your domain or cloud server IP (e.g., `https://yourdomain.com`)"]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"Auto-detect:"})," If app is running on web, it will auto-detect the current host"]})]})]})]})},S=e=>{let{setScreen:t,setPlayers:n,setRoomCode:r}=e;const o=e=>{try{localStorage.setItem("disableAdminCheat","false")}catch(o){}try{"function"===typeof r&&r("")}catch(o){}n(e),t("game")};return(0,i.jsxs)("div",{className:"localplay-container",children:[(0,i.jsx)("div",{className:"profile-section",children:(0,i.jsx)("button",{className:"exit-btn",onClick:()=>t("menu"),children:"\u2b05 BACK"})}),(0,i.jsxs)("div",{className:"localplay-content",children:[(0,i.jsx)("h1",{className:"localplay-title",children:"QUANTUM LUDO"}),(0,i.jsx)("p",{className:"localplay-subtitle",children:"Choose number of players:"}),(0,i.jsx)("button",{onClick:()=>o(2),children:"2 PLAYERS"}),(0,i.jsx)("button",{onClick:()=>o(3),children:"3 PLAYERS"}),(0,i.jsx)("button",{onClick:()=>o(4),children:"4 PLAYERS"}),(0,i.jsx)("button",{className:"exit-main-btn",onClick:()=>{t("menu")},children:"EXIT"})]})]})};function C(e){let{setScreen:t}=e;const[n,r]=(0,o.useState)(!1);return(0,o.useEffect)(()=>{const e=localStorage.getItem("user");if(e)try{const t=JSON.parse(e);if("8264955651"===(null===t||void 0===t?void 0:t.phone))return void r(!0)}catch(t){}"8264955651"===localStorage.getItem("phone")&&r(!0)},[]),(0,i.jsx)("div",{className:"tournament-container",style:{backgroundImage:"url(".concat(p,")"),backgroundSize:"cover",backgroundPosition:"center"},children:(0,i.jsxs)("div",{className:"tournament-inner",children:[(0,i.jsx)("h1",{className:"tournament-title",children:"TOURNAMENT"}),(0,i.jsx)("div",{className:"tournament-art",children:(0,i.jsx)("img",{src:u,alt:"ludo"})}),(0,i.jsxs)("div",{className:"tournament-buttons",children:[(0,i.jsxs)("div",{className:"row",children:[(0,i.jsx)("button",{className:"btn",onClick:()=>t("tournamentUpcoming"),children:"VIEW UPCOMING"}),(0,i.jsx)("button",{className:"btn",onClick:()=>t("myTournaments"),children:"MY TOURNAMENTS"})]}),(0,i.jsxs)("div",{className:"row",children:[n&&(0,i.jsx)("button",{className:"btn create-btn admin-create",onClick:()=>t("createTournament"),children:"CREATE TOURNAMENT"}),(0,i.jsx)("button",{className:"btn back-btn",onClick:()=>t("menu"),children:"\u2190 BACK"})]})]})]})})}const j=Object.create(null);j.open="0",j.close="1",j.ping="2",j.pong="3",j.message="4",j.upgrade="5",j.noop="6";const E=Object.create(null);Object.keys(j).forEach(e=>{E[j[e]]=e});const N={type:"error",data:"parser error"},T="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),_="function"===typeof ArrayBuffer,P=e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,A=(e,t,n)=>{let{type:r,data:o}=e;return T&&o instanceof Blob?t?n(o):R(o,n):_&&(o instanceof ArrayBuffer||P(o))?t?n(o):R(new Blob([o]),n):n(j[r]+(o||""))},R=(e,t)=>{const n=new FileReader;return n.onload=function(){const e=n.result.split(",")[1];t("b"+(e||""))},n.readAsDataURL(e)};function O(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let I;const L="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",z="undefined"===typeof Uint8Array?[]:new Uint8Array(256);for(let At=0;At<64;At++)z[L.charCodeAt(At)]=At;const M="function"===typeof ArrayBuffer,F=(e,t)=>{if("string"!==typeof e)return{type:"message",data:U(e,t)};const n=e.charAt(0);if("b"===n)return{type:"message",data:D(e.substring(1),t)};return E[n]?e.length>1?{type:E[n],data:e.substring(1)}:{type:E[n]}:N},D=(e,t)=>{if(M){const n=(e=>{let t,n,r,o,a,l=.75*e.length,i=e.length,s=0;"="===e[e.length-1]&&(l--,"="===e[e.length-2]&&l--);const c=new ArrayBuffer(l),u=new Uint8Array(c);for(t=0;t<i;t+=4)n=z[e.charCodeAt(t)],r=z[e.charCodeAt(t+1)],o=z[e.charCodeAt(t+2)],a=z[e.charCodeAt(t+3)],u[s++]=n<<2|r>>4,u[s++]=(15&r)<<4|o>>2,u[s++]=(3&o)<<6|63&a;return c})(e);return U(n,t)}return{base64:!0,data:e}},U=(e,t)=>"blob"===t?e instanceof Blob?e:new Blob([e]):e instanceof ArrayBuffer?e:e.buffer,B=String.fromCharCode(30);function H(){return new TransformStream({transform(e,t){!function(e,t){T&&e.data instanceof Blob?e.data.arrayBuffer().then(O).then(t):_&&(e.data instanceof ArrayBuffer||P(e.data))?t(O(e.data)):A(e,!1,e=>{I||(I=new TextEncoder),t(I.encode(e))})}(e,n=>{const r=n.length;let o;if(r<126)o=new Uint8Array(1),new DataView(o.buffer).setUint8(0,r);else if(r<65536){o=new Uint8Array(3);const e=new DataView(o.buffer);e.setUint8(0,126),e.setUint16(1,r)}else{o=new Uint8Array(9);const e=new DataView(o.buffer);e.setUint8(0,127),e.setBigUint64(1,BigInt(r))}e.data&&"string"!==typeof e.data&&(o[0]|=128),t.enqueue(o),t.enqueue(n)})}})}let W;function q(e){return e.reduce((e,t)=>e+t.length,0)}function V(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let r=0;for(let o=0;o<t;o++)n[o]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}function $(e){if(e)return function(e){for(var t in $.prototype)e[t]=$.prototype[t];return e}(e)}$.prototype.on=$.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},$.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},$.prototype.off=$.prototype.removeListener=$.prototype.removeAllListeners=$.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var o=0;o<r.length;o++)if((n=r[o])===t||n.fn===t){r.splice(o,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},$.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){r=0;for(var o=(n=n.slice(0)).length;r<o;++r)n[r].apply(this,t)}return this},$.prototype.emitReserved=$.prototype.emit,$.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},$.prototype.hasListeners=function(e){return!!this.listeners(e).length};const K="function"===typeof Promise&&"function"===typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),Q="undefined"!==typeof self?self:"undefined"!==typeof window?window:Function("return this")();function J(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce((t,n)=>(e.hasOwnProperty(n)&&(t[n]=e[n]),t),{})}const Y=Q.setTimeout,G=Q.clearTimeout;function X(e,t){t.useNativeTimers?(e.setTimeoutFn=Y.bind(Q),e.clearTimeoutFn=G.bind(Q)):(e.setTimeoutFn=Q.setTimeout.bind(Q),e.clearTimeoutFn=Q.clearTimeout.bind(Q))}function Z(e){return"string"===typeof e?function(e){let t=0,n=0;for(let r=0,o=e.length;r<o;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}(e):Math.ceil(1.33*(e.byteLength||e.size))}function ee(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}class te extends Error{constructor(e,t,n){super(e),this.description=t,this.context=n,this.type="TransportError"}}class ne extends ${constructor(e){super(),this.writable=!1,X(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,n){return super.emitReserved("error",new te(e,t,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=F(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return-1===e.indexOf(":")?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(e){const t=function(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}(e);return t.length?"?"+t:""}}class re extends ne{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let e=0;this._polling&&(e++,this.once("pollComplete",function(){--e||t()})),this.writable||(e++,this.once("drain",function(){--e||t()}))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){((e,t)=>{const n=e.split(B),r=[];for(let o=0;o<n.length;o++){const e=F(n[o],t);if(r.push(e),"error"===e.type)break}return r})(e,this.socket.binaryType).forEach(e=>{if("opening"===this.readyState&&"open"===e.type&&this.onOpen(),"close"===e.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(e)}),"closed"!==this.readyState&&(this._polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}write(e){this.writable=!1,((e,t)=>{const n=e.length,r=new Array(n);let o=0;e.forEach((e,a)=>{A(e,!1,e=>{r[a]=e,++o===n&&t(r.join(B))})})})(e,e=>{this.doWrite(e,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=ee()),this.supportsBinary||t.sid||(t.b64=1),this.createUri(e,t)}}let oe=!1;try{oe="undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(Pt){}const ae=oe;function le(){}class ie extends re{constructor(e){if(super(e),"undefined"!==typeof location){const t="https:"===location.protocol;let n=location.port;n||(n=t?"443":"80"),this.xd="undefined"!==typeof location&&e.hostname!==location.hostname||n!==e.port}}doWrite(e,t){const n=this.request({method:"POST",data:e});n.on("success",t),n.on("error",(e,t)=>{this.onError("xhr post error",e,t)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(e,t)=>{this.onError("xhr poll error",e,t)}),this.pollXhr=e}}class se extends ${constructor(e,t,n){super(),this.createRequest=e,X(this,n),this._opts=n,this._method=n.method||"GET",this._uri=t,this._data=void 0!==n.data?n.data:null,this._create()}_create(){var e;const t=J(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(t);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let e in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(e)&&n.setRequestHeader(e,this._opts.extraHeaders[e])}}catch(r){}if("POST"===this._method)try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(r){}try{n.setRequestHeader("Accept","*/*")}catch(r){}null===(e=this._opts.cookieJar)||void 0===e||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var e;3===n.readyState&&(null===(e=this._opts.cookieJar)||void 0===e||e.parseCookies(n.getResponseHeader("set-cookie"))),4===n.readyState&&(200===n.status||1223===n.status?this._onLoad():this.setTimeoutFn(()=>{this._onError("number"===typeof n.status?n.status:0)},0))},n.send(this._data)}catch(r){return void this.setTimeoutFn(()=>{this._onError(r)},0)}"undefined"!==typeof document&&(this._index=se.requestsCount++,se.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if("undefined"!==typeof this._xhr&&null!==this._xhr){if(this._xhr.onreadystatechange=le,e)try{this._xhr.abort()}catch(t){}"undefined"!==typeof document&&delete se.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}if(se.requestsCount=0,se.requests={},"undefined"!==typeof document)if("function"===typeof attachEvent)attachEvent("onunload",ce);else if("function"===typeof addEventListener){addEventListener("onpagehide"in Q?"pagehide":"unload",ce,!1)}function ce(){for(let e in se.requests)se.requests.hasOwnProperty(e)&&se.requests[e].abort()}const ue=function(){const e=de({xdomain:!1});return e&&null!==e.responseType}();function de(e){const t=e.xdomain;try{if("undefined"!==typeof XMLHttpRequest&&(!t||ae))return new XMLHttpRequest}catch(n){}if(!t)try{return new(Q[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(n){}}const fe="undefined"!==typeof navigator&&"string"===typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class pe extends ne{get name(){return"websocket"}doOpen(){const e=this.uri(),t=this.opts.protocols,n=fe?{}:J(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,n)}catch(Pt){return this.emitReserved("error",Pt)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1;A(n,this.supportsBinary,e=>{try{this.doWrite(n,e)}catch(t){}r&&K(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){"undefined"!==typeof this.ws&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=ee()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}}const he=Q.WebSocket||Q.MozWebSocket;const me={websocket:class extends pe{createSocket(e,t,n){return fe?new he(e,t,n):t?new he(e,t):new he(e)}doWrite(e,t){this.ws.send(t)}},webtransport:class extends ne{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(Pt){return this.emitReserved("error",Pt)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const t=function(e,t){W||(W=new TextDecoder);const n=[];let r=0,o=-1,a=!1;return new TransformStream({transform(l,i){for(n.push(l);;){if(0===r){if(q(n)<1)break;const e=V(n,1);a=128===(128&e[0]),o=127&e[0],r=o<126?3:126===o?1:2}else if(1===r){if(q(n)<2)break;const e=V(n,2);o=new DataView(e.buffer,e.byteOffset,e.length).getUint16(0),r=3}else if(2===r){if(q(n)<8)break;const e=V(n,8),t=new DataView(e.buffer,e.byteOffset,e.length),a=t.getUint32(0);if(a>Math.pow(2,21)-1){i.enqueue(N);break}o=a*Math.pow(2,32)+t.getUint32(4),r=3}else{if(q(n)<o)break;const e=V(n,o);i.enqueue(F(a?e:W.decode(e),t)),r=0}if(0===o||o>e){i.enqueue(N);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(t).getReader(),r=H();r.readable.pipeTo(e.writable),this._writer=r.writable.getWriter();const o=()=>{n.read().then(e=>{let{done:t,value:n}=e;t||(this.onPacket(n),o())}).catch(e=>{})};o();const a={type:"open"};this.query.sid&&(a.data='{"sid":"'.concat(this.query.sid,'"}')),this._writer.write(a).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1;this._writer.write(n).then(()=>{r&&K(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;null===(e=this._transport)||void 0===e||e.close()}},polling:class extends ie{constructor(e){super(e);const t=e&&e.forceBase64;this.supportsBinary=ue&&!t}request(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(e,{xd:this.xd},this.opts),new se(de,this.uri(),e)}}},ge=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,ye=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function ve(e){if(e.length>8e3)throw"URI too long";const t=e,n=e.indexOf("["),r=e.indexOf("]");-1!=n&&-1!=r&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let o=ge.exec(e||""),a={},l=14;for(;l--;)a[ye[l]]=o[l]||"";return-1!=n&&-1!=r&&(a.source=t,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=function(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");"/"!=t.slice(0,1)&&0!==t.length||r.splice(0,1);"/"==t.slice(-1)&&r.splice(r.length-1,1);return r}(0,a.path),a.queryKey=function(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(e,t,r){t&&(n[t]=r)}),n}(0,a.query),a}const be="function"===typeof addEventListener&&"function"===typeof removeEventListener,ke=[];be&&addEventListener("offline",()=>{ke.forEach(e=>e())},!1);class xe extends ${constructor(e,t){if(super(),this.binaryType="arraybuffer",this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&"object"===typeof e&&(t=e,e=null),e){const n=ve(e);t.hostname=n.host,t.secure="https"===n.protocol||"wss"===n.protocol,t.port=n.port,n.query&&(t.query=n.query)}else t.host&&(t.hostname=ve(t.host).host);X(this,t),this.secure=null!=t.secure?t.secure:"undefined"!==typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||("undefined"!==typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!==typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},t.transports.forEach(e=>{const t=e.prototype.name;this.transports.push(t),this._transportsByName[t]=e}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"===typeof this.opts.query&&(this.opts.query=function(e){let t={},n=e.split("&");for(let r=0,o=n.length;r<o;r++){let e=n[r].split("=");t[decodeURIComponent(e[0])]=decodeURIComponent(e[1])}return t}(this.opts.query)),be&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},ke.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=4,t.transport=e,this.id&&(t.sid=this.id);const n=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](n)}_open(){if(0===this.transports.length)return void this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);const e=this.opts.rememberUpgrade&&xe.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket")?"websocket":this.transports[0];this.readyState="opening";const t=this.createTransport(e);t.open(),this.setTransport(t)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",e=>this._onClose("transport close",e))}onOpen(){this.readyState="open",xe.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush()}_onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const t=new Error("server error");t.code=e.data,this._onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let e=1;for(let t=0;t<this.writeBuffer.length;t++){const n=this.writeBuffer[t].data;if(n&&(e+=Z(n)),t>0&&e>this._maxPayload)return this.writeBuffer.slice(0,t);e+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,K(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,t,n){return this._sendPacket("message",e,t,n),this}send(e,t,n){return this._sendPacket("message",e,t,n),this}_sendPacket(e,t,n,r){if("function"===typeof t&&(r=t,t=void 0),"function"===typeof n&&(r=n,n=null),"closing"===this.readyState||"closed"===this.readyState)return;(n=n||{}).compress=!1!==n.compress;const o={type:e,data:t,options:n};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),r&&this.once("flush",r),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},n=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():e()}):this.upgrading?n():e()),this}_onError(e){if(xe.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&"opening"===this.readyState)return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),be&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const e=ke.indexOf(this._offlineEventListener);-1!==e&&ke.splice(e,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this._prevBufferLen=0}}}xe.protocol=4;class we extends xe{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),"open"===this.readyState&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),n=!1;xe.priorWebsocketSuccess=!1;const r=()=>{n||(t.send([{type:"ping",data:"probe"}]),t.once("packet",e=>{if(!n)if("pong"===e.type&&"probe"===e.data){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;xe.priorWebsocketSuccess="websocket"===t.name,this.transport.pause(()=>{n||"closed"!==this.readyState&&(c(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{const e=new Error("probe error");e.transport=t.name,this.emitReserved("upgradeError",e)}}))};function o(){n||(n=!0,c(),t.close(),t=null)}const a=e=>{const n=new Error("probe error: "+e);n.transport=t.name,o(),this.emitReserved("upgradeError",n)};function l(){a("transport closed")}function i(){a("socket closed")}function s(e){t&&e.name!==t.name&&o()}const c=()=>{t.removeListener("open",r),t.removeListener("error",a),t.removeListener("close",l),this.off("close",i),this.off("upgrading",s)};t.once("open",r),t.once("error",a),t.once("close",l),this.once("close",i),this.once("upgrading",s),-1!==this._upgrades.indexOf("webtransport")&&"webtransport"!==e?this.setTimeoutFn(()=>{n||t.open()},200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const t=[];for(let n=0;n<e.length;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}}class Se extends we{constructor(e){const t="object"===typeof e?e:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(!t.transports||t.transports&&"string"===typeof t.transports[0])&&(t.transports=(t.transports||["polling","websocket","webtransport"]).map(e=>me[e]).filter(e=>!!e)),super(e,t)}}const Ce="function"===typeof ArrayBuffer,je=Object.prototype.toString,Ee="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===je.call(Blob),Ne="function"===typeof File||"undefined"!==typeof File&&"[object FileConstructor]"===je.call(File);function Te(e){return Ce&&(e instanceof ArrayBuffer||(e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer)(e))||Ee&&e instanceof Blob||Ne&&e instanceof File}function _e(e,t){if(!e||"object"!==typeof e)return!1;if(Array.isArray(e)){for(let t=0,n=e.length;t<n;t++)if(_e(e[t]))return!0;return!1}if(Te(e))return!0;if(e.toJSON&&"function"===typeof e.toJSON&&1===arguments.length)return _e(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&_e(e[n]))return!0;return!1}function Pe(e){const t=[],n=e.data,r=e;return r.data=Ae(n,t),r.attachments=t.length,{packet:r,buffers:t}}function Ae(e,t){if(!e)return e;if(Te(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=Ae(e[r],t);return n}if("object"===typeof e&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=Ae(e[r],t));return n}return e}function Re(e,t){return e.data=Oe(e.data,t),delete e.attachments,e}function Oe(e,t){if(!e)return e;if(e&&!0===e._placeholder){if("number"===typeof e.num&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=Oe(e[n],t);else if("object"===typeof e)for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=Oe(e[n],t));return e}const Ie=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Le=5;var ze;!function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(ze||(ze={}));class Me{constructor(e){this.replacer=e}encode(e){return e.type!==ze.EVENT&&e.type!==ze.ACK||!_e(e)?[this.encodeAsString(e)]:this.encodeAsBinary({type:e.type===ze.EVENT?ze.BINARY_EVENT:ze.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id})}encodeAsString(e){let t=""+e.type;return e.type!==ze.BINARY_EVENT&&e.type!==ze.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=Pe(e),n=this.encodeAsString(t.packet),r=t.buffers;return r.unshift(n),r}}function Fe(e){return"[object Object]"===Object.prototype.toString.call(e)}class De extends ${constructor(e){super(),this.reviver=e}add(e){let t;if("string"===typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const n=t.type===ze.BINARY_EVENT;n||t.type===ze.BINARY_ACK?(t.type=n?ze.EVENT:ze.ACK,this.reconstructor=new Ue(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else{if(!Te(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const n={type:Number(e.charAt(0))};if(void 0===ze[n.type])throw new Error("unknown packet type "+n.type);if(n.type===ze.BINARY_EVENT||n.type===ze.BINARY_ACK){const r=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const o=e.substring(r,t);if(o!=Number(o)||"-"!==e.charAt(t))throw new Error("Illegal attachments");n.attachments=Number(o)}if("/"===e.charAt(t+1)){const r=t+1;for(;++t;){if(","===e.charAt(t))break;if(t===e.length)break}n.nsp=e.substring(r,t)}else n.nsp="/";const r=e.charAt(t+1);if(""!==r&&Number(r)==r){const r=t+1;for(;++t;){const n=e.charAt(t);if(null==n||Number(n)!=n){--t;break}if(t===e.length)break}n.id=Number(e.substring(r,t+1))}if(e.charAt(++t)){const r=this.tryParse(e.substr(t));if(!De.isPayloadValid(n.type,r))throw new Error("invalid payload");n.data=r}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(t){return!1}}static isPayloadValid(e,t){switch(e){case ze.CONNECT:return Fe(t);case ze.DISCONNECT:return void 0===t;case ze.CONNECT_ERROR:return"string"===typeof t||Fe(t);case ze.EVENT:case ze.BINARY_EVENT:return Array.isArray(t)&&("number"===typeof t[0]||"string"===typeof t[0]&&-1===Ie.indexOf(t[0]));case ze.ACK:case ze.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Ue{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const e=Re(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function Be(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const He=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class We extends ${constructor(e,t,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Be(e,"open",this.onopen.bind(this)),Be(e,"packet",this.onpacket.bind(this)),Be(e,"error",this.onerror.bind(this)),Be(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.unshift("message"),this.emit.apply(this,t),this}emit(e){var t,n,r;if(He.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];if(a.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(a),this;const i={type:ze.EVENT,data:a,options:{}};if(i.options.compress=!1!==this.flags.compress,"function"===typeof a[a.length-1]){const e=this.ids++,t=a.pop();this._registerAckCallback(e,t),i.id=e}const s=null===(n=null===(t=this.io.engine)||void 0===t?void 0:t.transport)||void 0===n?void 0:n.writable,c=this.connected&&!(null===(r=this.io.engine)||void 0===r?void 0:r._hasPingExpired());return this.flags.volatile&&!s||(c?(this.notifyOutgoingListeners(i),this.packet(i)):this.sendBuffer.push(i)),this.flags={},this}_registerAckCallback(e,t){var n,r=this;const o=null!==(n=this.flags.timeout)&&void 0!==n?n:this._opts.ackTimeout;if(void 0===o)return void(this.acks[e]=t);const a=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let t=0;t<this.sendBuffer.length;t++)this.sendBuffer[t].id===e&&this.sendBuffer.splice(t,1);t.call(this,new Error("operation has timed out"))},o),l=function(){r.io.clearTimeoutFn(a);for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];t.apply(r,n)};l.withError=!0,this.acks[e]=l}emitWithAck(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return new Promise((t,r)=>{const o=(e,n)=>e?r(e):t(n);o.withError=!0,n.push(o),this.emit(e,...n)})}_addToQueue(e){var t=this;let n;"function"===typeof e[e.length-1]&&(n=e.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push(function(e){if(r!==t._queue[0])return;if(null!==e)r.tryCount>t._opts.retries&&(t._queue.shift(),n&&n(e));else if(t._queue.shift(),n){for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];n(null,...a)}return r.pending=!1,t._drainQueue()}),this._queue.push(r),this._drainQueue()}_drainQueue(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.connected||0===this._queue.length)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){"function"==typeof this.auth?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:ze.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(t=>String(t.id)===e)){const t=this.acks[e];delete this.acks[e],t.withError&&t.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case ze.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case ze.EVENT:case ze.BINARY_EVENT:this.onevent(e);break;case ze.ACK:case ze.BINARY_ACK:this.onack(e);break;case ze.DISCONNECT:this.ondisconnect();break;case ze.CONNECT_ERROR:this.destroy();const t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}onevent(e){const t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const n of t)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&"string"===typeof e[e.length-1]&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let n=!1;return function(){if(!n){n=!0;for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];t.packet({type:ze.ACK,id:e,data:o})}}}onack(e){const t=this.acks[e.id];"function"===typeof t&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:ze.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const n of t)n.apply(this,e.data)}}}function qe(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}qe.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},qe.prototype.reset=function(){this.attempts=0},qe.prototype.setMin=function(e){this.ms=e},qe.prototype.setMax=function(e){this.max=e},qe.prototype.setJitter=function(e){this.jitter=e};class Ve extends ${constructor(e,t){var n;super(),this.nsps={},this.subs=[],e&&"object"===typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.opts=t,X(this,t),this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(n=t.randomizationFactor)&&void 0!==n?n:.5),this.backoff=new qe({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this._readyState="closed",this.uri=e;const o=t.parser||r;this.encoder=new o.Encoder,this.decoder=new o.Decoder,this._autoConnect=!1!==t.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new Se(this.uri,this.opts);const t=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const r=Be(t,"open",function(){n.onopen(),e&&e()}),o=t=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",t),e?e(t):this.maybeReconnectOnOpen()},a=Be(t,"error",o);if(!1!==this._timeout){const e=this._timeout,n=this.setTimeoutFn(()=>{r(),o(new Error("timeout")),t.close()},e);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}return this.subs.push(r),this.subs.push(a),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Be(e,"ping",this.onping.bind(this)),Be(e,"data",this.ondata.bind(this)),Be(e,"error",this.onerror.bind(this)),Be(e,"close",this.onclose.bind(this)),Be(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error",t)}}ondecoded(e){K(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new We(this,e,t),this.nsps[e]=n),n}_destroy(e){const t=Object.keys(this.nsps);for(const n of t){if(this.nsps[n].active)return}this._close()}_packet(e){const t=this.encoder.encode(e);for(let n=0;n<t.length;n++)this.engine.write(t[n],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var n;this.cleanup(),null===(n=this.engine)||void 0===n||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open(t=>{t?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",t)):e.onreconnect()}))},t);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const $e={};function Ke(e,t){"object"===typeof e&&(t=e,e=void 0);const n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=e;n=n||"undefined"!==typeof location&&location,null==e&&(e=n.protocol+"//"+n.host),"string"===typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(e="undefined"!==typeof n?n.protocol+"//"+e:"https://"+e),r=ve(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const o=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+o+":"+r.port+t,r.href=r.protocol+"://"+o+(n&&n.port===r.port?"":":"+r.port),r}(e,(t=t||{}).path||"/socket.io"),r=n.source,o=n.id,a=n.path,l=$e[o]&&a in $e[o].nsps;let i;return t.forceNew||t["force new connection"]||!1===t.multiplex||l?i=new Ve(r,t):($e[o]||($e[o]=new Ve(r,t)),i=$e[o]),n.query&&!t.query&&(t.query=n.queryKey),i.socket(n.path,t)}Object.assign(Ke,{Manager:Ve,Socket:We,io:Ke,connect:Ke});const Qe=Ke(l,{withCredentials:!0,autoConnect:!0});Qe.on("connect",()=>{console.log("\u2705 Socket connected:",Qe.id)}),Qe.on("connect_error",e=>{console.error("\u274c Socket error:",e.message)}),Qe.onAny(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];console.log("socket.onAny: event=".concat(e),n)});const Je=Qe;function Ye(e){let{setScreen:t,setTournamentId:n}=e;const[r,a]=(0,o.useState)([]),[l,s]=(0,o.useState)(!0),[c,u]=(0,o.useState)(null);async function d(){s(!0);try{const t=await fetch("http://localhost:3001/api/debug/tournaments"),n=await t.json().catch(()=>({}));console.log("Fetched /api/tournaments/debug response:",n);const r=((null===n||void 0===n?void 0:n.tournaments)||[]||[]).filter(e=>"in_progress"!==String(((null===e||void 0===e?void 0:e.status)||"").toLowerCase())&&"started"!==String(((null===e||void 0===e?void 0:e.status)||"").toLowerCase()));try{const e=localStorage.getItem("lastCreatedTournament");if(e){const t=JSON.parse(e);t&&t.id&&!r.find(e=>e.id===t.id)&&r.unshift(t),localStorage.removeItem("lastCreatedTournament")}}catch(e){console.warn("Failed to apply lastCreatedTournament:",e&&e.message)}a(r)}catch(e){console.warn("Fetch tournaments failed",e),a([])}finally{s(!1)}}(0,o.useEffect)(()=>{d();const e=e=>{console.log("Socket event: tournamentAdded",e.tournament);const t=e.tournament;if(!t||!t.id)return;const n=String((t.status||"").toLowerCase());if("in_progress"===n||"started"===n)return s(!1);a(e=>t&&t.id?e.find(e=>e.id===t.id)?e:[t,...e]:e||[]),s(!1)};Je.on("tournamentAdded",e);const t=e=>{if(!e||!e.tournament)return;const t=e.tournament,n=String((t.status||"").toLowerCase());"in_progress"!==n&&"started"!==n?(a(n=>{const r=Array.isArray(n)?[...n]:[],o=r.findIndex(e=>e.id===t.id),a=e.players||t.players||[],l=k(k({},t),{},{players:a});return o>=0?(r[o]=k(k({},r[o]),l),r):[l,...r]}),s(!1)):a(e=>(e||[]).filter(e=>e.id!==t.id))};Je.on("tournamentUpdate",t);const n=e=>{const t=null===e||void 0===e?void 0:e.tournamentId;t&&a(e=>(e||[]).filter(e=>e.id!==t))};Je.on("tournamentRemoved",n);const r=e=>{var t;const n=(null===e||void 0===e?void 0:e.tournamentId)||(null===e||void 0===e||null===(t=e.tournament)||void 0===t?void 0:t.id);n&&a(e=>(e||[]).filter(e=>e.id!==n))};Je.on("tournamentStarted",r);const o=e=>{const{tournamentId:t,status:n,message:r}=e||{};"deleted"===n?(d(),alert("Tournament deleted (socket)")):"not_found"===n?alert("Tournament not found"):r&&alert(r)};return Je.on("deleteTournamentAck",o),()=>{Je.off("tournamentAdded",e),Je.off("tournamentRemoved",n),Je.off("tournamentStarted",r),Je.off("tournamentUpdate",t),Je.off("deleteTournamentAck",o)}},[]),(0,o.useEffect)(()=>{const e=localStorage.getItem("token");if(!e)return;if((e=>{try{const t=String(e).split(".");if(3!==t.length)return!1;const n=JSON.parse(atob(t[1]));return!n||!n.exp||"number"!==typeof n.exp||1e3*n.exp>Date.now()}catch(t){return!1}})(e))fetch("http://localhost:3001/api/auth/me",{headers:{Authorization:"Bearer ".concat(e)}}).then(e=>e.ok?e.json():null).then(e=>{var t;const n=null===e||void 0===e||null===(t=e.user)||void 0===t?void 0:t.phone;n&&"8264955651"===String(n)&&g(!0)}).catch(()=>{});else try{localStorage.removeItem("token")}catch(t){}},[]);const[f,p]=(0,o.useState)(null),h=e=>{const t=(null===e||void 0===e?void 0:e.starts_at)||(null===e||void 0===e?void 0:e.start_time)||(null===e||void 0===e?void 0:e.scheduled_at)||(null===e||void 0===e?void 0:e.created_at);if(!t)return"TBA";const n=new Date(t),r=n-new Date;if(isNaN(n))return"TBA";if(r<=0)return"starting soon";const o=Math.round(r/6e4);if(o<60)return"".concat(o,"m");const a=Math.floor(o/60);if(a<24)return"".concat(a,"h ").concat(o%60,"m");const l=Math.floor(a/24);return"".concat(l,"d ").concat(a%24,"h")},[m,g]=(0,o.useState)(!1),[y,v]=(0,o.useState)(null),[b,x]=(0,o.useState)(null);return(0,i.jsxs)("div",{className:"upcoming-container",children:[(0,i.jsx)("h2",{className:"upcoming-title",children:"Upcoming Tournaments"}),l&&(0,i.jsx)("p",{className:"upcoming-empty",children:"Loading..."}),!l&&0===r.length&&(0,i.jsx)("p",{className:"upcoming-empty",children:"No upcoming tournaments yet."}),!l&&r.length>0&&(0,i.jsx)("div",{className:"upcoming-list",children:(0,i.jsxs)("table",{className:"tournaments-table",children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:"Tournament Name"}),(0,i.jsx)("th",{children:"No. of Rounds"}),(0,i.jsx)("th",{children:"Total Players"}),(0,i.jsx)("th",{children:"Spots Left"}),(0,i.jsx)("th",{children:"Time to Start"}),(0,i.jsx)("th",{style:{textAlign:"right"},children:"Actions"})]})}),(0,i.jsx)("tbody",{children:r.filter(e=>"64 TM - 1"!==String((e.name||"").trim())).map(e=>{const r=e.total_players||e.max_players||256,o=Array.isArray(e.players)?e.players.length:e.player_count||0,l=Math.max(0,r-o);let s=e.rounds||e.no_of_rounds||e.total_rounds;return s||(s=64===r?3:256===r?4:"-"),(0,i.jsxs)("tr",{className:f===e.id?"selected":"",onClick:()=>p(e.id),children:[(0,i.jsx)("td",{className:"t-name",children:e.name||e.id}),(0,i.jsx)("td",{className:"t-rounds",children:s}),(0,i.jsx)("td",{className:"t-total",children:r}),(0,i.jsx)("td",{className:"t-spots",children:l}),(0,i.jsx)("td",{className:"t-start",children:h(e)}),(0,i.jsxs)("td",{className:"actions",children:[(0,i.jsx)("button",{className:"btn join-selected",onClick:r=>{var o;r.stopPropagation(),o=e.id,n&&n(o),u(o),t&&t("key"),setTimeout(()=>u(null),3e3)},disabled:c===e.id,style:{marginRight:8},children:c===e.id?"Joining...":"Join"}),m&&(0,i.jsx)("button",{className:"btn start small",onClick:r=>{r.stopPropagation(),(async e=>{if(!m)return alert("Admin access required");if(e&&window.confirm("Start this tournament now?"))try{x(e);try{const t=await fetch("http://localhost:3001/api/tournaments/start/".concat(encodeURIComponent(e)),{method:"POST"}),n=await t.json().catch(()=>({}));if(!t.ok){const e=(null===n||void 0===n?void 0:n.error)||(null===n||void 0===n?void 0:n.message)||"Start failed (".concat(t.status,")");return alert(e),void x(null)}}catch(r){console.warn("HTTP start failed, falling back to socket start",r&&r.message);try{Je.emit("startTournament",{tournamentId:e})}catch(o){console.warn("Socket emit failed for startTournament",o&&o.message)}}a(t=>(t||[]).filter(t=>t.id!==e));try{"function"===typeof n&&n(e)}catch(r){}t&&t("adminTournamentDashboard")}catch(r){console.error("handleStart failed",r&&r.message)}finally{x(null)}})(e.id)},disabled:b===e.id||"in_progress"===e.status,style:{marginRight:8},children:b===e.id?"Starting...":"in_progress"===e.status?"Started":"Start"}),m&&(0,i.jsx)("button",{className:"btn danger small",onClick:t=>{t.stopPropagation(),(async e=>{if(!m)return alert("Admin access required");if(window.confirm("Delete this tournament? This cannot be undone.")){try{const t=localStorage.getItem("token"),n={};t&&(n.Authorization="Bearer ".concat(t)),v(e);const r=await fetch("http://localhost:3001/api/tournaments/".concat(e),{method:"DELETE",headers:n}),o=await r.json().catch(()=>({}));if(r.ok)return await d(),alert("Tournament deleted"),void v(null);{const e=(null===o||void 0===o?void 0:o.error)||(null===o||void 0===o?void 0:o.message)||"Delete failed (".concat(r.status,")");alert(e),v(null)}}catch(t){console.error("Delete HTTP failed:",t),v(null)}Je.emit("deleteTournament",{tournamentId:e,token:localStorage.getItem("token")})}})(e.id)},disabled:y===e.id,children:y===e.id?"Deleting...":"Delete"})]})]},e.id)})})]})}),(0,i.jsx)("div",{className:"upcoming-footer",children:(0,i.jsx)("button",{className:"btn back-btn",onClick:()=>t("tournament"),children:"\u2190 Back"})})]})}function Ge(e){let{tournamentId:t,setScreen:n}=e;const[r,a]=(0,o.useState)(""),[l,s]=(0,o.useState)(!1),[c,u]=(0,o.useState)(!1),[d,f]=(0,o.useState)(!1),[p]=(0,o.useState)(()=>{try{var e;return(null===(e=JSON.parse(localStorage.getItem("user")||"{}"))||void 0===e?void 0:e.phone)||localStorage.getItem("phone")||""}catch(t){return localStorage.getItem("phone")||""}}),h=(0,o.useRef)(null),m=()=>{if(!t)return alert("No tournament selected");if(16!==String(r).length)return alert("Special-Key must be 16 digits");s(!0);let e=localStorage.getItem("username")||"Player",n=null;try{const t=localStorage.getItem("user");if(t){const r=JSON.parse(t);null!==r&&void 0!==r&&r.phone&&(n=r.phone),null!==r&&void 0!==r&&r.username&&(e=r.username)}if(!n){const e=localStorage.getItem("phone");e&&(n=e)}}catch(o){}Je.emit("joinTournament",{tournamentId:t,playerName:e,playerPhone:n,joinKey:r},e=>{if(e&&e.error)return alert(e.error),void s(!1);setTimeout(()=>s(!1),4e3)})};return(0,i.jsx)("div",{className:"App",style:{minHeight:"100vh",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,i.jsxs)("div",{style:{width:840,maxWidth:"96%",boxSizing:"border-box"},children:[(0,i.jsx)("div",{style:{background:"#FFD54F",padding:"22px 26px",borderRadius:12,textAlign:"center",boxShadow:"0 8px 22px rgba(0,0,0,0.14)"},children:(0,i.jsx)("div",{style:{fontSize:60,fontWeight:900,letterSpacing:3,color:"#111"},children:"JOIN TOURNAMENT"})}),(0,i.jsx)("div",{style:{height:24}}),(0,i.jsx)("div",{style:{height:20}}),(0,i.jsxs)("div",{style:{background:"rgba(0,0,0,0.65)",padding:32,borderRadius:14,color:"#fff",boxShadow:"0 10px 30px rgba(0,0,0,0.32)"},children:[(0,i.jsx)("div",{style:{fontSize:32,fontWeight:800,marginBottom:14},children:"Enter Special-Key"}),(0,i.jsx)("input",{value:r,onChange:e=>(e=>{const t=String(e).replace(/\D/g,"").slice(0,16);a(t)})(e.target.value),placeholder:"Enter 16-digit code",maxLength:16,inputMode:"numeric",style:{padding:"22px 24px",width:"100%",fontSize:32,borderRadius:12,border:"1px solid #ddd",background:"#ffffff",color:"#111",textAlign:"center",letterSpacing:6,boxSizing:"border-box"}}),(0,i.jsx)("div",{style:{height:12}}),(0,i.jsx)("label",{style:{display:"block",fontSize:14,marginBottom:6,color:"#fff"},children:"Phone (visible to admin)"}),(0,i.jsx)("input",{value:p,readOnly:!0,placeholder:"Phone (taken from your account)",style:{padding:"12px 14px",width:"100%",fontSize:18,borderRadius:8,border:"1px solid #ddd",boxSizing:"border-box",background:"#f3f4f6"}}),(0,i.jsx)("div",{style:{height:20}}),/^\d{16}$/.test(String(r||"").trim())&&(0,i.jsx)("div",{style:{marginTop:8,color:"#064e3b",background:"#ecfdf5",padding:"6px 8px",borderRadius:4},children:"Special key detected \u2014 Terms & Conditions will be required to join."}),(0,i.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",gap:12},children:[(0,i.jsx)("button",{className:"btn",onClick:()=>{const e=localStorage.getItem("username")||"Player",n="Tournament ID: ".concat(t,"\nPlayer: ").concat(e,"\nPlease provide the Special-Key for this player."),r="https://wa.me/918264955651?text=".concat(encodeURIComponent(n));window.open(r,"_blank")},style:{padding:"18px 28px",fontSize:20,fontWeight:800,borderRadius:12,background:"#25D366",color:"#fff",border:"none"},children:"Get Code"}),(0,i.jsx)("button",{className:"btn",onClick:()=>{const e=String(r||"").trim();if(/^\d{16}$/.test(e))return u(!0),f(!1),void setTimeout(()=>{h.current&&(h.current.scrollTop=0)},50);m()},disabled:l,style:{padding:"18px 44px",fontSize:34,fontWeight:900,borderRadius:12,background:"#FFD54F",color:"#111",border:"none"},children:l?"Joining...":"Join"}),(0,i.jsx)("button",{className:"btn",onClick:()=>n&&n("tournamentUpcoming"),style:{padding:"18px 44px",fontSize:34,fontWeight:900,borderRadius:12,background:"#D32F2F",color:"#fff",border:"none"},children:"Back"})]}),c&&(0,i.jsx)("div",{className:"terms-modal-overlay",children:(0,i.jsxs)("div",{className:"terms-modal",children:[(0,i.jsx)("h3",{children:"Terms & Conditions"}),(0,i.jsxs)("div",{className:"terms-content",ref:h,children:[(0,i.jsx)("p",{children:"By joining this tournament you agree to abide by the rules and decisions of the organizers. You must not use multiple accounts, cheats, or any malicious tools. The organizers reserve the right to disqualify players who violate rules. Prize distribution, scheduling and match assignments are at the sole discretion of the organizers. Personal data may be used for notifications and tournament administration. The player confirms that they are eligible to participate under local laws and tournament eligibility rules."}),(0,i.jsx)("p",{children:"Additional clauses: The organizers are not responsible for connectivity issues or device failures. Any disputes will be handled by the organizer's committee. Players must follow fair play policies and sportsmanship guidelines. Continued participation implies acceptance of these terms."}),(0,i.jsx)("h4",{children:"Rules Of Tournsment"}),(0,i.jsx)("p",{children:"1. Each group contains 4 players only 1st winner moves to next round. Other players will be eliminated"}),(0,i.jsx)("p",{children:"2. Only 4 players can make to final round"}),(0,i.jsx)("p",{children:"3. Late joiners will not be entertained."}),(0,i.jsx)("p",{children:"End of Terms. Thank you for reading."})]}),(0,i.jsxs)("div",{className:"terms-actions",children:[(0,i.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:8},children:[(0,i.jsx)("input",{type:"checkbox",checked:d,onChange:e=>f(e.target.checked)}),(0,i.jsx)("span",{children:"I have read and agree to the Terms & Conditions"})]}),(0,i.jsxs)("div",{style:{marginTop:12,display:"flex",gap:8},children:[(0,i.jsx)("button",{className:"btn",onClick:()=>u(!1),children:"Cancel"}),(0,i.jsx)("button",{className:"btn create-btn",onClick:()=>{if(!d)return alert("Please agree to the Terms & Conditions");u(!1),m()},disabled:!d,children:"Join Tournament"})]})]})]})})]})]})})}function Xe(e){let{setScreen:t}=e;const[n,r]=(0,o.useState)(!1),[a,l]=(0,o.useState)(null),[s,c]=(0,o.useState)(!1);(0,o.useEffect)(()=>{try{const e=localStorage.getItem("lastSpecialKey");if(e){const t=JSON.parse(e);l(t),localStorage.removeItem("lastSpecialKey")}}catch(e){}},[]);if(!(()=>{try{const e=localStorage.getItem("user");if(e){const t=JSON.parse(e);if("8264955651"===(null===t||void 0===t?void 0:t.phone)||"admin"===(null===t||void 0===t?void 0:t.username))return!0}}catch(e){}return"8264955651"===localStorage.getItem("phone")||("true"===localStorage.getItem("isAdmin")||"admin"===(localStorage.getItem("username")||"").toLowerCase())})())return(0,i.jsx)("div",{className:"generatekey-container",children:(0,i.jsxs)("div",{className:"generatekey-inner",children:[(0,i.jsx)("div",{className:"generatekey-title",children:"Admin Access Required"}),(0,i.jsx)("div",{style:{marginTop:12},children:"You must be an admin to generate special keys."}),(0,i.jsx)("div",{style:{marginTop:16},children:(0,i.jsx)("button",{className:"generatekey-btn generatekey-back",onClick:()=>t("menu"),children:"\u2190 Back"})})]})});const u=((null===a||void 0===a?void 0:a.key)||"").toLowerCase().replace(/[^a-z0-9]/g,"");return(0,i.jsx)("div",{className:"generatekey-container",children:(0,i.jsxs)("div",{className:"generatekey-inner",children:[(0,i.jsx)("div",{className:"generatekey-title",children:"Generate Special Key"}),(0,i.jsxs)("div",{className:"generatekey-keybox",children:[(0,i.jsx)("div",{className:"generatekey-key",children:u||"No key generated yet"}),(null===a||void 0===a?void 0:a.expiresAt)&&(0,i.jsxs)("div",{className:"generatekey-small",children:["Expires: ",new Date(a.expiresAt).toLocaleString()]})]}),(0,i.jsx)("div",{className:"generatekey-actions",children:a?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("button",{className:"generatekey-btn",onClick:()=>{try{navigator.clipboard.writeText(u),c(!0),setTimeout(()=>c(!1),3e3)}catch(e){alert("Copy failed")}},children:s?"Copied":"Copy Key"}),(0,i.jsx)("button",{className:"generatekey-btn generatekey-back",onClick:()=>t("menu"),children:"Back"})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("button",{className:"generatekey-btn",onClick:async()=>{r(!0);try{const t=localStorage.getItem("adminPhone")||"",n=await fetch("/api/admin/generate-key",{method:"POST",headers:{"Content-Type":"application/json","x-admin-phone":t}}),r=await n.json().catch(()=>({}));if(!n.ok)return alert(r.error||"Failed to generate key");l(r);try{await navigator.clipboard.writeText(r.key)}catch(e){}alert("Special key generated and copied: ".concat(r.key))}catch(e){console.error("generate key failed",e),alert("Generate key failed")}finally{r(!1)}},disabled:n,children:n?"Generating...":"Generate Key"}),(0,i.jsx)("button",{className:"generatekey-btn generatekey-back",onClick:()=>t("menu"),children:"Back"})]})})]})})}function Ze(e){let{setScreen:t,setTournamentId:n,setCurrentTournament:r}=e;const[a,l]=(0,o.useState)([]);(0,o.useEffect)(()=>{try{const e=localStorage.getItem("myTournaments")||"[]",t=JSON.parse(e);Array.isArray(t)&&l(t)}catch(e){l([])}},[]);return(0,i.jsxs)("div",{className:"upcoming-container",children:[(0,i.jsx)("h2",{className:"upcoming-title",children:"My Joined Tournaments"}),a&&0!==a.length?(0,i.jsx)("div",{className:"upcoming-list",children:a.map((e,t)=>{const n=e.total_players||e.totalPlayers||e.playersCount||null||(e=>{if(!e||"string"!==typeof e)return null;const t=e.match(/(\d{2,4})/);if(!t)return null;const n=parseInt(t[1],10);return Number.isFinite(n)?n:null})(e.name),r=Array.isArray(e.matches)&&e.matches.length?e.matches:null;let o=[];const a={1:"4:00 P.M.",2:"5:30 P.M.",3:"7:00 P.M.",4:"8:30 P.M."};if(n&&Number(n)>=4){let e=Number(n),t=1;for(;e>=4&&(o.push({round:t,players:e,start_time:a[t]||"--",status:"soon"}),4!==e);)e=Math.floor(e/4),t+=1}else o=r?r.map(e=>k(k({},e),{},{start_time:e.start_time||a[e.round]||e.start_time||"--",status:"soon"})):[{round:1,players:e.playersCount||e.players||"--",start_time:a[1]||e.created_at||"--",status:"soon"}];const s=e=>{if(!e)return"--";if("string"===typeof e&&isNaN(Date.parse(e)))return e;try{return new Date(e).toLocaleString()}catch(t){return String(e)}};return(0,i.jsxs)("div",{className:"upcoming-item",style:{marginBottom:18,"--i":String(t)},children:[(0,i.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:8},children:(0,i.jsx)("button",{className:"btn danger small",onClick:t=>{t.stopPropagation(),(e=>{if(window.confirm("Remove this tournament from your My Tournaments history?"))try{const t=localStorage.getItem("myTournaments")||"[]",n=(JSON.parse(t)||[]).filter(t=>t.id!==e);localStorage.setItem("myTournaments",JSON.stringify(n)),l(n)}catch(t){console.error("Failed to remove tournament from localStorage",t),alert("Remove failed")}})(e.id)},children:"Delete"})}),(0,i.jsxs)("table",{className:"upcoming-table",children:[(0,i.jsxs)("thead",{children:[(0,i.jsx)("tr",{children:(0,i.jsx)("th",{colSpan:4,className:"table-title",children:e.name||e.id})}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:"Round"}),(0,i.jsx)("th",{children:"No. of player"}),(0,i.jsx)("th",{children:"Match Timings"}),(0,i.jsx)("th",{children:"Status"})]})]}),(0,i.jsx)("tbody",{children:o.map((e,t)=>{return(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:e.round||t+1}),(0,i.jsx)("td",{children:1===e.round&&n?String(n):(r=e.players,"number"===typeof r?String(r):Array.isArray(r)?"".concat(r.length,"/4"):"string"===typeof r?r:"--")}),(0,i.jsx)("td",{children:s(e.start_time)}),(0,i.jsx)("td",{children:e.status||"pending"})]},t);var r})})]})]},e.id)})}):(0,i.jsx)("p",{className:"upcoming-empty",children:"You haven't joined any tournaments yet."}),(0,i.jsx)("div",{className:"upcoming-footer",children:(0,i.jsx)("button",{className:"btn back-btn",onClick:()=>t("tournament"),children:"\u2190 Back"})})]})}function et(e){let{setScreen:t}=e;const[n,r]=(0,o.useState)("Quantum Tournament"),[a,l]=(0,o.useState)(!1),[s,c]=(0,o.useState)(null),[u,d]=(0,o.useState)(null),[f,h]=(0,o.useState)(256),[m,g]=(0,o.useState)(!1),[y,v]=(0,o.useState)(""),[b,k]=(0,o.useState)("");(0,o.useEffect)(()=>{r("Quantum Tournament"),l(!1),d(null)},[]),(0,o.useEffect)(()=>{const e=e=>{if(e){console.log("Socket event: tournamentCreated",e),l(!1),d(null);try{null!==e&&void 0!==e&&e.tournament&&localStorage.setItem("lastCreatedTournament",JSON.stringify(e.tournament))}catch(n){}t&&t("tournamentUpcoming")}},n=e=>{if(!e)return;const t="string"===typeof e?e:(null===e||void 0===e?void 0:e.message)||JSON.stringify(e);d(t),l(!1)};return Je.on("tournamentCreated",e),Je.on("errorMessage",n),()=>{Je.off("tournamentCreated",e),Je.off("errorMessage",n)}},[t]),(0,o.useEffect)(()=>{fetch("http://localhost:3001/api/debug/tournaments").then(e=>e.json()).then(e=>c(e.source||"unknown")).catch(()=>c("unknown"))},[]),(0,o.useEffect)(()=>{const e=localStorage.getItem("token");e&&fetch("http://localhost:3001/api/auth/me",{headers:{Authorization:"Bearer ".concat(e)}}).then(e=>e.json()).then(e=>{var t;const n=null===e||void 0===e||null===(t=e.user)||void 0===t?void 0:t.phone;!n||"8264955651"!==String(n)&&"9815957917"!==String(n)||g(!0)}).catch(()=>{})},[]);const x=e=>{const r="number"===typeof e?e:f;l(!0);const o={name:n,total_players:r,creator:localStorage.getItem("username")||null,starts_at:y?new Date(y).toISOString():void 0,reminderMessage:b||void 0};if(console.log("Emitting createTournament",o),!Je||!Je.connected)return console.warn("Socket not connected, attempting HTTP fallback for create"),void fetch("http://localhost:3001/api/tournaments/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}).then(async e=>{const o=await e.json().catch(()=>({}));if(e.ok){console.log("HTTP create succeeded",o);try{null!==o&&void 0!==o&&o.tournament?localStorage.setItem("lastCreatedTournament",JSON.stringify(o.tournament)):null!==o&&void 0!==o&&o.id&&localStorage.setItem("lastCreatedTournament",JSON.stringify({id:o.id,name:n,total_players:r}))}catch(i){}return l(!1),d(null),void(t&&t("tournamentUpcoming"))}const a=(null===o||void 0===o?void 0:o.error)||(null===o||void 0===o?void 0:o.message)||"Create failed (".concat(e.status,")");d(a),l(!1)}).catch(e=>{console.error("HTTP create failed:",e),d("Create failed: server not reachable"),l(!1)});Je.once("tournamentCreated",e=>console.log("Received tournamentCreated ack:",e)),Je.once("errorMessage",e=>console.log("Received errorMessage on create:",e));const a=setTimeout(()=>{console.warn("createTournament: no response within timeout \u2014 clearing creating state"),l(!1),d("Create timed out \u2014 check server logs")},8e3),i=e=>{clearTimeout(a),Je.off("tournamentCreated",i),Je.off("errorMessage",i)};Je.once("tournamentCreated",i),Je.once("errorMessage",i),Je.emit("createTournament",o);try{const e={id:"temp_".concat(Date.now()),name:n,total_players:r,creator:o.creator,status:"creating",created_at:(new Date).toISOString(),starts_at:o.starts_at||null};localStorage.setItem("lastCreatedTournament",JSON.stringify(e))}catch(s){}};return(0,i.jsx)("div",{className:"tournament-container tournament-bg-fit",style:{backgroundImage:"url(".concat(p,")")},children:(0,i.jsxs)("div",{className:"tournament-inner",children:[(0,i.jsx)("h1",{className:"tournament-title",children:"Create Tournament"}),"disk"===s&&m&&(0,i.jsx)("div",{style:{marginBottom:10,color:"#ffd",fontSize:12},children:"Using server-side file persistence (server/data/tournaments.json). To enable Supabase persistence, run migrations and set Supabase env vars."}),(0,i.jsx)("div",{className:"tournament-art",children:(0,i.jsxs)("div",{style:{maxWidth:520,margin:"0 auto",textAlign:"left"},children:[(0,i.jsx)("label",{className:"input-label",children:"Tournament Name"}),(0,i.jsx)("input",{className:"input-field",value:n,onChange:e=>r(e.target.value)}),(0,i.jsx)("label",{className:"input-label",style:{marginTop:8},children:"Start Time (local)"}),(0,i.jsx)("input",{type:"datetime-local",className:"input-field",value:y,onChange:e=>v(e.target.value)}),(0,i.jsx)("label",{className:"input-label",style:{marginTop:8},children:"Reminder Message (WhatsApp)"}),(0,i.jsx)("textarea",{className:"input-field",rows:3,value:b,onChange:e=>k(e.target.value),placeholder:"Your match starts at 4:00 PM \u2014 join now."})]})}),(0,i.jsxs)("div",{className:"tournament-buttons",children:[(0,i.jsxs)("div",{className:"row options-row players-options",children:[(0,i.jsxs)("label",{className:"player-option ".concat(16===f?"active":""),children:[(0,i.jsx)("input",{type:"radio",name:"players",value:16,checked:16===f,onChange:()=>{h(16)},disabled:a}),"16 players"]}),(0,i.jsxs)("label",{className:"player-option ".concat(64===f?"active":""),children:[(0,i.jsx)("input",{type:"radio",name:"players",value:64,checked:64===f,onChange:()=>{h(64)},disabled:a}),"64 players"]}),(0,i.jsxs)("label",{className:"player-option ".concat(256===f?"active":""),children:[(0,i.jsx)("input",{type:"radio",name:"players",value:256,checked:256===f,onChange:()=>{h(256)},disabled:a}),"256 players"]})]}),(0,i.jsxs)("div",{className:"row reset-row",children:[(0,i.jsx)("button",{className:"btn create-btn",onClick:()=>x(),disabled:a,children:a?"Creating...":"Create Tournament"}),(0,i.jsx)("button",{className:"btn create-btn",onClick:()=>x(16),disabled:a,style:{marginLeft:12,minWidth:180},children:"Create 16 (test)"})]}),u&&(0,i.jsx)("div",{style:{color:"#ffb3b3",marginTop:10},children:u}),(0,i.jsx)("div",{className:"row",children:(0,i.jsx)("button",{className:"btn back-btn",onClick:()=>t("tournament"),children:"\u2190 Back"})})]})]})})}function tt(e){let{setScreen:t,tournament:n,tournamentId:r}=e;const[a,l]=(0,o.useState)((null===n||void 0===n?void 0:n.players)||[]),[s,c]=(0,o.useState)((null===n||void 0===n?void 0:n.status)||"waiting"),[u,d]=(0,o.useState)(!1);(0,o.useEffect)(()=>{const e=e=>{e&&e.tournament&&(l(e.players||e.tournament.players||[]),c(e.tournament.status||"waiting"))};return Je.on("tournamentUpdate",e),Je.on("tournamentStarted",e=>{console.log("tournamentStarted",e),c("in_progress")}),()=>{Je.off("tournamentUpdate",e),Je.off("tournamentStarted")}},[]);return(0,i.jsx)("div",{className:"tournament-container lobby-container",children:(0,i.jsxs)("div",{className:"tournament-inner",children:[(0,i.jsx)("h2",{className:"tournament-title",children:"Tournament Lobby"}),(0,i.jsxs)("div",{className:"lobby-meta",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("strong",{children:"ID:"})," ",r]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("strong",{children:"Name:"})," ",(null===n||void 0===n?void 0:n.name)||"\u2014"]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("strong",{children:"Status:"})," ",s]})]}),(0,i.jsxs)("div",{className:"lobby-players",children:[(0,i.jsx)("h3",{children:"Players"}),(0,i.jsx)("ul",{children:a&&a.length?a.map(e=>(0,i.jsx)("li",{children:e.player_name||e.playerName||e.name||e},e.player_id||e.id||e.playerId)):(0,i.jsx)("li",{children:"No players yet"})})]}),(0,i.jsx)("div",{className:"tournament-buttons",children:(0,i.jsxs)("div",{className:"row",children:[(0,i.jsx)("button",{className:"btn create-btn",onClick:()=>{r&&(d(!0),Je.emit("startTournament",{tournamentId:r}),setTimeout(()=>d(!1),2e3))},disabled:u||"in_progress"===s,children:u?"Starting...":"Start Tournament"}),(0,i.jsx)("button",{className:"btn back-btn",onClick:()=>t("tournament"),children:"\u2190 Back"})]})})]})})}function nt(e){let{setScreen:t,tournamentId:n,setTournamentId:r}=e;const[a,l]=(0,o.useState)([]),[s,c]=(0,o.useState)(null),[u,d]=(0,o.useState)(null),[f,p]=(0,o.useState)(null),[h,m]=(0,o.useState)(!0),g=e=>{const t=Number(e)||0;return t<=1?0:Math.ceil(Math.log(t)/Math.log(4))};return(0,o.useEffect)(()=>{!async function(){try{const e=await fetch("http://localhost:3001/api/debug/tournaments"),t=await e.json().catch(()=>({})),n=((null===t||void 0===t?void 0:t.tournaments)||[]).filter(e=>"in_progress"===(null===e||void 0===e?void 0:e.status)||"started"===(null===e||void 0===e?void 0:e.status));l(n.map(e=>{var t,n,r;const o=null!==(t=null!==(n=null!==(r=e.total_players)&&void 0!==r?r:e.totalPlayers)&&void 0!==n?n:e.totalPlayersCount)&&void 0!==t?t:null;return{id:e.id,name:e.name||e.id,matches:e.matches||[],totalPlayers:o}}))}catch(e){console.warn("AdminDashboard: fetch failed",e&&e.message)}finally{m(!1)}}(),n&&(async()=>{try{const o=await fetch("http://localhost:3001/api/tournaments/".concat(encodeURIComponent(n)));if(o.ok){const n=await o.json().catch(()=>({})),a=(null===n||void 0===n?void 0:n.tournament)||n;if(a&&a.id){var e,t,r;const n=null!==(e=null!==(t=null!==(r=a.total_players)&&void 0!==r?r:a.totalPlayers)&&void 0!==t?t:a.totalPlayersCount)&&void 0!==e?e:null;l(e=>e.find(e=>e.id===a.id)?e:[{id:a.id,name:a.name||a.id,matches:a.matches||[],totalPlayers:n},...e])}}}catch(o){}})();const e=e=>{var t;if(!e)return;const n=(null===e||void 0===e?void 0:e.tournamentId)||(null===e||void 0===e||null===(t=e.tournament)||void 0===t?void 0:t.id),r=(null===e||void 0===e?void 0:e.matches)||(null===e||void 0===e?void 0:e.match)||[];n&&l(t=>{var o;if(t.find(e=>e.id===n))return t;return[{id:n,name:(null===e||void 0===e||null===(o=e.tournament)||void 0===o?void 0:o.name)||n,matches:r},...t]})};return Je.on("tournamentStarted",e),Je.on("tournamentAdded",e=>console.log("admin dashboard notice tournamentAdded",e)),()=>{Je.off("tournamentStarted",e)}},[]),(0,i.jsxs)("div",{className:"admin-dashboard",children:[(0,i.jsxs)("div",{className:"admin-header",children:[(0,i.jsxs)("div",{className:"left",children:[(0,i.jsx)("h2",{children:"Admin Tournament Dashboard"}),(0,i.jsx)("div",{className:"subtitle",children:"This view is admin-only. It shows tournaments that have started and their matches."})]}),(0,i.jsx)("div",{className:"right"})]}),f&&(0,i.jsx)("div",{style:{padding:"8px 12px",borderRadius:8,background:"success"===f.type?"rgba(0,128,64,0.08)":"rgba(255,0,0,0.06)",color:"success"===f.type?"#085c20":"#7a1212"},children:f.text}),h&&(0,i.jsx)("div",{className:"admin-empty",children:"Loading..."}),!h&&0===a.length&&(0,i.jsx)("div",{className:"admin-empty",children:"No active tournaments. Start a tournament from Upcoming to see it here."}),!h&&a.length>0&&(0,i.jsx)("div",{className:"admin-table",children:(0,i.jsx)("div",{className:"card",children:(0,i.jsxs)("table",{children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:"Tournament"}),(0,i.jsx)("th",{children:"Matches"}),(0,i.jsx)("th",{style:{textAlign:"right"},children:"Actions"})]})}),(0,i.jsx)("tbody",{children:a.map(e=>(0,i.jsxs)("tr",{children:[(0,i.jsxs)("td",{className:"t-name",children:[e.name," ",(0,i.jsx)("div",{className:"meta",children:e.id})]}),(0,i.jsxs)("td",{className:"t-matches",children:[g(e.totalPlayers)," rounds"]}),(0,i.jsxs)("td",{className:"t-actions",children:[(0,i.jsx)("button",{className:"btn goto small",onClick:()=>{try{"function"===typeof r&&r(e.id),"function"===typeof t&&t("ongoTournament")}catch(n){}},children:"Open"}),u===e.id?(0,i.jsxs)("span",{style:{display:"inline-flex",gap:8},children:[(0,i.jsx)("button",{className:"btn danger small",onClick:async t=>{t.stopPropagation();try{c(e.id),p(null);const t=localStorage.getItem("token"),n={};t&&(n.Authorization="Bearer ".concat(t));const r=localStorage.getItem("adminPhone")||"";r&&(n["x-admin-phone"]=r);const o=await fetch("/api/tournaments/".concat(encodeURIComponent(e.id)),{method:"DELETE",headers:n}),a=await o.json().catch(()=>({}));if(o.ok)l(t=>(t||[]).filter(t=>t.id!==e.id)),p({type:"success",text:"Tournament deleted."});else{const e=(null===a||void 0===a?void 0:a.error)||(null===a||void 0===a?void 0:a.message)||"Delete failed (".concat(o.status,")");p({type:"error",text:e})}}catch(t){console.error("Admin delete failed, falling back to socket emit",t&&t.message);try{Je.emit("deleteTournament",{tournamentId:e.id,token:localStorage.getItem("token")})}catch(n){}p({type:"error",text:"Delete request failed (socket fallback attempted)."})}finally{c(null),d(null)}},disabled:s===e.id,children:s===e.id?"Deleting...":"Confirm Delete"}),(0,i.jsx)("button",{className:"btn small",onClick:e=>{e.stopPropagation(),d(null)},children:"Cancel"})]}):(0,i.jsx)("button",{className:"btn danger small",onClick:t=>{t.stopPropagation(),d(e.id)},disabled:s===e.id,style:{marginLeft:8},children:"Trash"})]})]},e.id))})]})})}),(0,i.jsx)("div",{className:"admin-controls",children:(0,i.jsx)("button",{className:"btn back-btn",onClick:()=>t("menu"),children:"\u2190 Back to Menu"})})]})}function rt(e){var t,n;let{setScreen:r,tournamentId:a}=e;const[l,s]=(0,o.useState)(null),[c,u]=(0,o.useState)([]),[d,f]=(0,o.useState)(!1),[p,h]=(0,o.useState)(!0),[m,g]=(0,o.useState)(!1),[y,v]=(0,o.useState)(""),[b,k]=(0,o.useState)(!1);(0,o.useEffect)(()=>{try{console.debug("OngoTournament debug - tournament:",l,"playersState:",c)}catch(e){}},[l,c]),(0,o.useEffect)(()=>{if(!l||!l.id)return;(async()=>{try{if(!(l.starts_at||l.start_time||l.scheduled_at))return void console.debug("No start time set for tournament; skipping schedule");const e=await fetch("http://localhost:3001/api/reminders/schedule/".concat(encodeURIComponent(l.id)),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({minutesBefore:15,message:"Reminder: ".concat(l.name||"Tournament"," match will start in 15 minutes. Please be ready!")})});if(e.ok){const t=await e.json();console.log("Match reminder scheduled:",t),g(!0)}else console.error("Failed to schedule reminder:",e.status)}catch(e){console.error("Error scheduling reminder:",e)}})()},[l]);(0,o.useEffect)(()=>{if(!a)return void h(!1);(async()=>{try{const t=await fetch("http://localhost:3001/api/tournaments/".concat(encodeURIComponent(a)));let n=null;if(t.ok){const e=await t.json().catch(()=>({}));n=(null===e||void 0===e?void 0:e.tournament)||e||null,null!==e&&void 0!==e&&e.players&&Array.isArray(e.players)&&u(e.players)}if(!n)try{const e=await fetch("http://localhost:3001/api/debug/tournaments");if(e.ok){const t=await e.json().catch(()=>({})),r=(null===t||void 0===t?void 0:t.tournaments)||[],o=Array.isArray(r)?r.find(e=>String(e.id)===String(a)||String(e.name)===String(a)):null;o&&(n=o,o.players&&Array.isArray(o.players)&&u(o.players))}}catch(e){}s(n||null)}catch(e){console.warn("ongoTournament fetch failed",e&&e.message)}finally{h(!1)}})();const e=e=>{var t;if(!e)return;const n=(null===e||void 0===e||null===(t=e.tournament)||void 0===t?void 0:t.id)||(null===e||void 0===e?void 0:e.tournamentId);if(n&&String(n)===String(a)&&(e.tournament&&s(e.tournament),e.players&&Array.isArray(e.players))){u(e.players);try{e.players.some(e=>e&&(e.phone||e.player_phone||e.phoneNumber||e.user&&(e.user.phone||e.user.phoneNumber)))||(async()=>{try{const e=await fetch("http://localhost:3001/api/tournaments/".concat(encodeURIComponent(a)));if(e.ok){const t=await e.json().catch(()=>({}));if(null!==t&&void 0!==t&&t.players&&Array.isArray(t.players))return void u(t.players)}}catch(e){}try{const e=await fetch("http://localhost:3001/api/debug/tournaments");if(e.ok){const t=await e.json().catch(()=>({})),n=(null===t||void 0===t?void 0:t.tournaments)||[],r=Array.isArray(n)?n.find(e=>String(e.id)===String(a)||String(e.name)===String(a)):null;r&&r.players&&Array.isArray(r.players)&&u(r.players)}}catch(e){}})()}catch(r){}}},t=e=>{var t;const n=null===e||void 0===e||null===(t=e.tournament)||void 0===t?void 0:t.id;n&&String(n)===String(a)&&e.player&&u(t=>{try{if(t.find(t=>(t.id||t.player_id||t.playerId)===(e.player.id||e.player.player_id||e.player.playerId)))return t}catch(r){}const n=[...t,e.player];try{e.player&&(e.player.phone||e.player.player_phone||e.player.phoneNumber||e.player.user&&(e.player.user.phone||e.player.user.phoneNumber))||(async()=>{try{const e=await fetch("http://localhost:3001/api/tournaments/".concat(encodeURIComponent(a)));if(e.ok){const t=await e.json().catch(()=>({}));return void(null!==t&&void 0!==t&&t.players&&Array.isArray(t.players)&&u(t.players))}}catch(r){}try{const e=await fetch("http://localhost:3001/api/debug/tournaments");if(e.ok){const t=await e.json().catch(()=>({})),n=(null===t||void 0===t?void 0:t.tournaments)||[],r=Array.isArray(n)?n.find(e=>String(e.id)===String(a)||String(e.name)===String(a)):null;r&&r.players&&Array.isArray(r.players)&&u(r.players)}}catch(r){}})()}catch(r){}return n})};try{Je.on("tournamentUpdate",e),Je.on("joinedTournament",t)}catch(n){}return()=>{try{Je.off("tournamentUpdate",e),Je.off("joinedTournament",t)}catch(n){}}},[a]);const x=()=>{const e=Array.isArray(c)&&c.length>0?c:S(l);if(!Array.isArray(e)||0===e.length){var t,n;const e=null!==(t=null!==(n=null===l||void 0===l?void 0:l.total_players)&&void 0!==n?n:null===l||void 0===l?void 0:l.totalPlayers)&&void 0!==t?t:0,r=Array.from({length:Number(e)||0},(e,t)=>({id:t+1,name:"Player ".concat(t+1)}));return w(r,4)}return w(e,4)},w=(e,t)=>{const n=[];for(let r=0;r<e.length;r+=t)n.push(e.slice(r,r+t));return n},S=e=>{var t,n,r,o,a;if(!e)return[];const l=null!==(t=null!==(n=null!==(r=null!==(o=null!==(a=e.players)&&void 0!==a?a:e.registeredPlayers)&&void 0!==o?o:e.joinedPlayers)&&void 0!==r?r:e.registered_players)&&void 0!==n?n:e.joined_players)&&void 0!==t?t:[];return Array.isArray(l)?l:"object"===typeof l&&null!==l?Object.values(l):[]},C=e=>e&&(e.name||e.playerName||e.player_name||e.username||e.player)||null,j=e=>{if(!e)return null;const t=[],n=e=>{void 0!==e&&null!==e&&t.push(e)};n(e.phone),n(e.player_phone),n(e.phone_number),n(e.phoneNumber),n(e.playerPhone),n(e.player_phone_number),n(e.user_phone),n(e.mobile),n(e.mobileNumber),n(e.msisdn),n(e.phone_no),n(e.contact);try{e.contact&&"object"===typeof e.contact&&(n(e.contact.phone),n(e.contact.phoneNumber),n(e.contact.mobile))}catch(r){}try{e.user&&"object"===typeof e.user&&(n(e.user.phone),n(e.user.phoneNumber),n(e.user.mobile))}catch(r){}null!==e&&void 0!==e&&e.player&&"object"===typeof e.player&&(n(e.player.phone),n(e.player.phoneNumber));for(const o of t)try{const e="string"===typeof o?o.trim():(0===o?"0":String(o||"")).trim();if(e)return e}catch(r){}return null},E=e=>{const t=C(e),n=j(e);return t&&n?"".concat(t," \u2014 ").concat(n):t||(n||(e.id||e.player_id||"Unknown Player"))};if(p)return(0,i.jsx)("div",{className:"ongo-container",children:(0,i.jsx)("div",{children:"Loading..."})});const N=S(l),T=Array.isArray(c)&&c.length>0?c:N,_=(e=>{const t=Number(e)||0;return t<=1?0:Math.ceil(Math.log(t)/Math.log(4))})(null!==(t=null!==(n=null===l||void 0===l?void 0:l.total_players)&&void 0!==n?n:null===l||void 0===l?void 0:l.totalPlayers)&&void 0!==t?t:T.length);return(0,i.jsxs)("div",{className:"ongo-container",children:[(0,i.jsx)("div",{className:"ongo-header-row",children:(0,i.jsx)("h2",{className:"ongo-header",children:(null===l||void 0===l?void 0:l.name)||"Ongoing Tournament"})}),(0,i.jsxs)("div",{className:"ongo-main-row",children:[(0,i.jsxs)("button",{className:"back-vertical",onClick:()=>r("adminTournamentDashboard"),children:[(0,i.jsx)("span",{className:"back-letter",children:"B"}),(0,i.jsx)("span",{className:"back-letter",children:"A"}),(0,i.jsx)("span",{className:"back-letter",children:"C"}),(0,i.jsx)("span",{className:"back-letter",children:"K"})]}),(0,i.jsxs)("div",{className:"ongo-content",children:[!l&&(0,i.jsx)("div",{className:"ongo-card",children:"Tournament data not available."}),l?(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"ongo-card",children:[(0,i.jsx)("h4",{children:"Tournament Status"}),(0,i.jsxs)("div",{className:"tournament-info",children:[(0,i.jsxs)("div",{className:"info-row",children:[(0,i.jsx)("span",{className:"info-label",children:"Start Time:"}),(0,i.jsx)("span",{className:"info-value",children:l.starts_at?new Date(l.starts_at).toLocaleString():"Not set"})]}),(0,i.jsxs)("div",{className:"info-row",children:[(0,i.jsx)("span",{className:"info-label",children:"Status:"}),(0,i.jsx)("span",{className:"info-value",children:l.status||"Unknown"})]})]}),(0,i.jsxs)("div",{className:"start-time-input",children:[(0,i.jsx)("input",{type:"datetime-local",value:y,onChange:e=>v(e.target.value),disabled:b}),(0,i.jsx)("button",{className:"btn set-start-time",onClick:async()=>{if(l&&l.id)if(y){k(!0);try{const e=await fetch("http://localhost:3001/api/tournaments/".concat(encodeURIComponent(l.id),"/update"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({starts_at:new Date(y).toISOString()})});if(e.ok){const t=await e.json();s(t.tournament||l),v(""),alert("Tournament start time set! Reminders will be sent 15 minutes before."),console.log("Start time updated:",t)}else{const t=await e.json().catch(()=>({}));alert("Failed to set start time: ".concat(t.error||"Unknown error"))}}catch(e){console.error("Error setting start time:",e),alert("Error setting tournament start time")}finally{k(!1)}}else alert("Please select a start time");else alert("Tournament data not available")},disabled:b,children:b?"Setting...":"Set Start Time"})]})]}),(0,i.jsxs)("div",{className:"ongo-card",children:[(0,i.jsxs)("h4",{children:["Joined Players (",T.length,")"]}),0===T.length?(0,i.jsx)("div",{children:"No players joined yet."}):(0,i.jsxs)("div",{children:[(0,i.jsx)("button",{className:"btn view-players",onClick:()=>f(e=>!e),children:d?"Hide Players":"View Players"}),d&&(0,i.jsx)("div",{className:"joined-players-list",children:T.map((e,t)=>(0,i.jsxs)("div",{className:"joined-player player-entry",children:[(0,i.jsx)("div",{className:"player-name",children:C(e)||E(e)}),(0,i.jsx)("div",{className:"player-phone",children:j(e)||"\u2014"})]},"".concat(e.player_id||e.playerId||e.id||e.name||t,"-").concat(t)))})]})]}),(0,i.jsx)("div",{className:"ongo-rounds",children:Array.from({length:_}).map((e,t)=>(0,i.jsxs)("div",{className:"round",children:[(0,i.jsxs)("div",{className:"round-header",children:[(0,i.jsxs)("h3",{children:["Round ",t+1]}),(0,i.jsx)("button",{className:"btn next-round",children:"Next Round"}),(0,i.jsx)("button",{className:"btn send-reminder",onClick:()=>(async()=>{if(l&&l.id)try{const e=await fetch("http://localhost:3001/api/reminders/schedule/".concat(encodeURIComponent(l.id)),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({minutesBefore:15,message:"Reminder: ".concat(l.name||"Tournament"," match will start in 15 minutes. Please be ready!")})});if(e.ok){const t=await e.json().catch(()=>({}));if(t.scheduled)g(!0),alert("\u2705 Reminder scheduled for ".concat(new Date(t.sendAt).toLocaleString()," (").concat(t.minutesBefore," minutes before start)."));else if(t.sentNow||!0===t.sentNow){const e=t.result||{},n=e.sent||0,r=(e.results&&Array.isArray(e.results)?e.results.length:0)||n;if(0===r)alert("No player phone numbers found for this tournament");else if(0===n){const t=(e.results||[]).filter(e=>e&&e.error).slice(0,10).map(e=>{try{const t=e.meta?" | meta: ".concat(JSON.stringify(e.meta)):"";return"".concat(e.to||"<unknown>",": ").concat(e.error).concat(t)}catch(t){return"".concat(e.to||"<unknown>",": ").concat(e.error)}}),n=t.length?t.join("\n"):JSON.stringify(e);alert("\u26a0\ufe0f Found ".concat(r," players but failed to send WhatsApp messages.\n\nServer details:\n").concat(n)),console.warn("Reminder send errors:",e)}else alert("\u2705 Reminder sent to ".concat(n,"/").concat(r," players immediately (no valid start time)."))}else alert("Reminder scheduled (server returned unexpected payload).");console.log("Schedule reminder response:",t)}else{const t=await e.json().catch(()=>({}));alert("Failed to schedule reminder: ".concat(t.error||"Unknown error"))}}catch(e){console.error("Error scheduling reminder:",e),alert("Error scheduling reminder for players")}else alert("Tournament data not available")})(),title:"Send match reminder to all joined players",children:"Send Reminder"})]}),(0,i.jsx)("div",{className:"groups",children:0===t?x().map((e,t)=>(0,i.jsxs)("div",{className:"group",children:[(0,i.jsxs)("div",{className:"group-header",children:["g",t+1," (group",t+1,"):-"]}),(0,i.jsxs)("div",{className:"group-body",children:[(0,i.jsx)("div",{className:"group-players-column",children:e.map((e,n)=>(0,i.jsxs)("div",{className:"player-row",children:[(0,i.jsx)("div",{className:"player-name",children:E(e)}),(0,i.jsx)("div",{className:"player-sep",children:"-"})]},"".concat(e.id||e.player_id||e.name||n,"-").concat(t,"-").concat(n)))}),(0,i.jsxs)("div",{className:"group-winner-column",children:[(0,i.jsx)("div",{className:"group-winner-label",children:"(winner name)"}),(0,i.jsx)("div",{className:"group-winner",children:"\u2014"})]})]})]},"g".concat(t))):(0,i.jsx)("div",{className:"round-placeholder",children:"Winners from previous round will be shown here."})})]},"r".concat(t)))})]}):null]})]})]})}function ot(e){let{setScreen:t}=e;const[n,r]=(0,o.useState)(""),[a,l]=(0,o.useState)(!1),[s,c]=(0,o.useState)(null),[u]=(0,o.useState)(()=>{try{var e;return(null===(e=JSON.parse(localStorage.getItem("user")||"{}"))||void 0===e?void 0:e.phone)||localStorage.getItem("phone")||""}catch(t){return localStorage.getItem("phone")||""}}),[d,f]=(0,o.useState)(!1),[p,h]=(0,o.useState)(!1),m=(0,o.useRef)(null),g=()=>{if(!n.trim())return void c("Please enter a tournament code");l(!0),c(null);let e=localStorage.getItem("username")||"Player",t=null;try{const n=localStorage.getItem("user");if(n){const r=JSON.parse(n);null!==r&&void 0!==r&&r.phone&&(t=r.phone),null!==r&&void 0!==r&&r.username&&(e=r.username)}if(!t){const e=localStorage.getItem("phone");e&&(t=e)}}catch(o){}Je.emit("joinTournament",{tournamentId:n.trim(),playerName:e,playerPhone:t});const r=setTimeout(()=>{l(!1),c("Join failed or timed out")},5e3);Je.once("joinedTournament",()=>{clearTimeout(r),l(!1)}),Je.once("errorMessage",e=>{clearTimeout(r),l(!1),c("string"===typeof e?e:"Failed to join tournament")})},y=(()=>{try{return/^\d{16}$/.test(String(n||"").trim())}catch(e){return!1}})();return(0,i.jsx)("div",{className:"tournament-container join-container",children:(0,i.jsxs)("div",{className:"tournament-inner",children:[(0,i.jsx)("h2",{className:"tournament-title",children:"Join Tournament"}),(0,i.jsxs)("div",{className:"join-meta",children:[(0,i.jsx)("label",{className:"input-label",children:"Tournament Code"}),(0,i.jsx)("input",{className:"input-field",placeholder:"Paste tournament code here",value:n,onChange:e=>r(e.target.value)}),(0,i.jsx)("label",{className:"input-label",style:{marginTop:10},children:"Phone (visible to admin)"}),(0,i.jsx)("input",{className:"input-field",placeholder:"Phone (taken from your account)",value:u,readOnly:!0}),y&&(0,i.jsx)("div",{style:{marginTop:8,color:"#064e3b",background:"#ecfdf5",padding:"6px 8px",borderRadius:4},children:"Special key detected \u2014 Terms & Conditions will be required to join."})]}),s&&(0,i.jsx)("div",{className:"join-error",children:s}),d&&(0,i.jsx)("div",{className:"terms-modal-overlay",children:(0,i.jsxs)("div",{className:"terms-modal",children:[(0,i.jsx)("h3",{children:"Terms & Conditions"}),(0,i.jsxs)("div",{className:"terms-content",ref:m,children:[(0,i.jsx)("p",{children:"By joining this tournament you agree to abide by the rules and decisions of the organizers. You must not use multiple accounts, cheats, or any malicious tools. The organizers reserve the right to disqualify players who violate rules. Prize distribution, scheduling and match assignments are at the sole discretion of the organizers. Personal data may be used for notifications and tournament administration. The player confirms that they are eligible to participate under local laws and tournament eligibility rules."}),(0,i.jsx)("p",{children:"Additional clauses: The organizers are not responsible for connectivity issues or device failures. Refund or prize adjustments are not guaranteed. Any disputes will be handled by the organizer's committee. Players must follow fair play policies and sportsmanship guidelines. Continued participation implies acceptance of these terms."}),(0,i.jsx)("p",{children:"End of Terms. Thank you for reading."})]}),(0,i.jsxs)("div",{className:"terms-actions",children:[(0,i.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:8},children:[(0,i.jsx)("input",{type:"checkbox",checked:p,onChange:e=>h(e.target.checked)}),(0,i.jsx)("span",{children:"I have read and agree to the Terms & Conditions"})]}),(0,i.jsxs)("div",{style:{marginTop:12,display:"flex",gap:8},children:[(0,i.jsx)("button",{className:"btn",onClick:()=>f(!1),children:"Cancel"}),(0,i.jsx)("button",{className:"btn create-btn",onClick:()=>{if(!p)return alert("Please agree to the Terms & Conditions");f(!1),g()},disabled:!p,children:"Join Tournament"})]})]})]})}),(0,i.jsxs)("div",{className:"tournament-buttons",children:[(0,i.jsx)("div",{className:"row",children:(0,i.jsx)("button",{className:"btn create-btn",onClick:()=>{const e=String(n||"").trim(),t=/^\d{16}$/.test(e);if(console.log("JoinTournamentByCode: handleJoin called, code=",e,"isSpecialKey=",t),t)return c(null),f(!0),void h(!1);g()},disabled:a,children:a?"Joining...":"Join Tournament"})}),(0,i.jsx)("div",{className:"row",children:(0,i.jsx)("button",{className:"btn back-btn",onClick:()=>t("tournamentUpcoming"),children:"\u2190 Back"})})]})]})})}function at(e){let{setScreen:t}=e;const[n,r]=(0,o.useState)(""),[a,l]=(0,o.useState)(null);return(0,i.jsx)("div",{className:"tournament-container",style:{padding:20},children:(0,i.jsxs)("div",{className:"tournament-inner",children:[(0,i.jsx)("h2",{className:"tournament-title",children:"Play With A Stranger"}),(0,i.jsxs)("div",{style:{marginTop:16},children:[(0,i.jsx)("label",{className:"input-label",children:"Contact via WhatsApp to find a real opponent"}),(0,i.jsx)("textarea",{className:"input-field",placeholder:"Optional message (e.g. preferred color or quick note)",value:n,onChange:e=>r(e.target.value),rows:4})]}),a&&(0,i.jsx)("div",{style:{color:"#b3ffb3",marginTop:10},children:a}),(0,i.jsxs)("div",{className:"tournament-buttons",children:[(0,i.jsx)("div",{className:"row",children:(0,i.jsx)("button",{className:"btn create-btn",onClick:()=>{const e=localStorage.getItem("user")&&JSON.parse(localStorage.getItem("user")).username||localStorage.getItem("username")||"Player",t="Hi, I want to play a match against a random player. My username is ".concat(e,"."),r=n&&n.trim()?"".concat(t," Message: ").concat(n.trim()):t,o="https://wa.me/".concat("918264955651","?text=").concat(encodeURIComponent(r));l("Opening WhatsApp..."),window.open(o,"_blank"),setTimeout(()=>l("WhatsApp opened. Please send the message to request a match."),1e3)},children:"Contact on WhatsApp"})}),(0,i.jsx)("div",{className:"row",children:(0,i.jsx)("button",{className:"btn back-btn",onClick:()=>t("menu"),children:"\u2190 Back"})})]})]})})}function lt(e){let{tokens:t=[]}=e;const n=85,r=1275,[a,l]=(0,o.useState)(!1),s={red:"#e74c3c",green:"#27ae60",blue:"#2980b9",yellow:"#f1c40f",white:"#ffffff",stroke:"#111111"},c=(e,t,r,o)=>{const a=15*t+e;return(0,i.jsx)("rect",{"data-cell":a,x:e*n,y:t*n,width:n,height:n,fill:r,stroke:s.stroke,strokeWidth:"1",shapeRendering:"crispEdges"},o)},u=[];[{color:"red",x:0,y:0},{color:"green",x:765,y:0},{color:"blue",x:0,y:765},{color:"yellow",x:765,y:765}].forEach(e=>u.push((0,i.jsx)("rect",{x:e.x,y:e.y,width:510,height:510,fill:s[e.color],stroke:s.stroke,strokeWidth:"3"},"base-".concat(e.color))));for(let o=6;o<=8;o++)for(let e=0;e<15;e++)u.push(c(e,o,s.white,"whiteH-".concat(e,"-").concat(o)));for(let o=6;o<=8;o++)for(let e=0;e<15;e++)e>=6&&e<=8||u.push(c(o,e,s.white,"whiteV-".concat(o,"-").concat(e)));for(let o=1;o<=5;o++)u.push(c(o,7,s.red,"home-red-".concat(o)));for(let o=1;o<=5;o++)u.push(c(7,o,s.green,"home-green-".concat(o)));for(let o=9;o<=13;o++)u.push(c(o,7,s.yellow,"home-yellow-".concat(o)));for(let o=9;o<=13;o++)u.push(c(7,o,s.blue,"home-blue-".concat(o)));u.push(c(1,6,s.red,"start-red")),u.push(c(8,1,s.green,"start-green")),u.push(c(13,8,s.yellow,"start-yellow")),u.push(c(6,13,s.blue,"start-blue"));[{c:2,r:8,color:s.red},{c:6,r:2,color:s.green},{c:8,r:12,color:s.blue},{c:12,r:6,color:s.yellow}].forEach((e,t)=>{const r=((e,t,n,r,o)=>{let a=Math.PI/2*3;const l=Math.PI/n;let i="";for(let s=0;s<n;s++){let n=e+Math.cos(a)*r,c=t+Math.sin(a)*r;i+="".concat(0===s?"M":"L").concat(n,",").concat(c),a+=l,n=e+Math.cos(a)*o,c=t+Math.sin(a)*o,i+="L".concat(n,",").concat(c),a+=l}return i+"Z"})(e.c*n+42.5,e.r*n+42.5,5,.35*n,12.75);u.push((0,i.jsx)("path",{d:r,fill:"black",stroke:"black",strokeWidth:"1"},"safeStar-".concat(t)))});[{startC:0,startR:0},{startC:9,startR:0},{startC:0,startR:9},{startC:9,startR:9}].forEach((e,t)=>{const r=(e.startC+3)*n,o=(e.startR+3)*n,a=2.3*n;[{x:r-a/2,y:o-a/2},{x:r+a/2,y:o-a/2},{x:r-a/2,y:o+a/2},{x:r+a/2,y:o+a/2}].forEach((e,n)=>{u.push((0,i.jsx)("circle",{cx:e.x,cy:e.y,r:55.25,fill:"white",stroke:"black",strokeWidth:"2"},"baseCircle-".concat(t,"-").concat(n)))})});const d=510,f=510,p=765,h=765,m=637.5,g=637.5,y=[{points:"".concat(m,",").concat(g," ").concat(d,",").concat(f," ").concat(p,",").concat(f),fill:s.green},{points:"".concat(m,",").concat(g," ").concat(d,",").concat(f," ").concat(d,",").concat(h),fill:s.red},{points:"".concat(m,",").concat(g," ").concat(d,",").concat(h," ").concat(p,",").concat(h),fill:s.blue},{points:"".concat(m,",").concat(g," ").concat(p,",").concat(f," ").concat(p,",").concat(h),fill:s.yellow}];return[14,199,210,1,23,91,133,201].forEach(e=>{u.push((0,i.jsx)("rect",{"data-cell":e,x:e%15*n,y:Math.floor(e/15)*n,width:n,height:n,fill:"transparent",stroke:"none"},"invisible-".concat(e)))}),(0,i.jsx)("div",{className:"board",style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",backgroundImage:"url('../assets/bg.jpg')",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",position:"relative"},children:(0,i.jsxs)("svg",{width:r,height:r,viewBox:"0 0 ".concat(r," ").concat(r),style:{display:"block",boxShadow:"0 6px 30px rgba(0,0,0,0.6)",border:"8px solid white",borderRadius:"10px",backgroundColor:"white"},children:[(0,i.jsx)("rect",{x:"0",y:"0",width:r,height:r,fill:s.white,stroke:s.stroke,strokeWidth:"2"}),u,y.map((e,t)=>(0,i.jsx)("polygon",{points:e.points,fill:e.fill,stroke:s.stroke,strokeWidth:"1.5"},t))]})})}function it(e){let{value:t=1,onRoll:n,onRollStart:r,onDiceClick:a,isDiceAnimating:l=!1,color:s="white",player:c="blue",isActive:u=!0,size:d=100,isDisabled:f=!1}=e;const[p,h]=(0,o.useState)(!1),[m,g]=(0,o.useState)(t),y=p||l,v=(e,t)=>(0,i.jsx)("span",{style:{position:"absolute",width:Math.max(6,Math.round(.09*d))+"px",height:Math.max(6,Math.round(.09*d))+"px",background:"#000",borderRadius:"50%",top:e,left:t}},"".concat(e,"-").concat(t));return(0,i.jsxs)("div",{onClick:()=>{if(p||!u||f)return;try{a&&a()}catch(t){console.debug("onDiceClick handler errored",t)}h(!0);r&&r();const e=setInterval(()=>{g(Math.floor(6*Math.random())+1)},100);setTimeout(()=>{clearInterval(e);const t=Math.floor(6*Math.random())+1;g(t),h(!1),setTimeout(()=>{n(t)},1e3)},800)},style:{width:d+"px",height:d+"px",background:f?"#ccc":"#fff",borderRadius:Math.max(8,Math.round(.12*d))+"px",border:"2px solid ".concat(f?"#999":s),boxShadow:f?"0 2px 4px rgba(0,0,0,0.3), inset 0 0 8px rgba(0,0,0,0.2)":u?"0 0 10px 3px ".concat(s):"0 2px 6px rgba(0,0,0,0.4)",position:"relative",cursor:f?"not-allowed":u?"pointer":"default",transition:"transform 0.2s ease, box-shadow 0.3s ease, background 0.3s ease",animation:y&&!f?"diceRoll 0.5s ease-in-out infinite":"none",display:"flex",justifyContent:"center",alignItems:"center",userSelect:"none",opacity:f?.6:1,zIndex:25},title:f?"\u23f3 Complete your token movement first":"Click to roll",children:[(0,i.jsx)("div",{style:{width:"100%",height:"100%",borderRadius:"10px",position:"relative"},children:(e=>{const t="18%",n="45%",r="72%",o="18%",a="72%";switch(e){case 1:return[v(n,n)];case 2:return[v(t,o),v(r,a)];case 3:return[v(t,o),v(n,n),v(r,a)];case 4:return[v(t,o),v(t,a),v(r,o),v(r,a)];case 5:return[v(t,o),v(t,a),v(n,n),v(r,o),v(r,a)];case 6:return[v(t,o),v(t,a),v(n,o),v(n,a),v(r,o),v(r,a)];default:return[]}})(m)}),(0,i.jsx)("style",{children:"\n          @keyframes diceRoll {\n            0% { transform: rotate(0deg) scale(1); }\n            25% { transform: rotate(90deg) scale(1.1); }\n            50% { transform: rotate(180deg) scale(1.15); }\n            75% { transform: rotate(270deg) scale(1.1); }\n            100% { transform: rotate(360deg) scale(1); }\n          }\n        "})]})}const st={blue:[201,186,171,156,141,125,124,123,122,121,120,105,90,91,92,93,94,95,81,66,51,36,21,6,7,8,23,38,53,68,83,99,100,101,102,103,104,119,134,133,132,131,130,129,143,158,173,188,203,218,217,202,187,172,157,142,127],red:[91,92,93,94,95,81,66,51,36,21,6,7,8,23,38,53,68,83,99,100,101,102,103,104,119,134,133,132,131,130,129,143,158,173,188,203,218,217,216,201,186,171,156,141,125,124,123,122,121,120,105,106,107,108,109,110,111],green:[23,38,53,68,83,99,100,101,102,103,104,119,134,133,132,131,130,129,143,158,173,188,203,218,217,216,201,186,171,156,141,125,124,123,122,121,120,105,90,91,92,93,94,95,81,66,51,36,21,6,7,22,37,52,67,82,97],yellow:[133,132,131,130,129,143,158,173,188,203,218,217,216,201,186,171,156,141,125,124,123,122,121,120,105,90,91,92,93,94,95,81,66,51,36,21,6,7,8,23,38,53,68,83,99,100,101,102,103,104,119,118,117,116,115,114,113]};function ct(e){return st[e]||[]}const ut=n.p+"static/media/red.49e87d4625573250f60d.png",dt=n.p+"static/media/green.e1be2318192f0dff613d.png",ft=n.p+"static/media/blue.f486903966a9b57f6ba9.png",pt=n.p+"static/media/yellow.7608397df9e6a81b5574.png",ht=n.p+"static/media/dice.6e65a853550d3bb710a1.mp3",mt=n.p+"static/media/game_start.eb6049e081c3bdaf68a0.mp3",gt=n.p+"static/media/game_over.f70154b6cda38501dd11.mp3",yt=n.p+"static/media/win.efbd58b0af1193f2725e.mp3",vt=n.p+"static/media/step_move.fd4754e9be6e49a27c7d.mp3",bt=n.p+"static/media/reach_home.0337dd8fe523f7961345.mp3",kt=n.p+"static/media/kill.88804b13896d8df4fbf6.mp3";const xt=new class{constructor(){this.soundPools={dice:[],gameStart:null,gameOver:null,win:null,stepMove:[],reachHome:null,killSounds:new Map},this.poolIndices={dice:0,stepMove:0}}setup(){console.log("\ud83d\udd0a Setting up audio..."),this.soundPools.dice=Array(8).fill(null).map(()=>{const e=new Audio(ht);return e.preload="auto",e.volume=1,e}),this.soundPools.stepMove=Array(15).fill(null).map(()=>{const e=new Audio(vt);return e.preload="auto",e.volume=1,e}),this.soundPools.gameStart=new Audio(mt),this.soundPools.gameStart.preload="auto",this.soundPools.gameStart.volume=1,this.soundPools.gameOver=new Audio(gt),this.soundPools.gameOver.preload="auto",this.soundPools.gameOver.volume=1,this.soundPools.win=new Audio(yt),this.soundPools.win.preload="auto",this.soundPools.win.volume=1,this.soundPools.reachHome=new Audio(bt),this.soundPools.reachHome.preload="auto",this.soundPools.reachHome.volume=1,console.log("\u2705 Audio setup complete")}play(e){try{if("dice"===e){const e=this.soundPools.dice,t=this.poolIndices.dice%e.length,n=e[t];this.poolIndices.dice=(t+1)%e.length,n&&(n.currentTime=0,n.play().catch(e=>console.log("Dice play error:",e)))}else if("stepMove"===e){const e=this.soundPools.stepMove,t=this.poolIndices.stepMove%e.length,n=e[t];this.poolIndices.stepMove=(t+1)%e.length,n&&(n.currentTime=0,n.play().catch(e=>console.log("Step play error:",e)))}else{const t=this.soundPools[e];t&&!Array.isArray(t)&&(t.currentTime=0,t.play().catch(t=>console.log("".concat(e," play error:"),t)))}}catch(t){console.log("Sound error:",t)}}playKill(e){try{this.stopKill(e);const t=new Audio(kt);t.loop=!0,t.volume=1,t.play().catch(e=>console.debug("Kill audio play blocked:",null===e||void 0===e?void 0:e.message)),this.soundPools.killSounds.set(e,t),console.log("\ud83d\udd0a Kill sound started for ".concat(e))}catch(t){console.warn("Failed to play kill sound:",null===t||void 0===t?void 0:t.message)}}stopKill(e){try{const n=this.soundPools.killSounds.get(e);if(n){n.pause();try{n.currentTime=0}catch(t){}this.soundPools.killSounds.delete(e),console.log("\ud83d\udd07 Kill sound stopped for ".concat(e))}}catch(t){console.warn("Failed to stop kill sound:",null===t||void 0===t?void 0:t.message)}}stopAllKills(){try{for(const t of this.soundPools.killSounds.values()){try{t.pause()}catch(e){}try{t.currentTime=0}catch(e){}}this.soundPools.killSounds.clear(),console.log("\ud83d\udd07 All kill sounds stopped")}catch(e){console.warn("Failed to stop all kill sounds:",null===e||void 0===e?void 0:e.message)}}setVolume(e){Object.keys(this.soundPools).forEach(t=>{const n=this.soundPools[t];Array.isArray(n)?n.forEach(t=>t.volume=e):n&&(n.volume=e)})}},wt=["zIndex"];function St(e){let{setScreen:t,players:n}=e;const r=(0,o.useMemo)(()=>[{id:1,color:"red",name:"Red",position:"top-left",token:ut},{id:2,color:"green",name:"Green",position:"top-right",token:dt},{id:3,color:"blue",name:"Blue",position:"bottom-left",token:ft},{id:4,color:"yellow",name:"Yellow",position:"bottom-right",token:pt}],[]),a=["blue","red","green","yellow"],l=["blue","green"],[s,c]=(0,o.useState)([]),[u,d]=(0,o.useState)(null),[f,h]=(0,o.useState)(!1),[m,g]=(0,o.useState)(0),[y,v]=(0,o.useState)(1),[b,x]=(0,o.useState)(!1),[w,S]=(0,o.useState)(0),[C,j]=(0,o.useState)({red:{tokens:[-1,-1,-1,-1]},green:{tokens:[-1,-1,-1,-1]},blue:{tokens:[-1,-1,-1,-1]},yellow:{tokens:[-1,-1,-1,-1]}}),[E,N]=(0,o.useState)([]),[T,_]=(0,o.useState)([]),[P,A]=(0,o.useState)([]),[R,O]=(0,o.useState)({}),[I,L]=(0,o.useState)(!1),[z,M]=(0,o.useState)(!1),[F,D]=(0,o.useState)(!1),U=(0,o.useRef)(1);(0,o.useEffect)(()=>{try{"true"===localStorage.getItem("disableAdminCheat")&&(h(!0),localStorage.removeItem("disableAdminCheat"))}catch(i){}let e;e=2===n?[r[2],r[1]]:3===n?[r[2],r[0],r[1]]:r;const t=2===n?l:a,o=e.sort((e,n)=>t.indexOf(e.color)-t.indexOf(n.color));c(o),g(0),S(0),j({red:{tokens:[-1,-1,-1,-1]},green:{tokens:[-1,-1,-1,-1]},blue:{tokens:[-1,-1,-1,-1]},yellow:{tokens:[-1,-1,-1,-1]}}),N([]),_([]),xt.play("gameStart")},[n,r]),(0,o.useEffect)(()=>{if(I){try{xt.stopAllKills()}catch(e){console.debug("stopAllKills failed",e)}const n=setTimeout(()=>{t("menu")},5e3);return()=>clearTimeout(n)}},[I,t]);const B=()=>{xt.play("dice")},H=(e,t)=>{var n,r;if(0===s.length)return;const o=s[m];let a=t||("number"===typeof e?e:Math.floor(6*Math.random())+1);console.log("[Game] rollDice -> roll:",a,"currentPlayer:",o&&o.color),v(a),U.current=a;const l=null!==(n=null===(r=C[o.color])||void 0===r?void 0:r.tokens)&&void 0!==n?n:[],i=ct(o.color)||[],c=l.map((e,t)=>{if(-1===e&&6===a)return{i:t};const n=i.indexOf(e);return-1!==n&&n+a<i.length?{i:t}:null}).filter(Boolean);if(console.log("[Game] movable tokens for",o&&o.color,":",c.map(e=>e.i)),0===c.length)return 6!==a&&setTimeout(()=>{g(e=>{let t=(e+1)%s.length;for(;P.includes(s[t].color);)t=(t+1)%s.length;return t})},600),S(0),void N([]);if(1===c.length){const e=c[0].i;return console.log("[Game] auto-moving only token",e,"for",o.color,"roll",a),void q(o.color,e,a)}if(P.includes(o.color)||N(c.map(e=>e.i)),6===a){const e=w+1;if(3===e)return alert("".concat(o.name," rolled 6 three times! Turn lost!")),N([]),S(0),void g(e=>{let t=(e+1)%s.length;for(;P.includes(s[t].color);)t=(t+1)%s.length;return t});S(e)}else S(0)},W=async(e,t,n,r)=>{const o=ct(e);let a=structuredClone(r);const l="".concat(e,"-token-").concat(t);console.log("[animateTokenKillReturn] Starting: color=".concat(e," token=").concat(t," killedAt=").concat(n)),xt.playKill(l);const i=o.indexOf(n);if(-1===i)return console.log("[animateTokenKillReturn] Position ".concat(n," not in path, sending to base")),a[e].tokens[t]=-1,j(structuredClone(a)),xt.stopKill(l),a;for(let s=i;s>=0;s--)a[e].tokens[t]=o[s],j(structuredClone(a)),console.log("[animateTokenKillReturn] Moved back to ".concat(o[s]," (index ").concat(s,")")),await new Promise(e=>setTimeout(e,150));return a[e].tokens[t]=-1,j(structuredClone(a)),console.log("[animateTokenKillReturn] Token returned to base"),xt.stopKill(l),a},q=async(e,t,n)=>{N([]),D(!0),console.log("[Game] playMove called: color=".concat(e," token=").concat(t," roll=").concat(n));let r=await(async(e,t,n)=>{const r=ct(e);let o=structuredClone(C);const a=o[e].tokens[t];if(console.log("[Game] animateTokenMove start: color=".concat(e," token=").concat(t," pos=").concat(a," roll=").concat(n)),-1===a&&6===n)return o[e].tokens[t]=r[0],j(structuredClone(o)),await new Promise(e=>setTimeout(e,280)),console.log("[Game] moved out from base -> now at ".concat(r[0])),o;const l=r.indexOf(a);if(-1===l)return o;for(let i=1;i<=n;i++){const a=l+i;if(a>=r.length)return console.log("[animateTokenMove] \ud83c\udfe0 Token reached HOME! nextIdx=".concat(a," >= path.length=").concat(r.length)),o[e].tokens[t]="".concat(e,"-HOME"),console.log('[animateTokenMove] Setting token to "'.concat(e,'-HOME", token array:'),o[e].tokens),j(structuredClone(o)),xt.play("reachHome"),await new Promise(e=>setTimeout(e,280)),console.log("[Game] token reached home for ".concat(e," token ").concat(t)),o;if(a===r.length-1)return o[e].tokens[t]=r[a],j(structuredClone(o)),console.log("[Game] stepped to ".concat(r[a]," (step ").concat(i,"/").concat(n,") - FINAL CELL")),xt.play("stepMove"),await new Promise(e=>setTimeout(e,280)),console.log("[animateTokenMove] \ud83c\udfe0 Final cell reached! Setting HOME marker"),o[e].tokens[t]="".concat(e,"-HOME"),j(structuredClone(o)),xt.play("reachHome"),await new Promise(e=>setTimeout(e,280)),o;o[e].tokens[t]=r[a],j(structuredClone(o)),console.log("[Game] stepped to ".concat(r[a]," (step ").concat(i,"/").concat(n,")")),xt.play("stepMove"),await new Promise(e=>setTimeout(e,280))}return o})(e,t,n);const o=r[e].tokens[t],a=ct(e)||[],l=a.length?a[a.length-1]:null;let i=!1,c=!1;console.log("[playMove] After animation: color=".concat(e,", tokenIndex=").concat(t,", currentPos=").concat(o,", type=").concat(typeof o,", lastPathCell=").concat(l,", path.length=").concat(a.length));const u="".concat(e,"-HOME");if(console.log('[playMove] Checking home: currentPos="'.concat(o,'" vs homeMarker="').concat(u,'", match=').concat(o===u)),o===u?(c=!0,console.log("\ud83c\udfe0 ".concat(e," token ").concat(t," reached HOME! Setting reachedHome=true"))):console.log("\ud83d\udccd Token at ".concat(o,", not home (expected: ").concat(u,")")),"number"===typeof o&&![201,122,91,36,23,102,133,188].includes(o)&&o!=={red:201,green:23,blue:91,yellow:122}[e])for(const s of Object.keys(r)){if(s===e)continue;const t=r[s].tokens.filter(e=>e===o).length;if(t>=2){console.log("\ud83d\udee1\ufe0f ".concat(s," has safe stack (").concat(t," tokens) at ").concat(o," - no kill allowed"));continue}const n=[],a=[];r[s].tokens.forEach((t,r)=>{t===o?(i=!0,console.log("\ud83d\udca5 ".concat(e," killed ").concat(s," at ").concat(o)),a.push({color:s,tokenIndex:r,killedAtPosition:o}),n.push(t)):n.push(t)}),r[s].tokens=n,a.forEach(e=>{W(e.color,e.tokenIndex,e.killedAtPosition,structuredClone(r))})}j(structuredClone(r)),console.log("[Game] playMove updated state for ".concat(e,":"),r[e].tokens);const d=r[e].tokens.every(t=>t==="".concat(e,"-HOME")||t===l);let f=[...P],p=k({},R);if(d&&!f.includes(e)){const t=f.length+1;f.push(e),p[e]=t,A(f),O(p),console.log("\ud83c\udfc6 ".concat(e," finished as position ").concat(t,"!")),1===t?(xt.play("win"),L(!0)):xt.play("gameOver")}const h=s.length,y=f;if(2!==h||1!==y.length){if(2===h&&2===y.length)return L(!0),void D(!1);if(3!==h||2!==y.length){if(3===h&&3===y.length)return L(!0),void D(!1);if(4!==h||3!==y.length){if(4===h&&4===y.length)return L(!0),void D(!1);if(console.log("[playMove] Extra turn check: roll=".concat(n,", didKill=").concat(i,", reachedHome=").concat(c,", playerFinished=").concat(d)),console.log("[playMove] Extra turn condition: (".concat(n," === 6) || ").concat(i," || (").concat(c," && !").concat(d,") = ").concat(6===n||i||c&&!d)),6===n||i||c&&!d)return console.log("\ud83c\udfaf\u2705 Extra turn GRANTED (6, kill, or home)",{roll:n,didKill:i,reachedHome:c,playerFinished:d}),(c||i)&&S(0),console.log("\ud83c\udfaf Staying with same player:",e),console.log("\ud83c\udfaf RETURNING EARLY - NOT SWITCHING TURN"),void D(!1);console.log("\u274c No extra turn condition met, switching turn"),console.log("\u23ed\ufe0f Normal turn switch: advancing from",m,"->",(m+1)%s.length),S(0),D(!1),g(e=>{let t=(e+1)%s.length;for(;P.includes(s[t].color);)t=(t+1)%s.length;return t})}else D(!1)}else D(!1)}else D(!1)},V={"bottom-left":[{bottom:"-12%",left:"-2%"},{bottom:"-12%",left:"-38%"},{bottom:"-48%",left:"-2%"},{bottom:"-48%",left:"-38%"}],"bottom-right":[{bottom:"-12%",right:"-9.5%"},{bottom:"-12%",right:"-45%"},{bottom:"-48%",right:"-9.5%"},{bottom:"-48%",right:"-45%"}],"top-left":[{top:"-2%",left:"-2%"},{top:"-2%",left:"-38%"},{top:"-38%",left:"-2%"},{top:"-38%",left:"-38%"}],"top-right":[{top:"-2%",right:"-10%"},{top:"-2%",right:"-45%"},{top:"-38%",right:"-10%"},{top:"-38%",right:"-45%"}]},$={"top-left":{top:"-530px",left:"-390px"},"top-right":{top:"-530px",right:"-390px"},"bottom-left":{bottom:"-565px",left:"-390px"},"bottom-right":{bottom:"-565px",right:"-390px"}},K={red:{leftPct:40,topPct:40},green:{leftPct:60,topPct:40},blue:{leftPct:40,topPct:60},yellow:{leftPct:60,topPct:60}},Q={red:{leftPct:-20,topPct:-20},green:{leftPct:120,topPct:-20},blue:{leftPct:-20,topPct:120},yellow:{leftPct:120,topPct:120}};return(0,i.jsxs)("div",{className:"game-container",style:{minHeight:"100vh",width:"100%",backgroundImage:"url(".concat(p,")"),backgroundSize:"cover",backgroundPosition:"center",display:"flex",justifyContent:"center",alignItems:"center",position:"relative",flexDirection:"column"},children:[(0,i.jsxs)("div",{style:{position:"absolute",top:25,left:25,zIndex:60},children:[(0,i.jsx)("button",{onClick:()=>x(e=>!e),style:{background:"#fff",color:"#000",border:"8px solid #000",borderRadius:"28px",padding:"28px 40px",cursor:"pointer",fontWeight:"600",fontSize:"2rem",lineHeight:1,display:"inline-flex",alignItems:"center",justifyContent:"center"},children:"\u2699\ufe0f Exit"}),b&&(0,i.jsxs)("div",{style:{marginTop:"12px",background:"rgba(255,255,255,0.98)",border:"3px solid #000",borderRadius:"14px",padding:"20px",width:"320px",boxShadow:"0 8px 24px rgba(0,0,0,0.45)"},children:[(0,i.jsx)("button",{onClick:()=>{window.confirm("End game?")&&t("menu")},style:{width:"100%",padding:"20px",marginBottom:14,background:"#e74c3c",color:"#fff",border:"none",borderRadius:14,fontSize:"1.25rem",fontWeight:800},children:"\ud83d\udd1a End Game"}),s.length>2&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("p",{style:{fontWeight:"bold",margin:"6px 0"},children:"Remove Player:"}),s.map(e=>(0,i.jsxs)("button",{onClick:()=>{if(!window.confirm("Remove ".concat(e.name,"?")))return;const n=s.filter(t=>t.color!==e.color);if(1===n.length)return alert("".concat(n[0].name.toUpperCase()," wins the game!")),t("menu");c(n),m>=n.length&&g(0),x(!1)},style:{width:"100%",padding:"18px",marginBottom:12,background:e.color,color:"#fff",border:"none",borderRadius:12,fontSize:"1.12rem",fontWeight:700},children:["Remove ",e.name]},e.color))]}),(0,i.jsx)("button",{onClick:()=>x(!1),style:{width:"100%",padding:"18px",background:"#ccc",borderRadius:12,fontSize:"1.12rem",fontWeight:800},children:"Resume"})]})]}),I&&(0,i.jsxs)("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"linear-gradient(135deg, #0f0c29 0%, #302b63 50%, #24243e 100%)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:2e3,animation:"fadeIn 0.5s ease-in"},children:[(0,i.jsx)("style",{children:"\n            @keyframes fadeIn {\n              from { opacity: 0; }\n              to { opacity: 1; }\n            }\n            @keyframes slideUp {\n              from { \n                opacity: 0; \n                transform: translateY(50px);\n              }\n              to { \n                opacity: 1; \n                transform: translateY(0);\n              }\n            }\n            @keyframes pulse {\n              0%, 100% { transform: scale(1); }\n              50% { transform: scale(1.05); }\n            }\n            @keyframes spin {\n              from { transform: rotateZ(0deg); }\n              to { transform: rotateZ(360deg); }\n            }\n            .winner-card {\n              animation: slideUp 0.6s ease-out forwards;\n            }\n            .winner-card:nth-child(1) { animation-delay: 0.1s; }\n            .winner-card:nth-child(2) { animation-delay: 0.3s; }\n            .winner-card:nth-child(3) { animation-delay: 0.5s; }\n            .medal {\n              font-size: 60px;\n              margin-bottom: 10px;\n              animation: pulse 2s ease-in-out infinite;\n            }\n            .medal:nth-child(1) { animation: spin 3s linear infinite; }\n          "}),(0,i.jsxs)("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",borderRadius:40,padding:120,textAlign:"center",color:"white",maxWidth:1200,boxShadow:"0 20px 60px rgba(0, 0, 0, 0.5), 0 0 60px rgba(102, 126, 234, 0.4)",border:"2px solid rgba(255, 255, 255, 0.2)",animation:"slideUp 0.6s ease-out"},children:[(0,i.jsxs)("div",{style:{marginBottom:80},children:[(0,i.jsx)("div",{style:{fontSize:200,marginBottom:30,animation:"spin 3s linear infinite"},children:"\ud83c\udfc6"}),(0,i.jsx)("h1",{style:{fontSize:100,marginBottom:15,textShadow:"0 4px 8px rgba(0,0,0,0.3)"},children:"GAME OVER!"}),(0,i.jsx)("p",{style:{fontSize:32,opacity:.9,marginTop:20},children:"\ud83c\udf89 Congratulations to our winners! \ud83c\udf89"})]}),(0,i.jsx)("div",{style:{marginBottom:40},children:P.length>0?P.map((e,t)=>{var n;const r=t+1,o={red:"#FF4444",green:"#00b000",blue:"#4444FF",yellow:"#ffff40"}[e]||"#999",a=["\ud83e\udd47","\ud83e\udd48","\ud83e\udd49"][t]||"\ud83c\udf96\ufe0f",l=s.find(t=>t.color===e);return(0,i.jsxs)("div",{className:"winner-card",style:{background:"".concat(o),border:"3px solid rgba(0,0,0,0.08)",borderRadius:20,padding:50,marginBottom:30,display:"flex",alignItems:"center",justifyContent:"space-between",boxShadow:"0 12px 30px rgba(0,0,0,0.35)",backdropFilter:"none",opacity:0,color:"yellow"===e?"#000":"#fff"},children:[(0,i.jsxs)("div",{style:{flex:1,textAlign:"left"},children:[(0,i.jsxs)("div",{style:{fontSize:24,opacity:.8,marginBottom:12},children:["POSITION ",r]}),(0,i.jsx)("div",{style:{fontSize:48,fontWeight:"bold",textTransform:"uppercase"},children:(null===l||void 0===l||null===(n=l.name)||void 0===n?void 0:n.toUpperCase())||"PLAYER"}),(0,i.jsx)("div",{style:{fontSize:22,marginTop:12,padding:"8px 16px",background:o,borderRadius:8,width:"fit-content",textTransform:"capitalize",color:"yellow"===e?"#000":"#fff"},children:e})]}),(0,i.jsx)("div",{className:"medal",style:{fontSize:140,marginBottom:0,animation:0===t?"spin 3s linear infinite":"pulse 2s ease-in-out infinite"},children:a})]},"winner-".concat(t))}):(0,i.jsx)("p",{style:{fontSize:16,opacity:.9},children:"No winners data."})}),(0,i.jsx)("button",{onClick:()=>t("menu"),style:{padding:"40px 100px",fontSize:32,fontWeight:"bold",background:"linear-gradient(135deg, #fff 0%, #f0f0f0 100%)",color:"#667eea",border:"none",borderRadius:16,cursor:"pointer",boxShadow:"0 8px 20px rgba(0, 0, 0, 0.3)",transition:"all 0.3s ease",textTransform:"uppercase",letterSpacing:2},onMouseOver:e=>{e.target.style.transform="translateY(-3px)",e.target.style.boxShadow="0 12px 25px rgba(0, 0, 0, 0.4)"},onMouseOut:e=>{e.target.style.transform="translateY(0)",e.target.style.boxShadow="0 8px 20px rgba(0, 0, 0, 0.3)"},children:"\ud83d\udd1a Leave Match"})]})]}),(0,i.jsxs)("div",{className:"board-container",style:{position:"relative",width:"min(80vw, 550px)",height:"min(80vw, 550px)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1},children:[(0,i.jsx)(lt,{players:s.map(e=>e.name)}),s.map((e,t)=>{const n=P.indexOf(e.color),r=-1!==n,o=s.length,a=!r&&P.length===o-1;let l="",c="",u="";if(r){const e=n+1;u=e<=3?["\ud83e\udd47","\ud83e\udd48","\ud83e\udd49"][e-1]:"\u2b50",l="#".concat(e),c=1===e?"linear-gradient(135deg, #FFD700, #FFA500)":2===e?"linear-gradient(135deg, #C0C0C0, #808080)":3===e?"linear-gradient(135deg, #CD7F32, #8B4513)":"linear-gradient(135deg, #87CEEB, #4169E1)"}else a&&(u="\u274c",l="LOSER",c="linear-gradient(135deg, #FF4444, #CC0000)");return(0,i.jsxs)("div",{style:k(k({},$[e.position]),{},{position:"absolute",display:"flex",flexDirection:"column",alignItems:"center",width:"100px",zIndex:50,opacity:t===m?1:.8}),children:[(0,i.jsx)("div",{style:{width:"100px",height:"100px",borderRadius:"50%",background:e.color,border:"4px solid white",boxShadow:"0 0 16px ".concat(e.color)}}),(0,i.jsx)("p",{style:{color:"#fff",fontWeight:"bold",marginTop:6},children:e.name}),l&&(0,i.jsxs)("div",{style:{background:c,color:"#000",fontWeight:"bold",fontSize:"0.9rem",padding:"4px 12px",borderRadius:"50px",border:"2px solid #000",marginTop:4,whiteSpace:"nowrap",textShadow:"1px 1px 2px rgba(255, 255, 255, 0.5)",animation:"pulse 1.5s infinite"},children:[u," ",l]})]},e.id)}),P.length>0&&s.map((e,t)=>{const n=P.indexOf(e.color);if(!(-1!==n))return null;let r="",o="",a="";s.length;const l=n+1;a=l<=3?["\ud83e\udd47","\ud83e\udd48","\ud83e\udd49"][l-1]:"\u2b50",r="WINNER ".concat(l),o=1===l?"linear-gradient(135deg, #FFD700, #FFA500)":2===l?"linear-gradient(135deg, #C0C0C0, #808080)":3===l?"linear-gradient(135deg, #CD7F32, #8B4513)":"linear-gradient(135deg, #87CEEB, #4169E1)";const c=Q[e.color],u=document.querySelector(".board-container");let d={};if(u){const e=u.getBoundingClientRect(),t=e.width*(c.leftPct/100),n=e.height*(c.topPct/100);d={left:"".concat(t,"px"),top:"".concat(n,"px"),transition:"left 0.25s ease, top 0.25s ease"}}return(0,i.jsx)("div",{style:k(k({position:"absolute"},d),{},{display:"flex",alignItems:"center",justifyContent:"center",zIndex:52,transform:"translate(-50%, -50%)"}),children:(0,i.jsxs)("div",{style:{background:o,color:"#000",fontWeight:"bold",fontSize:"1.6rem",padding:"10px 24px",borderRadius:"50px",border:"4px solid #000",boxShadow:"0 0 30px rgba(0, 0, 0, 0.5), 0 0 60px rgba(255, 255, 255, 0.3)",textAlign:"center",animation:"pulse 1.5s infinite",whiteSpace:"nowrap"},children:[a," ",r]})},"winner-".concat(e.id))}),s.map(e=>C[e.color].tokens.map((t,n)=>{var r,o;const a=e.color===(s[m]&&s[m].color),l=a&&E.includes(n);let c=V[e.position][n];if(t==="".concat(e.color,"-HOME")){const t=K[e.color],r=document.querySelector(".board-container");if(r){const e=r.getBoundingClientRect(),o=e.width*(t.leftPct/100),a=e.height*(t.topPct/100),l=10*n;c={left:"".concat(o+l,"px"),top:"".concat(a-l,"px"),transition:"left 0.25s ease, top 0.25s ease"}}}else if("number"===typeof t){const r=document.querySelector("[data-cell='".concat(t,"']")),o=document.querySelector(".board-container");if(r&&o){const l=r.getBoundingClientRect(),i=o.getBoundingClientRect(),u=[];s.forEach(e=>{C[e.color].tokens.forEach((n,r)=>{n===t&&u.push({color:e.color,tokenIndex:r})})});const d=u.findIndex(t=>t.color===e.color&&t.tokenIndex===n),f=(u.length,d%2*22),p=20*Math.floor(d/2);let h=30+d;a&&E.includes(n)&&(h=9999),c={left:"".concat(l.left-i.left+l.width/2+f,"px"),top:"".concat(l.top-i.top+l.height/2-p,"px"),transition:"left 0.25s ease, top 0.25s ease",zIndex:h}}}else c=V[e.position][n];const u=l?9999:null!==(r=null===(o=c)||void 0===o?void 0:o.zIndex)&&void 0!==r?r:30,d=c||{},{zIndex:f}=d,p=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(d,wt);return l&&console.log("\ud83d\udd35 Selectable token: color=".concat(e.color,", idx=").concat(n,", selectableTokens=").concat(E,", finalZIndex=").concat(u)),(0,i.jsx)("img",{src:e.token,onClick:t=>{t.stopPropagation(),((e,t)=>{0!==s.length&&e===s[m].color&&E.includes(t)&&q(e,t,U.current)})(e.color,n)},alt:"token",className:l?"selectable-token":"token",style:k(k({position:"absolute",width:"45px",height:"60px",transform:"translate(-50%, -50%)",cursor:l?"pointer":"default",opacity:a?1:.65,pointerEvents:"auto",filter:l?"drop-shadow(0 0 12px rgba(255, 255, 0, 0.9))":"drop-shadow(0 0 4px rgba(0, 0, 0, 0.3))",transition:"filter 0.2s ease, transform 0.2s ease"},p),{},{zIndex:u})},e.id+"-token-"+n)})),s.length>0&&(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{style:k({position:"absolute",zIndex:60},{"top-left":{top:"-98%",left:"-48%"},"top-right":{top:"-98%",right:"-48%"},"bottom-left":{bottom:"-98%",left:"-48%"},"bottom-right":{bottom:"-98%",right:"-48%"}}[s[m].position]),children:[(0,i.jsx)(it,{value:y,onRoll:H,onRollStart:B,isDiceAnimating:z,color:s[m].color,isActive:!0,size:120,isDisabled:E.length>0||F}),(E.length>0||F)&&(0,i.jsx)("div",{style:{position:"absolute",top:"-60px",left:"50%",transform:"translateX(-50%)",background:"linear-gradient(135deg, #FF6B6B, #FF4444)",color:"white",padding:"8px 16px",borderRadius:"20px",whiteSpace:"nowrap",fontSize:"12px",fontWeight:"bold",boxShadow:"0 4px 12px rgba(0,0,0,0.3)",zIndex:70,animation:"pulse 1.5s ease-in-out infinite"},children:E.length>0?"\ud83c\udfaf PICK A TOKEN":"\u23f3 MOVING..."})]})})]})]})}function Ct(e){let{svgRef:t,children:n,players:r=[],stackedSafeCells:a={}}=e;const l=85,s=(0,o.useMemo)(()=>({red:"#e74c3c",green:"#27ae60",blue:"#2980b9",yellow:"#f1c40f",white:"#ffffff",stroke:"#111111"}),[]),c=function(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return(0,i.jsx)("g",{pointerEvents:"none",children:(0,i.jsx)("rect",k({x:e*l,y:t*l,width:l,height:l,fill:n,stroke:s.stroke,strokeWidth:"1",shapeRendering:"crispEdges"},null!==o?{"data-cell":o}:{}))},r)},u=[],d=[{color:"red",x:0,y:0},{color:"green",x:765,y:0},{color:"blue",x:0,y:765},{color:"yellow",x:765,y:765}];d.forEach(e=>u.push((0,i.jsx)("rect",{x:e.x,y:e.y,width:510,height:510,fill:s[e.color],stroke:s.stroke,strokeWidth:"3",pointerEvents:"none"},"base-".concat(e.color))));for(let o=6;o<=8;o++)for(let e=0;e<15;e++){const t=15*o+e;u.push(c(e,o,s.white,"h-".concat(e,"-").concat(o),t))}for(let o=6;o<=8;o++)for(let e=0;e<15;e++){if(e>=6&&e<=8)continue;const t=15*e+o;u.push(c(o,e,s.white,"v-".concat(o,"-").concat(e),t))}for(let o=1;o<=5;o++)u.push(c(o,7,s.red,"hr-".concat(o)));for(let o=1;o<=5;o++)u.push(c(7,o,s.green,"hg-".concat(o)));for(let o=9;o<=13;o++)u.push(c(o,7,s.yellow,"hy-".concat(o)));for(let o=9;o<=13;o++)u.push(c(7,o,s.blue,"hb-".concat(o)));u.push(c(1,6,s.red,"startR")),u.push(c(8,1,s.green,"startG")),u.push(c(13,8,s.yellow,"startY")),u.push(c(6,13,s.blue,"startB"));[{c:2,r:8},{c:6,r:2},{c:8,r:12},{c:12,r:6}].forEach((e,t)=>{const n=e.c*l+42.5,r=e.r*l+42.5,o=.34*l;let a=-Math.PI/2,s="";for(let l=0;l<5;l++){let e=n+Math.cos(a)*o,t=r+Math.sin(a)*o;s+="".concat(0===l?"M":"L").concat(e,",").concat(t),a+=Math.PI/5,e=n+12.75*Math.cos(a),t=r+12.75*Math.sin(a),s+="L".concat(e,",").concat(t),a+=Math.PI/5}s+="Z",u.push((0,i.jsx)("path",{d:s,fill:"black",stroke:"black",pointerEvents:"none"},"safe-".concat(t)))});[{c:0,r:0,color:"red"},{c:9,r:0,color:"green"},{c:0,r:9,color:"blue"},{c:9,r:9,color:"yellow"}].forEach((e,t)=>{const n=(e.c+3)*l,r=(e.r+3)*l,o=2.3*l;[{x:n-o/2,y:r-o/2},{x:n+o/2,y:r-o/2},{x:n-o/2,y:r+o/2},{x:n+o/2,y:r+o/2}].forEach((n,r)=>u.push((0,i.jsx)("circle",{cx:n.x,cy:n.y,r:55.25,fill:"white",stroke:"black",strokeWidth:"2","data-base":e.color,"data-index":r,pointerEvents:"none"},"circle-".concat(t,"-").concat(r))))}),(r||[]).forEach(e=>{try{const t=d.find(t=>t.color===e.color);if(!t)return;const n=t.x+255,r=0===t.y?t.y+442:t.y+68,o=Math.max(14,Math.round(42.5)),a="yellow"===e.color?"#000":"#fff";u.push((0,i.jsx)("text",{x:n,y:r,fontSize:o,textAnchor:"middle",dominantBaseline:"middle",fill:a,fontWeight:"700",pointerEvents:"none",style:{userSelect:"none"},children:e.name||e.color},"label-".concat(e.color)))}catch(t){}});const f=510,p=510,h=765,m=765,g=637.5,y=637.5,v=[{points:"".concat(g,",").concat(y," ").concat(f,",").concat(p," ").concat(h,",").concat(p),fill:s.green},{points:"".concat(g,",").concat(y," ").concat(f,",").concat(p," ").concat(f,",").concat(m),fill:s.red},{points:"".concat(g,",").concat(y," ").concat(f,",").concat(m," ").concat(h,",").concat(m),fill:s.blue},{points:"".concat(g,",").concat(y," ").concat(h,",").concat(p," ").concat(h,",").concat(m),fill:s.yellow}],b=[];return Object.entries(a).forEach(e=>{let[t,n]=e;const r=document.querySelector('[data-cell="'.concat(t,'"]'));if(r){const e=parseFloat(r.getAttribute("x")),n=parseFloat(r.getAttribute("y")),o=parseFloat(r.getAttribute("width")),a=e+o/2,l=n+parseFloat(r.getAttribute("height"))/2;b.push((0,i.jsx)("circle",{cx:a,cy:l,r:.45*o,fill:"none",stroke:"#FFD700",strokeWidth:"4",opacity:"0.7",pointerEvents:"none",style:{animation:"pulse 1.5s infinite"}},"stacked-safe-".concat(t))),b.push((0,i.jsx)("text",{x:a,y:l,fontSize:"16",fontWeight:"bold",textAnchor:"middle",dominantBaseline:"middle",fill:"#FFD700",pointerEvents:"none",style:{textShadow:"2px 2px 4px rgba(0,0,0,0.5)"},children:"\ud83d\udee1\ufe0f"},"stacked-label-".concat(t)))}}),(0,i.jsxs)("div",{style:{width:"100%",height:"100%",position:"relative"},children:[(0,i.jsxs)("svg",{ref:t,viewBox:"0 0 ".concat(1275," ").concat(1275),style:{width:"100%",height:"100%",display:"block",border:"8px solid white",borderRadius:"10px",backgroundColor:"white",pointerEvents:"none",zIndex:1},children:[u,v.map((e,t)=>(0,i.jsx)("polygon",{points:e.points,fill:e.fill,pointerEvents:"none"},t)),b,(0,i.jsx)("g",{className:"tokens-layer",pointerEvents:"auto",children:n})]}),(0,i.jsx)("style",{children:"\n        @keyframes pulse {\n          0%, 100% { opacity: 0.7; }\n          50% { opacity: 1; }\n        }\n      "})]})}function jt(e){let{value:t=1,color:n="white",player:r="blue",isActive:a=!1,socket:l,roomId:s,onRoll:c,isAdmin:u=!1,selectedDiceValue:d=1,onSelectedValueChange:f=()=>{},showDiceCheatPanel:p=!1,onShowCheatPanel:h=()=>{}}=e;const[m,g]=(0,o.useState)(!1),[y,v]=(0,o.useState)(t),b=(0,o.useRef)(null),k=(0,o.useRef)(null),x=(0,o.useCallback)(()=>{b.current&&(clearInterval(b.current),b.current=null),k.current&&(clearTimeout(k.current),k.current=null),g(!1)},[]),w=(0,o.useCallback)(()=>{console.log("\ud83c\udfac startLocalAnimation called"),b.current&&clearInterval(b.current),b.current=setInterval(()=>{v(Math.floor(6*Math.random())+1)},80),console.log("\ud83c\udfac Setting rolling=true"),g(!0),k.current&&clearTimeout(k.current),k.current=setTimeout(()=>{console.log("\ud83c\udfac Fallback timeout clearing animation"),x()},1200)},[x]);(0,o.useEffect)(()=>{console.log("\ud83c\udfb2 isActive changed to ".concat(a))},[a]),(0,o.useEffect)(()=>{if(!l)return;console.debug("DiceOnline mounted: socket.id=".concat(l.id,", roomId=").concat(s));const e=e=>{let{roomCode:t,value:n}=e;t===s&&(console.log("\ud83c\udfb2 DiceOnline handleRoll: received diceRolled roomCode=".concat(t,", value=").concat(n,", localRoom=").concat(s)),console.log("\ud83c\udfb2 Calling startLocalAnimation from handleRoll"),w(),setTimeout(()=>{console.log("\ud83c\udfb2 handleRoll timeout firing - clearing animation and setting value=".concat(n)),x(),v(n),console.log("\u2705 DiceOnline animation complete, showing value=".concat(n))},1e3))};return l.on("diceRolled",e),()=>{l.off("diceRolled",e),b.current&&clearInterval(b.current),k.current&&clearTimeout(k.current)}},[l,s,x,w]);const S=(e,t)=>(0,i.jsx)("span",{style:{position:"absolute",width:"8px",height:"8px",background:"#000",borderRadius:"50%",top:e,left:t}},"".concat(e,"-").concat(t));return(0,i.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"10px",position:"relative"},children:[a&&(0,i.jsx)("div",{style:{position:"absolute",left:"-250%",top:"50%",transform:"translateY(-50%)",background:"rgba(0,0,0,0.8)",color:"#fff",padding:"8px 14px",borderRadius:10,fontWeight:900,fontSize:"2.25rem",letterSpacing:"0.6px",whiteSpace:"nowrap",pointerEvents:"none",zIndex:1e3},children:"YOUR TURN"}),(0,i.jsx)("div",{onClick:()=>{if(console.log("\ud83c\udfb2 handleRollClick called: rolling=".concat(m,", isActive=").concat(a,", diceDisabled=").concat(!a)),m)console.log("\ud83d\udeab Dice is still rolling, cannot click");else if(a)if(s){if(u)return h(!0),void console.log("\ud83c\udfaf Admin dice cheat panel opened");console.log("\ud83c\udfaf You rolled the dice (client), emitting to server:",s),w(),c?c():l.emit("rollDice",{roomCode:s})}else console.warn("\u26a0\ufe0f DiceOnline: Missing roomId \u2014 cannot roll dice!");else console.log("\ud83d\udeab Not your turn to roll! isActive is false, dice is frozen")},style:{width:"7vmin",height:"7vmin",background:"#fff",borderRadius:"10px",border:"3px solid ".concat(n),boxShadow:a?"0 0 15px 3px ".concat(n):"0 2px 6px rgba(0,0,0,0.4)",position:"relative",cursor:a?"pointer":"not-allowed",transition:m?"none":"transform 0.2s ease, box-shadow 0.3s ease",animation:m?"diceRoll 0.3s linear infinite":"none",display:"flex",justifyContent:"center",alignItems:"center",userSelect:"none"},children:(0,i.jsx)("div",{style:{width:"100%",height:"100%",borderRadius:"10px",position:"relative"},children:(e=>{const t="18%",n="45%",r="72%",o="18%",a="72%";switch(e){case 1:return[S(n,n)];case 2:return[S(t,o),S(r,a)];case 3:return[S(t,o),S(n,n),S(r,a)];case 4:return[S(t,o),S(t,a),S(r,o),S(r,a)];case 5:return[S(t,o),S(t,a),S(n,n),S(r,o),S(r,a)];case 6:return[S(t,o),S(t,a),S(n,o),S(n,a),S(r,o),S(r,a)];default:return[]}})(y)})}),u&&p&&(0,i.jsxs)("div",{style:{background:"linear-gradient(135deg, #FFD700 0%, #FFC700 100%)",padding:"15px 20px",borderRadius:"12px",border:"3px solid #FF6B6B",boxShadow:"0 8px 20px rgba(0,0,0,0.4), inset 0 1px 0 rgba(255,255,255,0.5)",display:"flex",flexDirection:"column",gap:"12px",alignItems:"center",minWidth:"280px",animation:"slideDown 0.3s ease-out"},children:[(0,i.jsx)("label",{style:{fontSize:"14px",fontWeight:"bold",color:"#C41E3A",textShadow:"1px 1px 2px rgba(255,255,255,0.8)",letterSpacing:"1px"},children:"\ud83d\udd13 SELECT DICE VALUE \ud83d\udd13"}),(0,i.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"8px",width:"100%"},children:[1,2,3,4,5,6].map(e=>(0,i.jsx)("button",{onClick:()=>f(e),style:{width:"100%",height:"50px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px",fontWeight:"bold",borderRadius:"8px",border:d===e?"3px solid #C41E3A":"2px solid #999",backgroundColor:d===e?"#FF6B6B":"#FFFFFF",color:d===e?"#FFFFFF":"#333",cursor:"pointer",transition:"all 0.2s ease",boxShadow:d===e?"0 4px 12px rgba(196, 30, 58, 0.5)":"0 2px 6px rgba(0,0,0,0.2)",transform:d===e?"scale(1.05)":"scale(1)",textShadow:d===e?"1px 1px 3px rgba(0,0,0,0.3)":"none"},onMouseEnter:t=>{d!==e&&(t.target.style.backgroundColor="#FFE4E1",t.target.style.transform="scale(1.05)")},onMouseLeave:t=>{d!==e&&(t.target.style.backgroundColor="#FFFFFF",t.target.style.transform="scale(1)")},children:e},e))}),(0,i.jsxs)("button",{onClick:()=>{console.log("\ud83c\udfaf Admin ROLL button clicked, calling onRoll callback"),w(),c?c():l.emit("rollDice",{roomCode:s,cheatValue:d,isAdminCheat:!0}),h(!1)},style:{width:"100%",padding:"10px 16px",fontSize:"16px",fontWeight:"bold",backgroundColor:"#C41E3A",color:"#FFFFFF",border:"none",borderRadius:"8px",cursor:"pointer",transition:"all 0.2s ease",boxShadow:"0 4px 12px rgba(196, 30, 58, 0.6)",textShadow:"1px 1px 2px rgba(0,0,0,0.3)",letterSpacing:"1px",marginTop:"4px"},onMouseEnter:e=>{e.target.style.backgroundColor="#A01830",e.target.style.boxShadow="0 6px 16px rgba(196, 30, 58, 0.8)",e.target.style.transform="translateY(-2px)"},onMouseLeave:e=>{e.target.style.backgroundColor="#C41E3A",e.target.style.boxShadow="0 4px 12px rgba(196, 30, 58, 0.6)",e.target.style.transform="translateY(0)"},children:["\ud83c\udfb2 ROLL DICE (",d,")"]}),(0,i.jsx)("button",{onClick:()=>h(!1),style:{width:"100%",padding:"8px 12px",fontSize:"12px",fontWeight:"bold",backgroundColor:"rgba(0,0,0,0.3)",color:"#333",border:"1px solid #999",borderRadius:"6px",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:e=>{e.target.style.backgroundColor="rgba(0,0,0,0.5)"},onMouseLeave:e=>{e.target.style.backgroundColor="rgba(0,0,0,0.3)"},children:"CANCEL"})]}),(0,i.jsx)("style",{children:"\n        @keyframes diceRoll {\n          0% { transform: rotate(0deg) scale(1); }\n          25% { transform: rotate(90deg) scale(1.1); }\n          50% { transform: rotate(180deg) scale(1.15); }\n          75% { transform: rotate(270deg) scale(1.1); }\n          100% { transform: rotate(360deg) scale(1); }\n        }\n\n        @keyframes slideDown {\n          0% {\n            opacity: 0;\n            transform: translateY(-15px);\n          }\n          100% {\n            opacity: 1;\n            transform: translateY(0);\n          }\n        }\n        "})]})}function Et(e){let{setScreen:t,roomCode:n,username:r}=e;const a=e=>l.find(t=>t.id===e)||null,[l,s]=(0,o.useState)([]),[c,u]=(0,o.useState)({red:{tokens:[-1,-1,-1,-1]},green:{tokens:[-1,-1,-1,-1]},blue:{tokens:[-1,-1,-1,-1]},yellow:{tokens:[-1,-1,-1,-1]}}),[d,f]=(0,o.useState)(null),[p,h]=(0,o.useState)(1),[m,g]=(0,o.useState)([]),[y,v]=(0,o.useState)(!1),[,b]=(0,o.useState)(0),[x,w]=(0,o.useState)(new Set),S=(0,o.useRef)(new Set),[C,j]=(0,o.useState)(!1),[E,N]=(0,o.useState)([]),[T,_]=(0,o.useState)(!1),[P,A]=(0,o.useState)({}),[R,O]=(0,o.useState)(!1),[I,L]=(0,o.useState)(!1),[z,M]=(0,o.useState)(1),[F,D]=(0,o.useState)(!1),U=(0,o.useRef)(1),B=(0,o.useRef)(null),[,H]=(0,o.useState)(null),W=(0,o.useRef)(null),q=(0,o.useRef)(null),V=(0,o.useRef)([]),$=(0,o.useRef)(!1),K=(0,o.useRef)(c),Q=(0,o.useRef)(null),J=(0,o.useRef)(!1),Y=(0,o.useRef)(null),G=1275,X=(0,o.useRef)(null),Z=(0,o.useRef)(null),[ee,te]=(0,o.useState)({}),[ne,re]=(0,o.useState)({});(0,o.useEffect)(()=>{W.current=d,V.current=l},[d,l]),(0,o.useEffect)(()=>{if(l.length>0)try{xt.play("gameStart")}catch(e){}},[l.length]),(0,o.useEffect)(()=>{S.current=x},[x]),(0,o.useEffect)(()=>{J.current=T},[T]),(0,o.useEffect)(()=>{const e=localStorage.getItem("user");if(e)try{const t=JSON.parse(e);["8264955651","9815957917","7528946929"].includes(t.phone)&&L(!0)}catch(t){console.warn("Failed to parse user data:",t)}},[]),(0,o.useEffect)(()=>{if(!n||!r)return;console.debug("GameOnline mounted: socket.id=".concat(Je.id,", roomCode=").concat(n,", username=").concat(r));try{Je.emit("ensureJoin",{roomCode:n,name:r}),console.debug("GameOnline: emitted ensureJoin for room",n,"name",r)}catch(d){console.warn("GameOnline: ensureJoin failed",d.message)}const e=e=>{const t=(e||[]).map(e=>({id:e.id,name:e.name,isHost:!!e.isHost,color:e.color,position:"red"===e.color?"top-left":"green"===e.color?"top-right":"yellow"===e.color?"bottom-right":"bottom-left",token:"red"===e.color?ut:"green"===e.color?dt:"yellow"===e.color?pt:ft}));let n=(e=>{if(!e||0===e.length)return[];const t=e.length;let n=["blue","red","green","yellow"];return 2===t?n=["blue","green"]:3===t&&(n=["blue","red","green"]),n.map(t=>e.find(e=>e.color===t)).filter(Boolean)})(t);n&&0!==n.length||(n=t),s(n);const r=n.find(e=>e.id===Je.id)||t.find(e=>e.id===Je.id);r&&(B.current=r.color,H(r.color)),n.length>0&&f(e=>e||n[0].id)},t=e=>{if(e&&(!e.roomCode||e.roomCode===n))try{var t,r;const n=e.players||[],o=function(){const e={};return((arguments.length>0&&void 0!==arguments[0]?arguments[0]:[])||[]).forEach(t=>{const n=[],r=[];Array.isArray(t.tokens)&&t.tokens.length?t.tokens.forEach(e=>{"object"===typeof e&&null!==e?(n.push("number"===typeof e.position?e.position:-1),r.push(!!e.isFinished)):(n.push("number"===typeof e?e:-1),r.push(!1))}):(n.push(-1,-1,-1,-1),r.push(!1,!1,!1,!1)),e[t.color]={id:t.id,name:t.name,color:t.color,tokens:n,finished:r}}),["blue","green","red","yellow"].forEach(t=>{e[t]||(e[t]={tokens:[-1,-1,-1,-1],finished:[!1,!1,!1,!1]})}),e}(n);console.log("\ud83c\udfae GameState received:",{players:n.map(e=>{var t;return{name:e.name,color:e.color,rawTokens:e.tokens,convertedTokens:null===(t=o[e.color])||void 0===t?void 0:t.tokens}}),dice:e.dice,turnId:null===(t=e.turn)||void 0===t?void 0:t.id,turnOrder:e.turnOrder||null}),u(e=>{if(!e)return o;const t=k({},o);try{const n=S.current||new Set;Object.keys(e).forEach(r=>{var o,a,l,i;const s=(null===(o=e[r])||void 0===o?void 0:o.tokens)||[],c=(null===(a=t[r])||void 0===a?void 0:a.tokens)||[],u=(null===(l=e[r])||void 0===l?void 0:l.finished)||[],d=(null===(i=t[r])||void 0===i?void 0:i.finished)||[];s.forEach((e,t)=>{const o="".concat(r,"-token-").concat(t);n.has(o)&&(c[t]=s[t],d[t]=u[t]||!1)}),t[r]?(t[r].tokens=c,t[r].finished=d):t[r]={tokens:c,finished:d}})}catch(d){console.warn("merge gameState failed:",d&&d.message)}return t});try{const t=e.players||[],n=Array.isArray(e.turnOrder)?e.turnOrder:null,r=t.map(e=>({id:e.id,name:e.name,isHost:!!e.isHost,color:e.color,position:"red"===e.color?"top-left":"green"===e.color?"top-right":"yellow"===e.color?"bottom-right":"bottom-left",token:"red"===e.color?ut:"green"===e.color?dt:"yellow"===e.color?pt:ft}));if(n&&n.length){console.log("Using server turnOrder:",n);const e=n.map(e=>r.find(t=>t.id===e)).filter(Boolean);if(e&&e.length){s(e);const t=e.find(e=>e.id===Je.id)||r.find(e=>e.id===Je.id);t&&(B.current=t.color,H(t.color))}}else{const e=r.length;let t=["blue","red","green","yellow"];2===e?t=["blue","green"]:3===e&&(t=["blue","red","green"]);const n=t.map(e=>r.find(t=>t.color===e)).filter(Boolean);if(n&&n.length){console.log("Using client-computed turnOrder by colors:",n.map(e=>e.color)),s(n);const e=n.find(e=>e.id===Je.id)||r.find(e=>e.id===Je.id);e&&(B.current=e.color,H(e.color))}}}catch(d){console.warn("reconcile turnOrder failed:",d&&d.message)}null!=e.dice&&(h(e.dice),U.current=e.dice);const a=(null===(r=e.turn)||void 0===r?void 0:r.id)||null;f(a),a!==Y.current&&(console.log("\ud83c\udfb2 Turn changed from ".concat(Y.current," to ").concat(a," - resetting diceRolled")),Y.current=a,_(!1))}catch(Pt){console.error("\u274c Error parsing gameState:",Pt)}},o=e=>{if(!e)return;if(e.roomCode&&e.roomCode!==n)return;console.log("\u2705 DICE ROLLED RECEIVED by ".concat(Je.id,": value=").concat(e.value),e),h(e.value),U.current=e.value;try{xt.play("dice")}catch(t){}if((e.roller||null)===Je.id){const t=V.current.find(e=>e.id===Je.id);if(t){if(console.log("\ud83c\udfb2 My roll, color: ".concat(t.color,", waiting for dice animation...")),e.isThreeSixPenalty)return console.log("\u26d4 THREE SIX PENALTY DETECTED - No moves allowed!"),O(!0),void g([]);setTimeout(()=>{try{q.current&&q.current(e.value,t.color)}catch(d){console.warn("processRoll failed:",d.message)}},650)}}},a=e=>{if(e&&(!e.roomId||e.roomId===n))try{const t=e.color,n=e.tokenId,r=e.from,o=e.to,a=300,l="".concat(t,"-token-").concat(n);try{const e=new Set(S.current||[]);e.add(l),S.current=e,w(new Set(e))}catch(d){console.warn("failed to mark moving token:",d&&d.message)}const i=Array.isArray(e.steps)&&e.steps.length?e.steps:(()=>{const e=[];for(let t=("number"===typeof r?r:-1)+1;t<=o;t++)e.push(t);return e})(),s=Array.isArray(e.positions)&&e.positions.length?e.positions:i.map(e=>{const n=ct(t)||[];if(-1===e)return{left:"12.5%",top:"12.5%"};const r=n[e];if("number"===typeof r&&Z.current){const e=Z.current.querySelector('[data-cell="'.concat(r,'"]'));if(e){const t=parseFloat(e.getAttribute("x")),n=parseFloat(e.getAttribute("y")),r=parseFloat(e.getAttribute("width")),o=parseFloat(e.getAttribute("height"));return{left:"".concat((t+r/2)/G*100,"%"),top:"".concat((n+o/2)/G*100,"%")}}}return{left:"12.5%",top:"12.5%"}}),c=ct(t)||[],u="number"===typeof o&&c.length&&o===c.length-1;s.forEach((e,r)=>{setTimeout(()=>{te(r=>k(k({},r||{}),{},{["".concat(t,"-token-").concat(n)]:e}));try{xt.play("stepMove")}catch(o){}if(u&&r===s.length-1)try{xt.play("reachHome")}catch(o){}},(r+1)*a)}),setTimeout(()=>{try{const e=new Set(S.current||[]);e.delete(l),S.current=e,w(new Set(e))}catch(d){console.warn("failed to clear moving token:",d&&d.message)}},s.length*a+50)}catch(d){console.warn("onPlayerMoved failed:",d&&d.message)}},l=e=>{e&&console.log("\u26a0\ufe0f Error:",e)},i=async e=>{if(e){console.log("\ud83c\udfac onTokenKilled called with data:",e);try{const{killedColor:t,killedToken:n,byColor:r,cell:o}=e;console.log("\ud83d\udc80 Token killed! ".concat(r," killed ").concat(t," token ").concat(n," at cell ").concat(o)),console.log("\u23f3 Waiting for killer token (".concat(r,") to finish moving..."));const a=Array.from(S.current||[]).find(e=>e.startsWith("".concat(r,"-token-")));a?await new Promise(e=>{const t=setInterval(()=>{(S.current||new Set).has(a)||(clearInterval(t),console.log("\u2705 Killer token finished moving. Now starting killed token animation..."),e())},50)}):console.log("\u2139\ufe0f Killer token is not currently moving");const l="".concat(t,"-").concat(n);xt.playKill(l),await new Promise(e=>setTimeout(e,100));const i=ct(t)||[];console.log("\ud83d\udccd Path for ".concat(t,":"),i);const s=i.indexOf(o);if(console.log("\ud83d\udccc Looking for cell ".concat(o," in path... found at index: ").concat(s)),-1===s)return console.log("[onTokenKilled] Cell ".concat(o," not in path, sending token directly to base")),void u(e=>k(k({},e),{},{[t]:k(k({},e[t]),{},{tokens:e[t].tokens.map((e,t)=>t===n?-1:e)})}));let c=structuredClone(K.current);console.log("\ud83d\udd04 Starting animation. Killed at index: ".concat(s,", will animate through ").concat(s+1," steps backwards"));for(let e=s;e>=0;e--){const r=i[e];console.log("\u270f\ufe0f Animation step ".concat(s-e+1,"/").concat(s+1,": Setting token to pathIdx ").concat(e," (cell ").concat(r,")")),c[t].tokens[n]=e,u(structuredClone(c)),console.log("\ud83d\udce2 setGameState called"),await new Promise(e=>setTimeout(e,150))}console.log("\ud83c\udfe0 Final step: Moving to home (-1)"),c[t].tokens[n]=-1,u(structuredClone(c)),console.log("\u2705 ".concat(t," token ").concat(n," returned to home")),xt.stopKill(l);try{const e=new Set(S.current||[]);Array.from(e).forEach(t=>{t.startsWith("".concat(r,"-token-"))&&e.delete(t)}),S.current=e,w(new Set(e))}catch(Pt){console.warn("cleanup movingTokens failed:",Pt&&Pt.message)}try{te(e=>{const o=k({},e||{});return delete o["".concat(t,"-token-").concat(n)],Object.keys(o).forEach(e=>{e.startsWith("".concat(r,"-token-"))&&delete o[e]}),o}),setTimeout(()=>{try{Q.current&&window.requestAnimationFrame(()=>{try{Q.current()}catch(Pt){console.warn("overlay recompute failed (rAF):",Pt&&Pt.message)}})}catch(Pt){console.warn("overlay recompute failed (delayed):",Pt&&Pt.message)}},80)}catch(Pt){console.warn("overlay cleanup failed:",Pt&&Pt.message)}}catch(d){console.error("onTokenKilled ERROR:",d),console.warn("onTokenKilled failed:",d&&d.message)}}},c=e=>{console.log("\ud83c\udfc6 gameEnded event received:",e),j(!0),N(e.winners||[]);try{xt.stopAllKills()}catch(t){}try{const t=B.current,n=e.winners&&e.winners[0]&&e.winners[0].playerColor||null;t&&n&&(t===n?xt.play("win"):xt.play("gameOver"))}catch(t){}if(e.matchId&&e.tournamentId)try{const t=(e.winners||[]).map((e,t)=>({position:t+1,player_id:e.playerId||e.player_id,player_name:e.playerName||e.player_name,color:e.playerColor}));console.log("\ud83d\udce4 Reporting match result:",{tournamentId:e.tournamentId,matchId:e.matchId,placements:t}),Je.emit("reportMatchResult",{tournamentId:e.tournamentId,matchId:e.matchId,placements:t})}catch(d){console.warn("Failed to report match result:",d&&d.message)}};return Je.on("roomUpdate",e),Je.on("gameState",t),Je.on("diceRolled",o),Je.on("playerMoved",a),Je.on("tokenKilled",i),Je.on("errorMessage",l),Je.on("gameEnded",c),()=>{xt.stopAllKills(),Je.off("roomUpdate",e),Je.off("gameState",t),Je.off("diceRolled",o),Je.off("playerMoved",a),Je.off("tokenKilled",i),Je.off("errorMessage",l),Je.off("gameEnded",c)}},[n,r,G]),(0,o.useEffect)(()=>{O(!1),g([])},[d]),(0,o.useEffect)(()=>{K.current=c},[c]),(0,o.useEffect)(()=>{A(e=>{const t=k({},e);let n=!1;return l.forEach(e=>{if(!t[e.color]){const r=c[e.color];if(r){if(r.tokens.every((t,n)=>t==="".concat(e.color,"-HOME")||r.finished&&r.finished[n])){const r=Object.keys(t).length+1;t[e.color]=r,console.log("\ud83c\udfc6 ".concat(e.color," finished as position ").concat(r,"!")),n=!0}}}}),n?t:e})},[c,l]);const oe=(0,o.useRef)({});(0,o.useEffect)(()=>{const e=oe.current,t=P;Object.keys(t).forEach(t=>{if(!e[t])if(t===B.current)try{xt.play("win")}catch(n){}else try{xt.play("gameOver")}catch(n){}}),oe.current=k({},t)},[P]);q.current=(e,t)=>{var r,o;let i=t;if(!i){const e=a(d);if(!e)return;i=e.color}const s=l.find(e=>e.id===d);if(!s||s.color!==i)return void console.log("\u26a0\ufe0f processRoll skipped: turn has already changed to another player");h(e),U.current=e;const u=(null===(r=c[i])||void 0===r?void 0:r.tokens)||[-1,-1,-1,-1],f=(null===(o=c[i])||void 0===o?void 0:o.finished)||[!1,!1,!1,!1],p=ct(i)||[],m=u.map((t,n)=>{if(f[n])return null;if(-1===t&&6===e)return{i:n};if(t>=0){return t+e<=p.length-1?{i:n}:null}return null}).filter(Boolean);if(console.log("\ud83d\udcca processRoll: ".concat(i," rolled ").concat(e,", movable tokens:"),m.map(e=>e.i)),0===m.length){console.log("\u23ed\ufe0f  No movable tokens, passing turn..."),g([]);const t=6===e;t||b(0);try{Je.emit("moveDone",{roomId:n,playerId:Je.id,tokenId:null,position:null,noExtraTurnOn6:t})}catch(y){console.warn("Failed to emit moveDone (pass):",y.message)}return console.log("\ud83d\udd13 PASS MOVE - Unfreezing dice (diceRolled = false)"),J.current=!1,void _(!1)}if(1===m.length)return console.log("\ud83c\udfaf Auto-moving only movable token: index ".concat(m[0].i)),void le(i,m[0].i);console.log("\ud83c\udfb2 Multiple movable tokens, showing options:",m.map(e=>e.i)),g(m.map(e=>e.i)),console.log("\ud83c\udfb2 Dice is frozen. User must select & move a token. diceRolledRef=".concat(J.current))};const ae=()=>{if(n)if(J.current){console.log("\ud83d\udeab Dice already rolled! Cannot roll again until token is moved.");try{xt.play("dice")}catch(e){}}else{try{xt.play("dice")}catch(e){}J.current=!0,console.log("\ud83c\udfb2 rollDice: Setting diceRolledRef.current = true (sync)"),_(!0),console.log("\ud83c\udfb2 rollDice: Calling setDiceRolled(true) for UI rendering"),I&&z?(console.log("\ud83c\udfaf Admin rolling dice with selected value:",z),Je.emit("rollDice",{roomCode:n,cheatValue:z,isAdminCheat:!0}),D(!1)):Je.emit("rollDice",{roomCode:n})}},le=(e,t)=>{var r,o;if(R)return void console.log("\ud83d\udeab requestMove blocked: 3-six penalty in effect - no moves allowed");if($.current)return void console.log("\ud83d\udeab requestMove ignored: move already in progress");if(((null===(r=c[e])||void 0===r?void 0:r.finished)||[!1,!1,!1,!1])[t])return void console.log("\ud83d\udeab requestMove ignored: token is finished",e,t);$.current=!0;const a=((null===(o=c[e])||void 0===o?void 0:o.tokens)||[-1,-1,-1,-1])[t],i=ct(e)||[];let s=-1;if(-1===a&&6===p?s=0:a>=0&&(s=a+p),-1===s)return console.warn("\u274c Invalid move for token",t,"color",e),$.current=!1,void g([]);const d=a>=0?i[a]:-1,f=s<i.length&&s>=0?i[s]:s>=i.length?"".concat(e,"-HOME"):-1;console.log("\ud83d\ude80 Moving ".concat(e," token ").concat(t,": pathIdx ").concat(a," \u2192 ").concat(s," (cells ").concat(d," \u2192 ").concat(f,")")),console.log("\ud83d\udce4 Emitting updateTokenPosition immediately for ".concat(e," token ").concat(t)),Je.emit("updateTokenPosition",{roomId:n,playerId:Je.id,tokenId:t,position:s});const h=s-(-1===a?-1:a),m=300,y=[];for(let n=(-1===a?-1:a)+1;n<=s;n++)y.push(n);const{cellCenters:v,basePercentCentersLocal:b}=(()=>{const e=Z.current;if(!e)return{};const t={};e.querySelectorAll("[data-cell]").forEach(e=>{const n=parseInt(e.getAttribute("data-cell"),10),r=parseFloat(e.getAttribute("x")),o=parseFloat(e.getAttribute("y")),a=parseFloat(e.getAttribute("width")),l=parseFloat(e.getAttribute("height"));isNaN(n)||(t[n]={left:"".concat((r+a/2)/G*100,"%"),top:"".concat((o+l/2)/G*100,"%")})});return{cellCenters:t,basePercentCentersLocal:ie}})(),x=y.map((n,r)=>{var o,a;const i=ct(e)||[];let s=-1;if(-1===n?s=-1:n>=0&&n<i.length&&(s=i[n]),s>=0&&v[s])return v[s];if(-1===s)return(null===(o=b[e])||void 0===o?void 0:o[t])||{left:"12.5%",top:"12.5%"};const c={"top-left":{left:"12%",top:"12%"},"top-right":{left:"88%",top:"12%"},"bottom-left":{left:"12%",top:"88%"},"bottom-right":{left:"88%",top:"88%"}}[(null===(a=l.find(t=>t.color===e))||void 0===a?void 0:a.position)||"bottom-left"],u=t%2===0?-2:2,d=t<2?-2:2;return{left:"calc(".concat(c.left," + ").concat(u,"%)"),top:"calc(".concat(c.top," + ").concat(d,"%)")}});try{Je.emit("announceMove",{roomId:n,playerId:Je.id,color:e,tokenId:t,from:a,to:s,steps:y,positions:x,dice:p})}catch(S){console.warn("announceMove emit failed:",S&&S.message)}for(let n=1;n<=h;n++)setTimeout(()=>{const r=(-1===a?-1:a)+n,o="".concat(e,"-token-").concat(t);w(e=>new Set([...e,o])),u(n=>k(k({},n),{},{[e]:k(k({},n[e]),{},{tokens:n[e].tokens.map((e,n)=>n===t?r:e)})})),setTimeout(()=>{w(e=>{const t=new Set(e);return t.delete(o),t})},m)},n*m);setTimeout(()=>{console.log("\u2705 Local animation complete for ".concat(e," token ").concat(t,", emitting moveDone")),Je.emit("moveDone",{roomId:n,playerId:Je.id,tokenId:t,position:s}),console.log("\ud83d\udd13 TOKEN MOVEMENT COMPLETE - Unfreezing dice (diceRolled = false)"),J.current=!1,_(!1),setTimeout(()=>{$.current=!1},100)},h*m+m),g([])};(0,o.useEffect)(()=>{console.log("selectableTokens updated:",m)},[m]);const ie=(()=>{l.length;return{red:[{left:"12.5%",top:"12.5%"},{left:"27.5%",top:"12.5%"},{left:"12.5%",top:"27.5%"},{left:"27.5%",top:"27.5%"}],green:[{left:"72.5%",top:"12.5%"},{left:"87.5%",top:"12.5%"},{left:"72.5%",top:"27.5%"},{left:"87.5%",top:"27.5%"}],blue:[{left:"12.5%",top:"72.5%"},{left:"27.5%",top:"72.5%"},{left:"12.5%",top:"87.5%"},{left:"27.5%",top:"87.5%"}],yellow:[{left:"72.5%",top:"72.5%"},{left:"87.5%",top:"72.5%"},{left:"72.5%",top:"87.5%"},{left:"87.5%",top:"87.5%"}]}})(),se=(0,o.useMemo)(()=>l.map(e=>{var t,n;const r=((null===(t=c[e.color])||void 0===t?void 0:t.tokens)||[-1,-1,-1,-1]).slice(0,4),o=((null===(n=c[e.color])||void 0===n?void 0:n.finished)||[!1,!1,!1,!1]).slice(0,4);return console.log("\ud83d\udccd Overlay for ".concat(e.color,":"),r,"finished:",o),{color:e.color,tokens:r,finished:o,img:e.token,basePosition:e.position,id:e.id,name:e.name}}),[l,c]);(0,o.useLayoutEffect)(()=>{const e=()=>{te((()=>{const e=Z.current,t=X.current;if(!e||!t)return{};const n={},r={};e.querySelectorAll("[data-cell]").forEach(e=>{const t=parseInt(e.getAttribute("data-cell"),10),n=parseFloat(e.getAttribute("x")),o=parseFloat(e.getAttribute("y")),a=parseFloat(e.getAttribute("width")),l=parseFloat(e.getAttribute("height"));isNaN(t)||(r[t]={left:"".concat((n+a/2)/G*100,"%"),top:"".concat((o+l/2)/G*100,"%")})});const o=e.querySelectorAll("[data-base]"),a={};o.forEach(e=>{const t=e.getAttribute("data-base"),n=parseInt(e.getAttribute("data-index"),10),r=parseFloat(e.getAttribute("cx")),o=parseFloat(e.getAttribute("cy"));if(t&&!isNaN(n)){a[t]||(a[t]=[]);const e=r/G*100,l=o/G*100;a[t][n]={left:"calc(".concat(e,"% + 5px)"),top:"calc(".concat(l,"% + 5px)")}}});const l={};se.forEach(e=>{const t=ct(e.color)||[];e.tokens.forEach((n,o)=>{const i="".concat(e.color,"-token-").concat(o);let s,c=-1;if(-1===n?c=-1:n>=0&&n<t.length&&(c=t[n]),c>=0&&r[c])s=r[c];else if(-1===c){var u;s=a[e.color]&&a[e.color][o]?a[e.color][o]:(null===(u=ie[e.color])||void 0===u?void 0:u[o])||{left:"12.5%",top:"12.5%"}}else{const t={"top-left":{left:"12%",top:"12%"},"top-right":{left:"88%",top:"12%"},"bottom-left":{left:"12%",top:"88%"},"bottom-right":{left:"88%",top:"88%"}}[e.basePosition],n=o%2===0?-2:2,r=o<2?-2:2;s={left:"calc(".concat(t.left," + ").concat(n,"%)"),top:"calc(".concat(t.top," + ").concat(r,"%)")}}l[i]=s})});const i={};return Object.entries(l).forEach(e=>{let[t,n]=e;const r="".concat(n.left,"-").concat(n.top);i[r]||(i[r]=[]),i[r].push(t)}),Object.values(i).forEach(e=>{e.length>1?e.forEach((t,r)=>{const o=l[t],a=parseFloat(o.left.toString()),i=parseFloat(o.top.toString()),s=[{x:-1.2,y:-1.2},{x:1.2,y:-1.2},{x:-1.2,y:1.2},{x:1.2,y:1.2}][r%4];n[t]={left:"calc(".concat(a,"% + ").concat(s.x,"%)"),top:"calc(".concat(i,"% + ").concat(s.y,"%)"),offsetData:{count:e.length,index:r}}}):e.forEach(e=>{n[e]=l[e]})}),console.log("GameOnline: computed overlay positions:",n),n})()),re((()=>{const e={};return se.forEach(t=>{const n=ct(t.color)||[],r={};t.tokens.forEach(e=>{if(-1!==e&&e>=0&&e<n.length){const t=n[e];r[t]=(r[t]||0)+1}}),Object.entries(r).forEach(n=>{let[r,o]=n;if(o>=2){const n=parseInt(r);e[n]||(e[n]={colors:[],count:0}),e[n].colors.push(t.color),e[n].count=o}})}),e})())};Q.current=e,e();const t=new ResizeObserver(()=>{try{window.requestAnimationFrame(()=>{try{e()}catch(t){}})}catch(t){try{e()}catch(Pt){}}});return X.current&&t.observe(X.current),window.addEventListener("resize",e),()=>{t.disconnect(),window.removeEventListener("resize",e)}},[se,G]);const ce=se;return(0,i.jsxs)("div",{className:"game-container",style:{minHeight:"100vh",width:"100%",backgroundImage:"url('/backgrounds/ludo-bg.png')",backgroundSize:"cover",backgroundPosition:"center",display:"flex",justifyContent:"center",alignItems:"center",position:"relative",flexDirection:"column"},children:[(0,i.jsxs)("div",{style:{position:"absolute",top:25,left:25,zIndex:1e3},children:[(0,i.jsx)("button",{onClick:()=>v(e=>!e),style:{background:"#fff",color:"#000",border:"8px solid #000",borderRadius:"28px",padding:"28px 40px",cursor:"pointer",fontWeight:600,fontSize:"2rem",lineHeight:1,display:"inline-flex",alignItems:"center",justifyContent:"center"},children:"\u2699\ufe0f Exit"}),y&&(0,i.jsxs)("div",{style:{marginTop:10,background:"rgba(255,255,255,0.98)",border:"9px solid #000",borderRadius:36,padding:36,width:660},children:[(0,i.jsx)("button",{onClick:()=>window.confirm("Leave multiplayer match?")&&t("menu"),style:{width:"100%",padding:30,marginBottom:24,background:"#e74c3c",color:"#fff",border:"none",borderRadius:24,fontSize:"1.25rem",fontWeight:800},children:"\ud83d\udd1a Leave Match"}),(0,i.jsx)("button",{onClick:()=>v(!1),style:{width:"100%",padding:30,background:"#ccc",borderRadius:18,fontSize:"1.12rem",fontWeight:800},children:"Resume"})]})]}),C&&(0,i.jsxs)("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"linear-gradient(135deg, #0f0c29 0%, #302b63 50%, #24243e 100%)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:2e3,animation:"fadeIn 0.5s ease-in"},children:[(0,i.jsx)("style",{children:"\n            @keyframes fadeIn {\n              from { opacity: 0; }\n              to { opacity: 1; }\n            }\n            @keyframes slideUp {\n              from { \n                opacity: 0; \n                transform: translateY(50px);\n              }\n              to { \n                opacity: 1; \n                transform: translateY(0);\n              }\n            }\n            @keyframes pulse {\n              0%, 100% { transform: scale(1); }\n              50% { transform: scale(1.05); }\n            }\n            @keyframes spin {\n              from { transform: rotateZ(0deg); }\n              to { transform: rotateZ(360deg); }\n            }\n            .winner-card {\n              animation: slideUp 0.6s ease-out forwards;\n            }\n            .winner-card:nth-child(1) { animation-delay: 0.1s; }\n            .winner-card:nth-child(2) { animation-delay: 0.3s; }\n            .winner-card:nth-child(3) { animation-delay: 0.5s; }\n            .medal {\n              font-size: 60px;\n              margin-bottom: 10px;\n              animation: pulse 2s ease-in-out infinite;\n            }\n            .medal:nth-child(1) { animation: spin 3s linear infinite; }\n          "}),(0,i.jsxs)("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",borderRadius:40,padding:120,textAlign:"center",color:"white",maxWidth:1200,boxShadow:"0 20px 60px rgba(0, 0, 0, 0.5), 0 0 60px rgba(102, 126, 234, 0.4)",border:"2px solid rgba(255, 255, 255, 0.2)",animation:"slideUp 0.6s ease-out"},children:[(0,i.jsxs)("div",{style:{marginBottom:80},children:[(0,i.jsx)("div",{style:{fontSize:200,marginBottom:30,animation:"spin 3s linear infinite"},children:"\ud83c\udfc6"}),(0,i.jsx)("h1",{style:{fontSize:100,marginBottom:15,textShadow:"0 4px 8px rgba(0,0,0,0.3)"},children:"GAME OVER!"}),(0,i.jsx)("p",{style:{fontSize:32,opacity:.9,marginTop:20},children:"\ud83c\udf89 Congratulations to our winners! \ud83c\udf89"})]}),(0,i.jsx)("div",{style:{marginBottom:40},children:Array.isArray(E)&&E.length>0?E.map((e,t)=>{const n={red:"#FF4444",green:"#00b000",blue:"#4444FF",yellow:"#ffff40"}[e.playerColor]||"#999",r=["\ud83e\udd47","\ud83e\udd48","\ud83e\udd49"][t]||"\ud83c\udf96\ufe0f";return(0,i.jsxs)("div",{className:"winner-card",style:{background:"".concat(n),border:"3px solid rgba(0,0,0,0.08)",borderRadius:20,padding:50,marginBottom:30,display:"flex",alignItems:"center",justifyContent:"space-between",boxShadow:"0 12px 30px rgba(0,0,0,0.35)",backdropFilter:"none",opacity:0,color:"yellow"===e.playerColor?"#000":"#fff"},children:[(0,i.jsxs)("div",{style:{flex:1,textAlign:"left"},children:[(0,i.jsxs)("div",{style:{fontSize:24,opacity:.8,marginBottom:12},children:["POSITION ",e.position]}),(0,i.jsx)("div",{style:{fontSize:48,fontWeight:"bold",textTransform:"uppercase"},children:e.playerName}),(0,i.jsx)("div",{style:{fontSize:22,marginTop:12,padding:"8px 16px",background:n,borderRadius:8,width:"fit-content",textTransform:"capitalize",color:"yellow"===e.playerColor?"#000":"#fff"},children:e.playerColor})]}),(0,i.jsx)("div",{className:"medal",style:{fontSize:140,marginBottom:0,animation:0===t?"spin 3s linear infinite":"pulse 2s ease-in-out infinite"},children:r})]},t)}):(0,i.jsx)("p",{style:{fontSize:16,opacity:.9},children:"No winners data."})}),(0,i.jsx)("button",{onClick:()=>t("menu"),style:{padding:"40px 100px",fontSize:32,fontWeight:"bold",background:"linear-gradient(135deg, #fff 0%, #f0f0f0 100%)",color:"#667eea",border:"none",borderRadius:16,cursor:"pointer",boxShadow:"0 8px 20px rgba(0, 0, 0, 0.3)",transition:"all 0.3s ease",textTransform:"uppercase",letterSpacing:2},onMouseOver:e=>{e.target.style.transform="translateY(-3px)",e.target.style.boxShadow="0 12px 25px rgba(0, 0, 0, 0.4)"},onMouseOut:e=>{e.target.style.transform="translateY(0)",e.target.style.boxShadow="0 8px 20px rgba(0, 0, 0, 0.3)"},children:"Back to Menu"})]})]}),(0,i.jsxs)("div",{className:"board-container",ref:X,style:{position:"relative",width:"min(100vw, 1250px)",height:"min(100vw, 1250px)",display:"flex",justifyContent:"center",alignItems:"center",overflow:"visible"},children:[(0,i.jsx)("div",{style:{width:"100%",height:"100%",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,i.jsx)(Ct,{svgRef:Z,players:ce,stackedSafeCells:ne})}),Object.entries(P).map(e=>{let[t,n]=e;const r=l.find(e=>e.color===t);if(!r)return null;const o=n<=3?["\ud83e\udd47","\ud83e\udd48","\ud83e\udd49"][n-1]:"\u2b50";let a="";a=1===n?"linear-gradient(135deg, #FFD700, #FFA500)":2===n?"linear-gradient(135deg, #C0C0C0, #808080)":3===n?"linear-gradient(135deg, #CD7F32, #8B4513)":"linear-gradient(135deg, #87CEEB, #4169E1)";const s={"top-left":{left:"20%",top:"20%"},"top-right":{left:"80%",top:"20%"},"bottom-left":{left:"20%",top:"80%"},"bottom-right":{left:"80%",top:"80%"}},c=s[r.position]||s["bottom-left"];return(0,i.jsx)("div",{style:k(k({position:"absolute"},c),{},{transform:"translate(-50%, -50%)",zIndex:500}),children:(0,i.jsxs)("div",{style:{background:a,color:"#000",fontWeight:"bold",fontSize:"2rem",padding:"20px 40px",borderRadius:"60px",border:"5px solid #000",boxShadow:"0 0 30px rgba(0, 0, 0, 0.5), 0 0 60px rgba(255, 255, 255, 0.3)",textAlign:"center",animation:"pulse 1.5s infinite",whiteSpace:"nowrap"},children:[o," Winner ",n]})},"winner-badge-".concat(t))}),ce.map(e=>e.tokens.map((t,n)=>{const r="".concat(e.color,"-token-").concat(n),o=ee[r]||{},s={left:o.left,top:o.top},u=o.offsetData||{},d=e.id===Je.id,f=!!(!e.finished||!e.finished[n])&&d&&m.includes(n),p=x.has(r),h=u.count||1,g=u.index||0,y=h>1?Math.max(50*(1-.15*(h-1)),28):50,v=f?1e3:300+g;return(0,i.jsx)("img",{className:"token ".concat(f?"selectable-token":""," ").concat(p?"token-moving":""),src:e.img,alt:"token",onClick:t=>{t.stopPropagation(),((e,t)=>{var n;if(R)return void console.log("\ud83d\udeab handleTokenClick blocked: 3-six penalty in effect - no moves allowed");const r=a(Je.id)||l.find(e=>e.id===Je.id);if(!r)return;if($.current)return;((null===(n=c[e])||void 0===n?void 0:n.finished)||[!1,!1,!1,!1])[t]||m.includes(t)&&(console.log("handleTokenClick: ownerIsMe=",r,"idx=",t,"selectableTokens=",m),le(e,t))})(e.color,n)},style:{position:"absolute",width:y,height:1.28*y,transform:"translate(-50%, -50%)",cursor:f?"pointer":"default",opacity:d?1:.9,zIndex:v,pointerEvents:C?"none":"auto",visibility:C?"hidden":"visible",left:s.left,top:s.top,borderRadius:"50%",transition:"left 0.14s ease, top 0.14s ease, width 0.2s ease, height 0.2s ease",filter:h>1?"drop-shadow(0 0 ".concat(3+g,"px rgba(0,0,0,0.4))"):"none",border:f?"3px solid gold":h>1?"2px solid rgba(0,0,0,0.2)":"none"}},r)})),l.length>0&&(()=>{const e=a(d),t=d===Je.id;return(0,i.jsx)("div",{style:{position:"absolute",zIndex:700,transform:"translate(-50%, -50%) scale(1.1)",left:"50%",bottom:"-350px",pointerEvents:"auto"},children:(()=>{const r=t&&!T;return console.log("\ud83c\udfb2 Rendering DiceOnline: isMyTurn=".concat(t,", diceRolled=").concat(T,", isActive=").concat(r)),(0,i.jsx)(jt,{value:p,onRoll:ae,color:(null===e||void 0===e?void 0:e.color)||"white",isActive:r,player:(null===e||void 0===e?void 0:e.color)||"white",socket:Je,roomId:(null===n||void 0===n?void 0:n.toString())||"",isAdmin:I,selectedDiceValue:z,onSelectedValueChange:M,showDiceCheatPanel:F,onShowCheatPanel:D})})()})})()]})]})}const Nt=e=>{let{setScreen:t,setRoomCode:n,username:r}=e;const[a,l]=(0,o.useState)("");(0,o.useEffect)(()=>(console.log("\ud83d\udd04 Mounting JoinRoom \u2014 clearing listeners"),Je.removeAllListeners(),Je.on("roomCreated",e=>{console.log("\u2705 ROOM CREATED EVENT RECEIVED:",e),e&&e.roomCode?(n(e.roomCode),console.log("\ud83d\udd04 Setting roomCode and navigating to roomLobby:",e.roomCode),t("roomLobby")):console.error("\u274c roomCreated missing roomCode:",e)}),Je.on("roomJoined",e=>{console.log("\u2705 ROOM JOINED EVENT RECEIVED:",e),e&&e.roomCode?(n(e.roomCode),console.log("\ud83d\udd04 Setting roomCode and navigating to roomLobby:",e.roomCode),t("roomLobby")):console.error("\u274c roomJoined missing roomCode:",e)}),Je.on("errorMessage",e=>alert(e)),()=>{console.log("\u267b\ufe0f Unmounting JoinRoom \u2014 removing listeners"),Je.removeAllListeners()}),[]);return(0,i.jsx)("div",{className:"joinroom-container",children:(0,i.jsxs)("div",{className:"joinroom-card",children:[(0,i.jsx)("h1",{className:"joinroom-title",children:"JOIN OR CREATE ROOM"}),(0,i.jsx)("img",{src:u,alt:"Ludo Board",className:"joinroom-img"}),(0,i.jsx)("input",{type:"text",className:"joinroom-input",placeholder:"Enter Room Code",value:a,onChange:e=>l(e.target.value.toUpperCase())}),(0,i.jsx)("button",{className:"join-btn",onClick:()=>{if(!r)return alert("Enter name!");if(!a)return alert("Enter code!");const e=a.toUpperCase();console.log("\ud83d\udce4 Sending JOIN:",e),Je.emit("joinRoom",{username:r,roomCode:e})},children:"\ud83c\udfae JOIN NOW"}),(0,i.jsx)("button",{className:"create-btn",onClick:()=>{if(!r)return alert("Enter name!");const e=Math.random().toString(36).substr(2,6).toUpperCase();console.log("\ud83d\udce4 Sending CREATE:",e),Je.emit("createRoom",{username:r,roomCode:e})},children:"\u2728 CREATE NEW ROOM"}),(0,i.jsx)("button",{className:"back-btn",onClick:()=>t("menu"),children:"\u2b05 BACK"})]})})},Tt=e=>{let{setScreen:t,username:n,roomCode:r}=e;const[a,l]=(0,o.useState)([]),[s,c]=(0,o.useState)(!1),[u,d]=(0,o.useState)(null);(0,o.useEffect)(()=>(console.log("\ud83c\udfe0 RoomLobby mounted, roomCode:",r,"socket.id:",Je.id),Je.removeAllListeners("roomUpdate"),Je.removeAllListeners("matchStarted"),Je.removeAllListeners("startMatch"),Je.removeAllListeners("matchWillStart"),Je.on("roomUpdate",e=>{console.log("\ud83d\udcca roomUpdate received:",e),l(e||[]);const t=null===e||void 0===e?void 0:e.find(e=>e.id===Je.id);console.log("\ud83d\udc64 Me:",t,"isHost:",null===t||void 0===t?void 0:t.isHost),c((null===t||void 0===t?void 0:t.isHost)||!1)}),Je.on("matchStarted",()=>{console.log("\ud83c\udfae matchStarted received, navigating to game"),t("game")}),Je.on("matchWillStart",e=>{console.log("\u23f1\ufe0f matchWillStart countdown:",null===e||void 0===e?void 0:e.countdown),d((null===e||void 0===e?void 0:e.countdown)||5)}),Je.on("startMatch",e=>{console.log("\ud83d\ude80 startMatch received from server, starting game"),Je.emit("startMatch",k({roomCode:r},e))}),()=>{console.log("\u267b\ufe0f RoomLobby unmounting, removing listeners"),Je.removeAllListeners("roomUpdate"),Je.removeAllListeners("matchStarted"),Je.removeAllListeners("startMatch"),Je.removeAllListeners("matchWillStart")}),[t,r]);return(0,i.jsx)("div",{className:"lobby-container",children:(0,i.jsxs)("div",{className:"lobby-box",children:[(0,i.jsx)("h1",{className:"lobby-title",children:"Quantum Ludo"}),(0,i.jsxs)("p",{className:"room-code",children:["Room Code: ",(0,i.jsx)("span",{children:r})]}),(0,i.jsxs)("div",{className:"player-list",children:[(0,i.jsx)("h2",{children:"Players Joined"}),(0,i.jsx)("ul",{children:a.map(e=>(0,i.jsxs)("li",{children:[e.name," ",e.isHost?"(Host)":""]},e.id))})]}),(0,i.jsxs)("div",{className:"lobby-buttons",children:[(0,i.jsx)("button",{className:"start-btn ".concat(!s||a.length<2?"disabled":""),disabled:!s||a.length<2,onClick:()=>s?a.length<2?alert("Need 2 players!"):void Je.emit("startMatch",r):alert("Only host can start!"),children:"\ud83d\ude80 Start Match"}),(0,i.jsx)("button",{className:"back-btn",onClick:()=>t("joinRoom"),children:"\u2b05 Back"}),null!==u&&(0,i.jsxs)("div",{style:{textAlign:"center",color:"#ffff00",fontSize:18,marginTop:15,fontWeight:"bold"},children:["\u23f1\ufe0f Match starting in ",u," seconds..."]})]})]})})};const _t=function(){const[e,t]=(0,o.useState)("login"),[n,r]=(0,o.useState)(2),[a,l]=(0,o.useState)([]);(0,o.useEffect)(()=>{xt.setup()},[]);const[u,d]=(0,o.useState)(""),[p,g]=(0,o.useState)(""),[y,v]=(0,o.useState)(null),[b,k]=(0,o.useState)(""),j=(0,o.useRef)(!1);return(0,o.useEffect)(()=>{const e=localStorage.getItem("username");e&&(k(e),t("menu"))},[]),(0,o.useEffect)(()=>{const e=e=>{if(!e)return;const{roomCode:n,matchId:r}=e;console.log("Auto-join match room received:",e),d(n),t("roomLobby");try{Je.emit("confirmJoinMatch",{roomCode:n,matchId:r})}catch(o){console.warn("confirmJoinMatch emit failed:",o&&o.message)}},n=e=>{console.log("matchScheduled",e)};Je.on("joinMatchRoom",e),Je.on("matchScheduled",n);const r=e=>{if(e&&e.tournament){console.log("joinedTournament",e),v(e.tournament),g(e.tournament.id);try{const t=localStorage.getItem("myTournaments")||"[]",n=JSON.parse(t);if(!(Array.isArray(n)&&n.find(t=>t.id===e.tournament.id))){const t={id:e.tournament.id,name:e.tournament.name||e.tournament.id,status:e.tournament.status||"waiting",created_at:e.tournament.created_at||(new Date).toISOString(),total_players:e.tournament.total_players||e.tournament.totalPlayers||null};n.push(t),localStorage.setItem("myTournaments",JSON.stringify(n))}}catch(n){console.warn("persist myTournaments failed",n&&n.message)}if(j.current)return j.current=!1,void t("myTournaments");t("tournamentLobby")}},o=e=>{j.current=!0},a=e=>{e&&e.tournament&&v(e.tournament)};return Je.on("joinedTournament",r),Je.on("specialKeyAccepted",o),Je.on("tournamentUpdate",a),()=>{Je.off("joinMatchRoom",e),Je.off("matchScheduled",n),Je.off("joinedTournament",r),Je.off("specialKeyAccepted",o),Je.off("tournamentUpdate",a)}},[t]),(0,i.jsxs)(i.Fragment,{children:["login"===e&&(0,i.jsx)(s,{setScreen:t}),"register"===e&&(0,i.jsx)(c,{setScreen:t}),"menu"===e&&(0,i.jsx)(f,{setScreen:t}),"profile"===e&&(0,i.jsx)(h,{setScreen:t}),"history"===e&&(0,i.jsx)(m,{setScreen:t}),"serverSettings"===e&&(0,i.jsx)(w,{}),"contact"===e&&(0,i.jsx)(x,{setScreen:t}),"localPlay"===e&&(0,i.jsx)(S,{setScreen:t,setPlayers:r,setRoomCode:d}),"tournament"===e&&(0,i.jsx)(C,{setScreen:t}),"tournamentUpcoming"===e&&(0,i.jsx)(Ye,{setScreen:t,setTournamentId:g}),"key"===e&&(0,i.jsx)(Ge,{tournamentId:p,setScreen:t}),"generateKey"===e&&(0,i.jsx)(Xe,{setScreen:t}),"myTournaments"===e&&(0,i.jsx)(Ze,{setScreen:t,setTournamentId:g,setCurrentTournament:v}),"createTournament"===e&&(0,i.jsx)(et,{setScreen:t}),"adminTournamentDashboard"===e&&(0,i.jsx)(nt,{setScreen:t,tournamentId:p,setTournamentId:g}),"ongoTournament"===e&&(0,i.jsx)(rt,{setScreen:t,tournamentId:p}),"joinTournamentByCode"===e&&(0,i.jsx)(ot,{setScreen:t}),"joinMatchByCode"===e&&(0,i.jsx)(at,{setScreen:t,setRoomCode:d}),"tournamentLobby"===e&&(0,i.jsx)(tt,{setScreen:t,tournament:y,tournamentId:p}),"joinRoom"===e&&(0,i.jsx)(Nt,{setScreen:t,username:b,setRoomCode:d}),"roomLobby"===e&&(0,i.jsx)(Tt,{setScreen:t,username:b,roomCode:u},u),"game"===e&&(u?(0,i.jsx)(Et,{setScreen:t,roomCode:u,username:b}):(0,i.jsx)(St,{setScreen:t,players:n,joinedPlayers:a,username:b}))]})};a.createRoot(document.getElementById("root")).render((0,i.jsx)(o.StrictMode,{children:(0,i.jsx)(_t,{})}))})();
//# sourceMappingURL=main.03f15270.js.map